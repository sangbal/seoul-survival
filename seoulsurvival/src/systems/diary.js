/**
 * Seoul Survival - Diary System
 *
 * ê²Œì„ì˜ ì¼ê¸°ì¥ ì‹œìŠ¤í…œ
 * - ê²Œì„ ì´ë²¤íŠ¸ë¥¼ ì¼ê¸°ì¥ í˜•ì‹ìœ¼ë¡œ ë³€í™˜
 * - ë‹¤ì–‘í•œ ë…ë°± ìŠ¤íƒ€ì¼ ì œê³µ
 * - ì‹œê°„ ìŠ¤íƒ¬í”„ ë° ë©”íƒ€ë°ì´í„° ê´€ë¦¬
 */

import { t, getLang } from '../i18n/index.js'

// ======= DOM ì°¸ì¡° =======
let elLog = null

// ======= ê²Œì„ ì‹œê°„ ì°¸ì¡° (main.jsì—ì„œ ì„¤ì •) =======
let gameStartTimeRef = null
let sessionStartTimeRef = null

/**
 * ì¼ê¸°ì¥ ì‹œìŠ¤í…œ ì´ˆê¸°í™”
 * @param {HTMLElement} logElement - ì¼ê¸°ì¥ DOM ìš”ì†Œ
 * @param {Object} timeRefs - ê²Œì„ ì‹œê°„ ì°¸ì¡° ê°ì²´
 * @param {number} timeRefs.gameStartTimeRef.gameStartTime - ê²Œì„ ì‹œì‘ ì‹œê°„
 * @param {number} timeRefs.sessionStartTimeRef - ì„¸ì…˜ ì‹œì‘ ì‹œê°„
 */
export function initDiary(logElement, timeRefs) {
  elLog = logElement
  gameStartTimeRef = timeRefs
  sessionStartTimeRef = timeRefs.sessionStartTime
}

/**
 * ì¼ê¸°ì¥ì— ë¡œê·¸ ì¶”ê°€
 * @param {string} text - ì¶”ê°€í•  ë¡œê·¸ í…ìŠ¤íŠ¸
 */
export function addLog(text) {
  // ì´ˆê¸°í™” ì „ì— í˜¸ì¶œë˜ë©´ ì¡°ìš©íˆ ë¬´ì‹œ (ê²Œì„ ì‹œì‘ ì‹œ íƒ€ì´ë° ì´ìŠˆ)
  if (!elLog || !gameStartTimeRef) {
    return
  }

  // ê°œë°œ/ë””ë²„ê¹… ê´€ë ¨ ë©”ì‹œì§€ í•„í„°ë§
  const devKeywords = [
    'ğŸ§ª',
    'v2.',
    'v3.',
    'Cookie Clicker',
    'ì—…ê·¸ë ˆì´ë“œ ì‹œìŠ¤í…œ',
    'DOM ì°¸ì¡°',
    'ì„±ëŠ¥ ìµœì í™”',
    'ìë™ ì €ì¥ ì‹œìŠ¤í…œ',
    'ì—…ê·¸ë ˆì´ë“œ í´ë¦­',
    'ì»¤ë¦¬ì–´ ì§„í–‰ë¥ ',
    'êµ¬í˜„ ì™„ë£Œ',
    'ìˆ˜ì • ì™„ë£Œ',
    'ì •ìƒí™”',
    'ì‘ë™ ì¤‘',
    'í™œì„±í™”',
    'í•´ê²°',
    'ë²„ê·¸ ìˆ˜ì •',
    'ìµœì í™”',
    'ê°œí¸',
    'ë²¤ì¹˜ë§ˆí‚¹',
  ]

  // ê°œë°œ ê´€ë ¨ ë©”ì‹œì§€ì¸ì§€ í™•ì¸
  const isDevMessage = devKeywords.some(keyword => text.includes(keyword))

  // ê°œë°œ ë©”ì‹œì§€ëŠ” ë¡œê·¸ì— í‘œì‹œí•˜ì§€ ì•ŠìŒ
  if (isDevMessage) {
    return
  }

  // ======= ì¼ê¸°ì¥ ë³€í™˜ =======
  const pad2 = n => String(n).padStart(2, '0')
  const now = new Date()
  const timeStamp = `${pad2(now.getHours())}:${pad2(now.getMinutes())}`

  function updateDiaryMeta() {
    if (!gameStartTimeRef) {
      return
    }

    const y = now.getFullYear()
    const m = pad2(now.getMonth() + 1)
    const d = pad2(now.getDate())
    // gameStartTimeRef.gameStartTimeì´ ìˆìœ¼ë©´ ê·¸ê±¸ ì“°ê³ , ì—†ìœ¼ë©´ sessionStartTimeRef ê¸°ì¤€
    const base =
      typeof gameStartTimeRef.gameStartTime !== 'undefined' && gameStartTimeRef.gameStartTime
        ? gameStartTimeRef.gameStartTime
        : sessionStartTimeRef
    const days = Math.max(1, Math.floor((Date.now() - base) / 86400000) + 1)

    // (ì‹ ) í—¤ë”ì— ë¶™ëŠ” ì»´íŒ©íŠ¸ í‘œê¸°: yyyy.mm.dd(Nì¼ì°¨)
    const elCompact = document.getElementById('diaryHeaderMeta')
    if (elCompact) {
      elCompact.textContent = `${y}.${m}.${d}(${t('ui.dayCount', { days })})`
    }

    // (êµ¬) DOMì´ ë‚¨ì•„ìˆì„ ë•Œë§Œ ì—…ë°ì´íŠ¸ (í˜¸í™˜)
    const elDate = document.getElementById('diaryMetaDate')
    const elDay = document.getElementById('diaryMetaDay')
    if (elDate) elDate.textContent = t('ui.today', { date: `${y}.${m}.${d}` })
    if (elDay) elDay.textContent = t('ui.dayCount', { days })
  }

  function diaryize(raw) {
    const s = String(raw || '').trim()

    // ì—…ê·¸ë ˆì´ë“œ ì”ì—¬ í´ë¦­ ì•ˆë‚´ëŠ” ì¼ê¸°ì¥ì— ê¸°ë¡í•˜ì§€ ì•ŠìŒ
    // ì—…ê·¸ë ˆì´ë“œ ì”ì—¬ í´ë¦­ ì•ˆë‚´ëŠ” ì¼ê¸°ì¥ì— ê¸°ë¡í•˜ì§€ ì•ŠìŒ (ë‹¤êµ­ì–´ ì§€ì›)
    // ì˜ˆ: 'ğŸ¯ ë‹¤ìŒ ì—…ê·¸ë ˆì´ë“œ "ğŸ“š ì „ë¬¸ êµìœ¡"ê¹Œì§€ 25í´ë¦­ ë‚¨ìŒ!'
    // ì˜ˆ: 'ğŸ¯ 25 clicks until next upgrade "ğŸ“š Professional Education"!'
    const nextUpgradePattern = new RegExp(
      t('msg.nextUpgradeHint', { remaining: '\\d+', name: '.*' })
        .replace(/\{remaining\}/g, '\\d+')
        .replace(/\{name\}/g, '.*'),
      'i'
    )
    if (nextUpgradePattern.test(s) || (/ë‹¤ìŒ\s*ì—…ê·¸ë ˆì´ë“œ/.test(s) && /í´ë¦­\s*ë‚¨/.test(s))) {
      return ''
    }

    // ê³µí†µ: ì‹œìŠ¤í…œ ì´ëª¨ì§€/ì ‘ë‘ ì œê±°
    // eslint-disable-next-line no-misleading-character-class
    const stripPrefix = t => t.replace(/^[âœ…âŒğŸ’¸ğŸ’°ğŸ†ğŸ‰ğŸğŸ“ˆğŸ“‰ğŸ”“âš ï¸ğŸ’¡]+\s*/gu, '').trim()
    const rand = n => Math.floor(Math.random() * n)
    const pick = (key, arr) => {
      if (!Array.isArray(arr) || arr.length === 0) return ''
      const storeKey = `__diaryLastPick_${key}`
      const last = window[storeKey]
      let idx = rand(arr.length)
      if (arr.length > 1 && typeof last === 'number' && idx === last) {
        idx = (idx + 1 + rand(arr.length - 1)) % arr.length
      }
      window[storeKey] = idx
      return arr[idx]
    }
    const soften = t => stripPrefix(t).replace(/\s+/g, ' ').trim()

    // ì—…ì 
    // ë‹¤êµ­ì–´ ì§€ì›: "ğŸ† ì—…ì  ë‹¬ì„±:" ë˜ëŠ” "ğŸ† Achievement Unlocked:"
    const achievementPrefix =
      t('msg.achievementUnlocked', { name: '', desc: '' }).split(':')[0] + ':'
    if (s.startsWith('ğŸ†') && (s.includes('ì—…ì  ë‹¬ì„±:') || s.includes('Achievement Unlocked:'))) {
      // "ğŸ† ì—…ì  ë‹¬ì„±: A - B" ë˜ëŠ” "ğŸ† Achievement Unlocked: A - B"
      const body = stripPrefix(s).replace(/^(ì—…ì  ë‹¬ì„±|Achievement Unlocked):\s*/i, '')
      const [name, desc] = body.split(/\s*-\s*/)
      return pick('achievement', [
        `ì˜¤ëŠ˜ì€ ì²´í¬ í•˜ë‚˜ë¥¼ ë”í–ˆë‹¤. (${name || 'ì—…ì '})`,
        `ì‘ê²Œë‚˜ë§ˆ ì„±ì·¨. ${name || 'ì—…ì '}ë¼ë‹ˆ, ë‚˜ë„ ê½¤ í•œë‹¤.`,
        `ê¸°ë¡í•´ë‘”ë‹¤: ${name || 'ì—…ì '}.\n${desc ? desc : ''}`.trim(),
        `"${name || 'ì—…ì '}" ë‹¬ì„±.\n${desc ? `ë©”ëª¨: ${desc}` : ''}`.trim(),
        `ë³„ê±° ì•„ë‹Œ ë“¯í•œë°, ì´ëŸ° ê²Œ ìŒ“ì—¬ì„œ ì‚¬ëŒì´ ëœë‹¤. (${name || 'ì—…ì '})`,
        `ë˜ í•˜ë‚˜ì˜ ë§ˆì¼ìŠ¤í†¤. ${name || 'ì—…ì '}.\n${desc ? desc : ''}`.trim(),
        `ì‘ì€ ì„±ì·¨ë„ ì„±ì·¨ë‹¤. ${name || 'ì—…ì '}.\n${desc ? desc : ''}`.trim(),
        `í•˜ë£¨í•˜ë£¨ê°€ ìŒ“ì¸ë‹¤. ì˜¤ëŠ˜ì€ ${name || 'ì—…ì '}.\n${desc ? desc : ''}`.trim(),
        `ê¸°ë¡ì— í•˜ë‚˜ ë”. ${name || 'ì—…ì '}.\n${desc ? desc : ''}`.trim(),
        `ë¿Œë“¯í•¨ì´ ì¡°ê¸ˆì”©. ${name || 'ì—…ì '} ë‹¬ì„±.\n${desc ? desc : ''}`.trim(),
        `ì´ëŸ° ê²Œ ì¸ìƒì´ì§€. ${name || 'ì—…ì '}.\n${desc ? desc : ''}`.trim(),
        `ì‘ì€ ë°œê±¸ìŒì´ ëª¨ì—¬ ê¸¸ì´ ëœë‹¤. ${name || 'ì—…ì '}.\n${desc ? desc : ''}`.trim(),
      ])
    }

    // ìŠ¹ì§„
    // ë‹¤êµ­ì–´ ì§€ì›: "ìŠ¹ì§„í–ˆìŠµë‹ˆë‹¤" ë˜ëŠ” "promoted"
    const promotedPattern =
      getLang() === 'en'
        ? /ğŸ‰\s*(.+?)\s+promoted!?(\s*\(.*\))?/i
        : /ğŸ‰\s*(.+?)ìœ¼ë¡œ\s*ìŠ¹ì§„í–ˆìŠµë‹ˆë‹¤!?(\s*\(.*\))?/
    if (s.startsWith('ğŸ‰') && (s.includes('ìŠ¹ì§„í–ˆìŠµë‹ˆë‹¤') || /promoted/i.test(s))) {
      // "ğŸ‰ ì§ê¸‰ìœ¼ë¡œ ìŠ¹ì§„í–ˆìŠµë‹ˆë‹¤! (í´ë¦­ë‹¹ Xì›)" ë˜ëŠ” "ğŸ‰ Career promoted! (X KRW per click)"
      const m = s.match(promotedPattern)
      const career = m?.[1]?.trim()
      const extra = m?.[2]?.trim()
      const extraText = extra ? extra.replace(/[()]/g, '').trim() : ''
      return pick('promotion', [
        `ëª…í•¨ì´ ë°”ë€Œì—ˆë‹¤. ${career || 'ë‹¤ìŒ ë‹¨ê³„'}.\n${extraText}`.trim(),
        `ì˜¤ëŠ˜ì€ ì¢€ ë¿Œë“¯í•˜ë‹¤. ${career || 'ìŠ¹ì§„'}ì´ë¼ë‹ˆ.\n${extraText}`.trim(),
        `ìŠ¹ì§„í–ˆë‹¤. ì±…ì„ë„ ê°™ì´ ë”¸ë ¤ì˜¨ë‹¤ëŠ”ë°â€¦ ì¼ë‹¨ ì¶•í•˜ë¶€í„°.\n${extraText}`.trim(),
        `ê·¸ë˜, ë‚˜ë„ ì˜¬ë¼ê°ˆ ì¤„ ì•ˆë‹¤. ${career || 'ìŠ¹ì§„'}.\n${extraText}`.trim(),
        `ì»¤í”¼ê°€ ì¡°ê¸ˆ ë” ì“°ê²Œ ëŠê»´ì§„ë‹¤. ${career || 'ìŠ¹ì§„'}ì˜ ë§›.\n${extraText}`.trim(),
        `í•œ ë‹¨ê³„ ì˜¬ë¼ì„°ë‹¤. ${career || 'ìŠ¹ì§„'}.\n${extraText}`.trim(),
        `ë…¸ë ¥ì´ ë³´ìƒë°›ëŠ” ìˆœê°„. ${career || 'ìŠ¹ì§„'}.\n${extraText}`.trim(),
        `ìƒˆë¡œìš´ ì‹œì‘. ${career || 'ìŠ¹ì§„'}.\n${extraText}`.trim(),
        `ë” ë†’ì€ ê³³ì—ì„œ ë³´ëŠ” í’ê²½ì´ ë‹¤ë¥´ë‹¤. ${career || 'ìŠ¹ì§„'}.\n${extraText}`.trim(),
        `ìë¦¬ë„ ë°”ë€Œê³  ë§ˆìŒë„ ë°”ë€ë‹¤. ${career || 'ìŠ¹ì§„'}.\n${extraText}`.trim(),
        `ì´ì œì•¼ ì§„ì§œ ì‹œì‘ì¸ê°€. ${career || 'ìŠ¹ì§„'}.\n${extraText}`.trim(),
        `ë¬´ê²Œê°ì´ ëŠê»´ì§„ë‹¤. ${career || 'ìŠ¹ì§„'}ì˜ ë¬´ê²Œ.\n${extraText}`.trim(),
      ])
    }

    // í•´ê¸ˆ
    // ë‹¤êµ­ì–´ ì§€ì›: "í•´ê¸ˆ" ë˜ëŠ” "unlocked"
    const unlockPattern = getLang() === 'en' ? /^ğŸ”“\s*(.+?)\s+unlocked/i : /^ğŸ”“\s*(.+?)ì´\s*í•´ê¸ˆ/
    if (s.startsWith('ğŸ”“')) {
      const body = soften(s)
      const m = s.match(unlockPattern)
      const name = (m?.[1] || '').trim()
      const unlockByProduct = {
        ì ê¸ˆ: [
          `ìë™ì´ì²´ ë²„íŠ¼ì´ ëˆˆì— ë“¤ì–´ì™”ë‹¤.\n${body}`,
          `ì²œì²œíˆ ìŒ“ëŠ” ìª½ìœ¼ë¡œ ë°©í–¥ì„ í‹€ì—ˆë‹¤.\n${body}`,
          `ì˜¤ëŠ˜ì€ 'ë£¨í‹´'ì´ ì—´ë ¸ë‹¤.\n${body}`,
          `ê¾¸ì¤€í•¨ì˜ ê¸¸ì´ ì—´ë ¸ë‹¤.\n${body}`,
          `ì‘ì€ íˆ¬ìì˜ ë¬¸ì´ ì—´ë ¸ë‹¤.\n${body}`,
          `ì‹œê°„ì´ ë‚´ í¸ì´ ë˜ëŠ” ì„ íƒì§€.\n${body}`,
          `ë£¨í‹´ íˆ¬ìì˜ ì‹œì‘.\n${body}`,
          `ë§¤ì¼ì˜ ìŠµê´€ì´ ê°€ëŠ¥í•´ì¡Œë‹¤.\n${body}`,
          `ì¸ë‚´ì‹¬ì˜ íˆ¬ìê°€ ì—´ë ¸ë‹¤.\n${body}`,
          `ì‘ì€ ê²ƒë“¤ì´ ëª¨ì´ëŠ” ê¸¸.\n${body}`,
        ],
        êµ­ë‚´ì£¼ì‹: [
          `ì´ì œ ì°¨íŠ¸ë‘ ë‰´ìŠ¤ë‘ ì‹¸ìš¸ ì°¨ë¡€ë‹¤.\n${body}`,
          `ì‹¬ì¥ì´ ì•½í•˜ë©´ ëª» í•  ì„ íƒì§€â€¦ ì—´ë ¸ë‹¤.\n${body}`,
          `ë³€ë™ì„±ì˜ ë¬¸ì´ ì—´ë ¸ë‹¤.\n${body}`,
          `êµ­ì¥ì˜ ì„¸ê³„ë¡œ ì…ë¬¸.\n${body}`,
          `ì°¨íŠ¸ì˜ íŒŒë„ë¥¼ íƒˆ ìˆ˜ ìˆë‹¤.\n${body}`,
          `íˆ¬ììì˜ ê¸¸ì´ ì—´ë ¸ë‹¤.\n${body}`,
          `ë³€ë™ì„±ì— ë„ì „í•  ìˆ˜ ìˆë‹¤.\n${body}`,
          `êµ­ì¥ì˜ ì‹¬ì¥ë°•ë™ì„ ëŠë‚„ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ìœ„í—˜ê³¼ ê¸°íšŒì˜ ë¬¸.\n${body}`,
          `êµ­ì¥ íˆ¬ìì˜ ì‹œì‘.\n${body}`,
        ],
        ë¯¸êµ­ì£¼ì‹: [
          `ì‹œì°¨ë¥¼ ë²„í‹°ëŠ” ëˆì´ ì—´ë ¸ë‹¤.\n${body}`,
          `ë‹¬ëŸ¬ ëƒ„ìƒˆê°€ ë‚œë‹¤.\n${body}`,
          `ë°¤ìƒ˜ì˜ ì„ íƒì§€â€¦ ë“œë””ì–´.\n${body}`,
          `ê¸€ë¡œë²Œ íˆ¬ìì˜ ë¬¸ì´ ì—´ë ¸ë‹¤.\n${body}`,
          `ì„¸ê³„ ì‹œì¥ì— ë°œì„ ë‹´ê¸€ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ë¯¸ì¥ì˜ íŒŒë„ë¥¼ íƒˆ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ë‹¬ëŸ¬ì˜ ë¬´ê²Œë¥¼ ëŠë‚„ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ì‹œì°¨ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ê²¬ë”œ ìˆ˜ ìˆë‹¤.\n${body}`,
          `í™˜ìœ¨ì˜ ë³€ë™ì„ ê²½í—˜í•  ìˆ˜ ìˆë‹¤.\n${body}`,
          `ë¯¸ì¥ íˆ¬ìì˜ ì‹œì‘.\n${body}`,
        ],
        ì½”ì¸: [
          `ë¡¤ëŸ¬ì½”ìŠ¤í„° ì…ì¥ê¶Œì´ ìƒê²¼ë‹¤.\n${body}`,
          `FOMOê°€ ë¬¸ì„ ë‘ë“œë¦°ë‹¤.\n${body}`,
          `í­ë“±/í­ë½ì˜ ì„¸ê³„ê°€ ì—´ë ¸ë‹¤.\n${body}`,
          `ë³€ë™ì„±ì˜ ê·¹ì¹˜ë¥¼ ê²½í—˜í•  ìˆ˜ ìˆë‹¤.\n${body}`,
          `ë©˜íƒˆì´ ì‹œí—˜ë°›ëŠ” íˆ¬ì.\n${body}`,
          `ì½”ì¸íŒì˜ ë¬´ê²Œë¥¼ ê²¬ë”œ ìˆ˜ ìˆë‹¤.\n${body}`,
          `FOMOì™€ ê³µí¬ ì‚¬ì´ì˜ ì„ íƒ.\n${body}`,
          `ë””ì§€í„¸ ìì‚°ì˜ ì„¸ê³„.\n${body}`,
          `ì‹¬ì¥ì´ ë¨¼ì € ë°˜ì‘í•˜ëŠ” íˆ¬ì.\n${body}`,
          `ë¡¤ëŸ¬ì½”ìŠ¤í„°ì˜ ì •ì ì— ì„¤ ìˆ˜ ìˆë‹¤.\n${body}`,
        ],
        ë¹Œë¼: [
          `ì²« 'ì§‘'ì´ë¼ëŠ” ë‹¨ì–´ê°€ í˜„ì‹¤ì´ ëë‹¤.\n${body}`,
          `ì‘ì•„ë„ ë‚´ í¸ì´ í•˜ë‚˜ ìƒê¸´ ê¸°ë¶„.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì²«ê±¸ìŒ.\n${body}`,
          `ì§‘ì´ë¼ëŠ” ë‹¨ì–´ê°€ í˜„ì‹¤ì´ ëë‹¤.\n${body}`,
          `ë‚´ ê³µê°„ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ì‘ì€ ì§‘ë„ ì§‘ì´ë‹¤.\n${body}`,
          `ë¶€ë™ì‚°ì˜ ì„¸ê³„ë¡œ ì…ë¬¸.\n${body}`,
          `ì²« ì§‘ì˜ ë¬´ê²Œê°ì„ ëŠë‚„ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ë‚´ ì´ë¦„ìœ¼ë¡œ ë“±ê¸°í•  ìˆ˜ ìˆë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì‹œì‘.\n${body}`,
        ],
        ì˜¤í”¼ìŠ¤í…”: [
          `ì¶œê·¼ ë™ì„ ì´ ë¨¸ë¦¬ì— ê·¸ë ¤ì¡Œë‹¤.\n${body}`,
          `í˜„ì‹¤ì ì¸ ì„ íƒì§€ê°€ ì—´ë ¸ë‹¤.\n${body}`,
          `ì‹¤ìš©ì ì¸ íˆ¬ìê°€ ê°€ëŠ¥í•´ì¡Œë‹¤.\n${body}`,
          `ìƒí™œì˜ í¸ì˜ë¥¼ ì‚´ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ë„ì‹œ ìƒí™œì˜ í˜„ì‹¤ì„ ê²½í—˜í•  ìˆ˜ ìˆë‹¤.\n${body}`,
          `ì‘ì€ ê³µê°„, í° ë§Œì¡±ì˜ ì„ íƒ.\n${body}`,
          `ì‹¤ìš©ì£¼ì˜ì˜ íˆ¬ì.\n${body}`,
          `ìƒí™œì˜ ì§ˆì„ ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.\n${body}`,
          `í˜„ì‹¤ì ì¸ ë¶€ë™ì‚° íˆ¬ì.\n${body}`,
          `ë„ì‹œ ìƒí™œì˜ í¸ì˜ë¥¼ ì‚´ ìˆ˜ ìˆë‹¤.\n${body}`,
        ],
        ì•„íŒŒíŠ¸: [
          `ê¿ˆì´ ì¡°ê¸ˆ í˜„ì‹¤ ìª½ìœ¼ë¡œ ë‹¤ê°€ì™”ë‹¤.\n${body}`,
          `ì•ˆì •ì˜ ìƒì§•ì´ ì—´ë ¸ë‹¤.\n${body}`,
          `í•œêµ­ì¸ì˜ ê¿ˆì„ ì‚´ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì •ì .\n${body}`,
          `ì•„íŒŒíŠ¸ì˜ ë¬´ê²Œê°ì„ ëŠë‚„ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ê¿ˆì´ í˜„ì‹¤ì´ ë˜ëŠ” ìˆœê°„.\n${body}`,
          `ì•ˆì •ì ì¸ íˆ¬ìê°€ ê°€ëŠ¥í•´ì¡Œë‹¤.\n${body}`,
          `ë¶€ë™ì‚°ì˜ ëŒ€í‘œì£¼ìë¥¼ ì‚´ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ê°€ì¹˜ê°€ ë³´ì¥ë˜ëŠ” ì„ íƒ.\n${body}`,
          `í•œêµ­ ì‚¬íšŒì˜ ìƒì§•ì„ ì‚´ ìˆ˜ ìˆë‹¤.\n${body}`,
        ],
        ìƒê°€: [
          `ìœ ë™ì¸êµ¬ë¼ëŠ” ë‹¨ì–´ê°€ ê°‘ìê¸° ë¬´ê²ë‹¤.\n${body}`,
          `ì¥ì‚¬ ì˜ë˜ê¸¸â€¦ ì§„ì‹¬ìœ¼ë¡œ.\n${body}`,
          `ìƒê¶Œì˜ í˜ì„ ë¯¿ì„ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ìœ ë™ì¸êµ¬ê°€ ë‚´ ìˆ˜ìµì´ ë  ìˆ˜ ìˆë‹¤.\n${body}`,
          `ìƒê¶Œ íˆ¬ìì˜ ë¬˜ë¯¸ë¥¼ ëŠë‚„ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ì„ëŒ€ ìˆ˜ìµì˜ ë‹¬ì½¤í•¨ì„ ê²½í—˜í•  ìˆ˜ ìˆë‹¤.\n${body}`,
          `ìƒê°€ì˜ ê°€ì¹˜ë¥¼ ì•Œì•„ë³¼ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ìƒê¶Œì˜ íŒŒë„ë¥¼ íƒˆ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ì„ì°¨ì¸ì˜ ì„±ê³µì´ ë‚´ ì„±ê³µì´ ë  ìˆ˜ ìˆë‹¤.\n${body}`,
          `ìƒê°€ íˆ¬ìì˜ ë¦¬ìŠ¤í¬ë¥¼ ê°ìˆ˜í•  ìˆ˜ ìˆë‹¤.\n${body}`,
        ],
        ë¹Œë”©: [
          `ìŠ¤ì¹´ì´ë¼ì¸ì— ìš•ì‹¬ì´ ìƒê²¼ë‹¤.\n${body}`,
          `ì´ì œ ì§„ì§œ 'ì—”ë“œê²Œì„' ëƒ„ìƒˆ.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì •ì .\n${body}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì˜ ì£¼ì¸ì´ ë  ìˆ˜ ìˆë‹¤.\n${body}`,
          `ë„ì‹œì˜ í•œ ì¡°ê°ì„ ì†Œìœ í•  ìˆ˜ ìˆë‹¤.\n${body}`,
          `ë¹Œë”©ì˜ ë¬´ê²Œê°ì„ ëŠë‚„ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì™„ì„±.\n${body}`,
          `ë„ì‹œì˜ ì‹¬ì¥ë¶€ë¥¼ ì‚´ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì— ë‚´ ì´ë¦„ì„ ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ê¶ê·¹.\n${body}`,
        ],
      }
      if (name && unlockByProduct[name]) {
        return pick(`unlock_${name}`, unlockByProduct[name])
      }
      return pick('unlock', [
        `ë¬¸ì´ í•˜ë‚˜ ì—´ë ¸ë‹¤.\n${body}`,
        `ë‹¤ìŒ ì¥ìœ¼ë¡œ ë„˜ì–´ê°ˆ ìˆ˜ ìˆê²Œ ëë‹¤.\n${body}`,
        `ì•„ì§ ì´ˆë°˜ì¸ë°ë„, ë²Œì¨ ì„ íƒì§€ê°€ ëŠ˜ì—ˆë‹¤.\n${body}`,
        `ë“œë””ì–´. ${body}`,
        `ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì´ ì—´ë ¸ë‹¤.\n${body}`,
        `ì„ íƒì§€ê°€ í•˜ë‚˜ ë” ìƒê²¼ë‹¤.\n${body}`,
        `ë‹¤ìŒ ë‹¨ê³„ë¡œ ë‚˜ì•„ê°ˆ ìˆ˜ ìˆë‹¤.\n${body}`,
        `ê¸°íšŒì˜ ë¬¸ì´ ì—´ë ¸ë‹¤.\n${body}`,
        `ìƒˆë¡œìš´ ê¸¸ì´ ë³´ì¸ë‹¤.\n${body}`,
        `ì§„í–‰ì˜ ê¸¸ì´ ì—´ë ¸ë‹¤.\n${body}`,
      ])
    }

    // êµ¬ë§¤/íŒë§¤/ë¶€ì¡±
    if (s.startsWith('ğŸ’¸ ìê¸ˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤')) {
      const body = soften(s)
      return pick('noMoney', [
        `ì§€ê°‘ì´ ì–‡ì•„ì„œ ì•„ë¬´ê²ƒë„ ëª» í–ˆë‹¤.\n${body}`,
        `í˜„ì‹¤ ì²´í¬. ëˆì´ ì—†ë‹¤.\n${body}`,
        `ì˜¤ëŠ˜ì€ ì°¸ëŠ”ë‹¤. ì•„ì§ì€ ë¬´ë¦¬.\n${body}`,
        `ê³„ì‚°ê¸°ë§Œ ë‘ë“œë¦¬ê³  ë.\n${body}`,
        `í†µì¥ ì”ê³ ê°€ ê±°ì§“ë§ì„ í•œë‹¤.\n${body}`,
        `ëˆì´ ë¶€ì¡±í•˜ë‹¤ëŠ” ê±´ ëŠ˜ ì•„í”„ë‹¤.\n${body}`,
        `ë‹¤ì‹œ ëª¨ì•„ì•¼ í•œë‹¤. ì¡°ê¸ˆ ë”.\n${body}`,
        `ìš•ì‹¬ì„ ì ‘ì–´ì•¼ í•  ë•Œ.\n${body}`,
        `í˜„ì‹¤ì´ ë¬´ê²ë‹¤.\n${body}`,
        `ë‚´ì¼ì„ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤.\n${body}`,
      ])
    }
    // êµ¬ë§¤ ë©”ì‹œì§€: "âœ… êµ¬ì…í–ˆìŠµë‹ˆë‹¤" ë˜ëŠ” "âœ… Purchased"
    const purchasedPattern =
      getLang() === 'en' ? /^âœ…\s*.+?\s+purchased/i : /^âœ…\s*.+?\s+êµ¬ì…í–ˆìŠµë‹ˆë‹¤/
    if (s.startsWith('âœ…') && (s.includes('êµ¬ì…í–ˆìŠµë‹ˆë‹¤') || /purchased/i.test(s))) {
      const body = soften(s)
      const m = s.match(/^âœ…\s*(.+?)\s+\d/)
      const name = (m?.[1] || '').trim()

      const buyByProduct = {
        ì˜ˆê¸ˆ: [
          `ì¼ë‹¨ì€ ì•ˆì „í•œ ë°ì— ë¬¶ì–´ë‘ì.\n${body}`,
          `ë¶ˆì•ˆí•  ë• ì˜ˆê¸ˆì´ ë‹µì´ë‹¤.\n${body}`,
          `í†µì¥ì— 'ì¿ ì…˜'ì„ í•˜ë‚˜ ê¹”ì•˜ë‹¤.\n${body}`,
          `ì•ˆì „í•¨ì´ ìµœê³ ì˜ ìˆ˜ìµë¥ .\n${body}`,
          `ë¬´ì—‡ë³´ë‹¤ë„ í‰ì˜¨í•¨.\n${body}`,
          `ëˆì´ ì ë“¤ì–´ ìˆëŠ” ê²Œ ë‚˜ì˜ì§€ ì•Šë‹¤.\n${body}`,
          `ì€í–‰ì´ ë‚´ í¸ì´ ë˜ëŠ” ìˆœê°„.\n${body}`,
          `ìœ„í—˜ì€ ë‚´ì¼ë¡œ ë¯¸ë¤„ë‘ì.\n${body}`,
          `ì¡°ìš©íˆ ìŒ“ì´ëŠ” ê²Œ ì¢‹ë‹¤.\n${body}`,
          `ë¶ˆì•ˆí•  ë•ŒëŠ” ì´ê²Œ ìµœì„ .\n${body}`,
          `ëˆì´ ì•ˆì „í•˜ê²Œ ì§€ì¼œì§€ëŠ” ëŠë‚Œ.\n${body}`,
          `ìœ„í—˜ ì—†ëŠ” ì„ íƒ.\n${body}`,
        ],
        ì ê¸ˆ: [
          `ë£¨í‹´ì„ ìƒ€ë‹¤. ë§¤ì¼ì´ ìŒ“ì´ë©´ ì–¸ì  ê°€.\n${body}`,
          `ì²œì²œíˆ, ê¾¸ì¤€íˆ. ì ê¸ˆì€ ë°°ì‹ ì„ ëœ í•œë‹¤.\n${body}`,
          `ë²„í‹°ê¸° ëª¨ë“œ ON.\n${body}`,
          `ì‘ì€ ê²ƒë“¤ì´ ëª¨ì—¬ í° ê²ƒì´ ëœë‹¤.\n${body}`,
          `ë§¤ì¼ì˜ ìŠµê´€ì´ ë¯¸ë˜ë¥¼ ë§Œë“ ë‹¤.\n${body}`,
          `ê¾¸ì¤€í•¨ì´ ë¬´ê¸°ë‹¤.\n${body}`,
          `ì„œë‘ë¥´ì§€ ì•Šê³  ì²œì²œíˆ.\n${body}`,
          `ì‹œê°„ì´ ë‚´ í¸ì´ ë˜ëŠ” ëŠë‚Œ.\n${body}`,
          `ì‘ì€ íˆ¬ìê°€ í° ê²°ê³¼ë¥¼ ë§Œë“ ë‹¤.\n${body}`,
          `ë£¨í‹´ì˜ í˜ì„ ë¯¿ëŠ”ë‹¤.\n${body}`,
          `ë§¤ì¼ ì¡°ê¸ˆì”©, ê·¸ê²Œ ì „ë¶€ë‹¤.\n${body}`,
          `ì¸ë‚´ì‹¬ì´ í•„ìš”í•œ íˆ¬ì.\n${body}`,
        ],
        êµ­ë‚´ì£¼ì‹: [
          `ì°¨íŠ¸ê°€ ë‚˜ë¥¼ ë³´ë”ë‹ˆ ì›ƒëŠ” ê²ƒ ê°™ì•˜ë‹¤.\n${body}`,
          `ê¸°ëŒ€ ë°˜, ê¸´ì¥ ë°˜.\n${body}`,
          `ë‰´ìŠ¤ ì•ŒëŒì„ ì¼œì•¼ í•  ê²ƒ ê°™ë‹¤.\n${body}`,
          `ë³€ë™ì„±ì˜ ë°”ë‹¤ì— ë›°ì–´ë“ ë‹¤.\n${body}`,
          `ì‹¬ì¥ì´ ë›°ëŠ” íˆ¬ì.\n${body}`,
          `êµ­ì¥ì˜ íŒŒë„ë¥¼ íƒ€ë³¸ë‹¤.\n${body}`,
          `ìœ„í—˜ê³¼ ê¸°íšŒê°€ ê³µì¡´í•œë‹¤.\n${body}`,
          `ì°¨íŠ¸ í•œ ì¤„ì— ëª¨ë“  ê²Œ ë‹¬ë ¸ë‹¤.\n${body}`,
          `íˆ¬ììì˜ ê¸¸ì„ ê±·ëŠ”ë‹¤.\n${body}`,
          `ì‹œì¥ì˜ ì‹¬ì¥ë°•ë™ì„ ëŠë‚€ë‹¤.\n${body}`,
          `ë³€ë™ì„±ì— ë‚´ ì‹¬ì¥ë„ ê°™ì´ í”ë“¤ë¦°ë‹¤.\n${body}`,
          `êµ­ì¥ì˜ ë¬´ê²Œë¥¼ ê²¬ëŒë³¸ë‹¤.\n${body}`,
        ],
        ë¯¸êµ­ì£¼ì‹: [
          `ë‹¬ëŸ¬ í™˜ìœ¨ë¶€í„° ë– ì˜¬ëë‹¤.\n${body}`,
          `ë°¤ì— ìš¸ë¦¬ëŠ” ì•Œë¦¼ì„ ê°ì˜¤í–ˆë‹¤.\n${body}`,
          `ì„¸ê³„ë¡œ í•œ ê±¸ìŒ.\n${body}`,
          `ì‹œì°¨ë¥¼ ê·¹ë³µí•˜ëŠ” íˆ¬ì.\n${body}`,
          `ë¯¸ì¥ì˜ íŒŒë„ë¥¼ íƒ€ë³¸ë‹¤.\n${body}`,
          `ë‹¬ëŸ¬ì˜ ë¬´ê²Œë¥¼ ëŠë‚€ë‹¤.\n${body}`,
          `ì„¸ê³„ ì‹œì¥ì— ë°œì„ ë‹´ê·¼ë‹¤.\n${body}`,
          `ë°¤ìƒ˜ì˜ ëŒ€ê°€ë¥¼ ì¹˜ë¥¸ë‹¤.\n${body}`,
          `í™˜ìœ¨ì´ ë‚´ ìˆ˜ìµì„ ì¢Œìš°í•œë‹¤.\n${body}`,
          `ê¸€ë¡œë²Œ íˆ¬ììì˜ ê¸¸.\n${body}`,
          `ì‹œì°¨ ë•Œë¬¸ì— ì ì„ ì„¤ì¹œë‹¤.\n${body}`,
          `ë¯¸ì¥ì˜ ë¦¬ë“¬ì— ë§ì¶˜ë‹¤.\n${body}`,
        ],
        ì½”ì¸: [
          `ì‹¬ì¥ ë‹¨ë‹¨íˆ ë¶™ì¡ê³  íƒ”ë‹¤.\n${body}`,
          `ì˜¤ëŠ˜ì€ FOMOê°€ ì´ê²¼ë‹¤.\n${body}`,
          `ë¡¤ëŸ¬ì½”ìŠ¤í„°ì— í‘œë¥¼ ëŠì—ˆë‹¤.\n${body}`,
          `í­ë“±ê³¼ í­ë½ ì‚¬ì´ì—ì„œ ì¤„íƒ€ê¸°.\n${body}`,
          `ë©˜íƒˆì´ ì‹œí—˜ë°›ëŠ” íˆ¬ì.\n${body}`,
          `ë³€ë™ì„±ì˜ ê·¹ì¹˜ë¥¼ ê²½í—˜í•œë‹¤.\n${body}`,
          `ì½”ì¸íŒì˜ ë¬´ê²Œë¥¼ ê²¬ëŒë³¸ë‹¤.\n${body}`,
          `FOMOì™€ ê³µí¬ ì‚¬ì´ì—ì„œ.\n${body}`,
          `ë””ì§€í„¸ ìì‚°ì˜ ì„¸ê³„.\n${body}`,
          `ì‹¬ì¥ì´ ë¨¼ì € ë°˜ì‘í•œë‹¤.\n${body}`,
          `ë¡¤ëŸ¬ì½”ìŠ¤í„°ì˜ ì •ì ì— ì„œ ìˆë‹¤.\n${body}`,
          `ìœ„í—˜ì„ ê°ìˆ˜í•˜ëŠ” ì„ íƒ.\n${body}`,
        ],
        ë¹Œë¼: [
          `ì‘ì•„ë„ ì‹œì‘ì€ ì‹œì‘ì´ë‹¤.\n${body}`,
          `ì²« ì§‘ ëŠë‚Œâ€¦ ë§ˆìŒì´ ì¡°ê¸ˆ ë†“ì˜€ë‹¤.\n${body}`,
          `ë²½ì§€ ëƒ„ìƒˆë¥¼ ìƒìƒí–ˆë‹¤.\n${body}`,
          `ì²« ë¶€ë™ì‚°. ì‘ì§€ë§Œ ì†Œì¤‘í•˜ë‹¤.\n${body}`,
          `ì§‘ì´ë¼ëŠ” ë‹¨ì–´ê°€ í˜„ì‹¤ì´ ëë‹¤.\n${body}`,
          `ë‚´ ê³µê°„ì´ ìƒê²¼ë‹¤.\n${body}`,
          `ì‘ì€ ì§‘ë„ ì§‘ì´ë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì²«ê±¸ìŒ.\n${body}`,
          `ì‘ì€ ì‹œì‘ì´ í° ê²°ê³¼ë¥¼ ë§Œë“ ë‹¤.\n${body}`,
          `ì²« ì§‘ì˜ ë¬´ê²Œê°.\n${body}`,
          `ë‚´ ì´ë¦„ìœ¼ë¡œ ë“±ê¸°ë˜ëŠ” ìˆœê°„.\n${body}`,
          `ë¶€ë™ì‚°ì˜ ì„¸ê³„ì— ì…ë¬¸í–ˆë‹¤.\n${body}`,
        ],
        ì˜¤í”¼ìŠ¤í…”: [
          `í˜„ì‹¤ì ì¸ ì„ íƒì„ í–ˆë‹¤.\n${body}`,
          `ì¶œê·¼ê¸¸ì´ ì§§ì•„ì§€ëŠ” ìƒìƒì„ í–ˆë‹¤.\n${body}`,
          `ê´€ë¦¬ë¹„ ìƒê°ì€ ë‚´ì¼ í•˜ì.\n${body}`,
          `ì‹¤ìš©ì ì¸ íˆ¬ì.\n${body}`,
          `ì¶œê·¼ ë™ì„ ì´ ë¨¸ë¦¬ì— ê·¸ë ¤ì§„ë‹¤.\n${body}`,
          `í˜„ì‹¤ê³¼ ì´ìƒì˜ ì ˆì¶©.\n${body}`,
          `ìƒí™œì˜ í¸ì˜ë¥¼ ìƒ€ë‹¤.\n${body}`,
          `ë„ì‹œ ìƒí™œì˜ í˜„ì‹¤.\n${body}`,
          `ì‘ì€ ê³µê°„, í° ë§Œì¡±.\n${body}`,
          `ì‹¤ìš©ì£¼ì˜ì˜ ìŠ¹ë¦¬.\n${body}`,
          `ìƒí™œì˜ ì§ˆì´ ì˜¬ë¼ê°„ë‹¤.\n${body}`,
          `í˜„ì‹¤ì ì¸ ë¶€ë™ì‚° íˆ¬ì.\n${body}`,
        ],
        ì•„íŒŒíŠ¸: [
          `ê¿ˆì´ ì¡°ê¸ˆ ë” ì„ ëª…í•´ì¡Œë‹¤.\n${body}`,
          `ì•ˆì •ì˜ ìƒì§•ì„ ì†ì— ì¥ì—ˆë‹¤.\n${body}`,
          `ê´œíˆ ë¿Œë“¯í•˜ë‹¤.\n${body}`,
          `í•œêµ­ì¸ì˜ ê¿ˆì„ ìƒ€ë‹¤.\n${body}`,
          `ì•ˆì •ì˜ ìƒì§•ì„ ì†ì— ì¥ì—ˆë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì •ì .\n${body}`,
          `ì•„íŒŒíŠ¸ì˜ ë¬´ê²Œê°.\n${body}`,
          `ê¿ˆì´ í˜„ì‹¤ì´ ë˜ëŠ” ìˆœê°„.\n${body}`,
          `ì•ˆì •ì ì¸ íˆ¬ì.\n${body}`,
          `ë¶€ë™ì‚°ì˜ ëŒ€í‘œì£¼ì.\n${body}`,
          `ê°€ì¹˜ê°€ ë³´ì¥ë˜ëŠ” ì„ íƒ.\n${body}`,
          `í•œêµ­ ì‚¬íšŒì˜ ìƒì§•.\n${body}`,
        ],
        ìƒê°€: [
          `ìœ ë™ì¸êµ¬ê°€ ëˆì´ ë˜ëŠ” ì„¸ê³„.\n${body}`,
          `ì„ì°¨ì¸ ìš´ì´ ë”°ë¼ì£¼ê¸¸.\n${body}`,
          `ê°„íŒ ë¶ˆë¹›ì„ ìƒìƒí–ˆë‹¤.\n${body}`,
          `ìƒê¶Œì˜ í˜ì„ ë¯¿ëŠ”ë‹¤.\n${body}`,
          `ìœ ë™ì¸êµ¬ê°€ ë‚´ ìˆ˜ìµì´ë‹¤.\n${body}`,
          `ìƒê¶Œ íˆ¬ìì˜ ë¬˜ë¯¸.\n${body}`,
          `ì„ëŒ€ ìˆ˜ìµì˜ ë‹¬ì½¤í•¨.\n${body}`,
          `ìƒê°€ì˜ ê°€ì¹˜ë¥¼ ì•Œì•„ë³¸ë‹¤.\n${body}`,
          `ìœ ë™ì¸êµ¬ê°€ ê³§ ëˆì´ë‹¤.\n${body}`,
          `ìƒê¶Œì˜ íŒŒë„ë¥¼ íƒ€ë³¸ë‹¤.\n${body}`,
          `ì„ì°¨ì¸ì˜ ì„±ê³µì´ ë‚´ ì„±ê³µ.\n${body}`,
          `ìƒê°€ íˆ¬ìì˜ ë¦¬ìŠ¤í¬.\n${body}`,
        ],
        ë¹Œë”©: [
          `ìŠ¤ì¹´ì´ë¼ì¸ì„ í•œ ì¡°ê° ìƒ€ë‹¤.\n${body}`,
          `ì´ê±´â€¦ ì§„ì§œ ëíŒì™• ëŠë‚Œì´ë‹¤.\n${body}`,
          `ë„ì‹œê°€ ë‚´ í¸ì¸ ê²ƒ ê°™ì•˜ë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì •ì .\n${body}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì˜ ì£¼ì¸.\n${body}`,
          `ë„ì‹œì˜ í•œ ì¡°ê°ì„ ì†Œìœ í•œë‹¤.\n${body}`,
          `ë¹Œë”©ì˜ ë¬´ê²Œê°.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì™„ì„±.\n${body}`,
          `ë„ì‹œì˜ ì‹¬ì¥ë¶€ë¥¼ ìƒ€ë‹¤.\n${body}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì— ë‚´ ì´ë¦„ì´.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ê¶ê·¹.\n${body}`,
          `ë„ì‹œì˜ í•œ ë¶€ë¶„ì´ ë‚´ ê²ƒì´ë‹¤.\n${body}`,
        ],
      }

      if (name && buyByProduct[name]) {
        return pick(`buy_${name}`, buyByProduct[name])
      }

      return pick('buy', [
        `ê²°ì‹¬í•˜ê³  ì§ˆë €ë‹¤.\n${body}`,
        `í†µì¥ ì”ê³ ê°€ ì¤„ì–´ë“¤ì—ˆë‹¤. ëŒ€ì‹  ë¯¸ë˜ë¥¼ ìƒ€ë‹¤.\n${body}`,
        `ì´ê±´ ì†Œë¹„ê°€ ì•„ë‹ˆë¼ íˆ¬ìë¼ê³ â€¦ ìŠ¤ìŠ¤ë¡œì—ê²Œ ë§í–ˆë‹¤.\n${body}`,
        `í•œ ë°œ ë” ë‚˜ì•„ê°”ë‹¤.\n${body}`,
        `ì†ì´ ë¨¼ì € ì›€ì§ì˜€ë‹¤.\n${body}`,
        `íˆ¬ìì˜ ê¸¸ì„ ê±·ëŠ”ë‹¤.\n${body}`,
        `ë¯¸ë˜ë¥¼ ìœ„í•œ ì„ íƒ.\n${body}`,
        `ëˆì´ ëˆì„ ë²„ëŠ” êµ¬ì¡°.\n${body}`,
        `ìì‚°ì„ ëŠ˜ë¦¬ëŠ” ìˆœê°„.\n${body}`,
        `íˆ¬ììì˜ ë§ˆìŒê°€ì§.\n${body}`,
      ])
    }
    if (s.startsWith('ğŸ’°') && s.includes('íŒë§¤í–ˆìŠµë‹ˆë‹¤')) {
      const body = soften(s)
      const m = s.match(/^ğŸ’°\s*(.+?)\s+\d/)
      const name = (m?.[1] || '').trim()
      const sellByProduct = {
        ì½”ì¸: [
          `ì†ì´ ë–¨ë¦¬ê¸° ì „ì— ë‚´ë ¸ë‹¤.\n${body}`,
          `ìš•ì‹¬ì„ ì ‘ì—ˆë‹¤. ì˜¤ëŠ˜ì€ ì´ì¯¤.\n${body}`,
          `ì‚´ì•„ë‚¨ëŠ” ê²Œ ë¨¼ì €ë‹¤.\n${body}`,
          `FOMOë¥¼ ì´ê²¨ëƒˆë‹¤.\n${body}`,
          `ë©˜íƒˆì„ ì§€í‚¤ê¸° ìœ„í•´ ë‚´ë ¸ë‹¤.\n${body}`,
          `ë¡¤ëŸ¬ì½”ìŠ¤í„°ì—ì„œ ë‚´ë ¸ë‹¤.\n${body}`,
          `ë³€ë™ì„±ì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
          `ì†ì ˆì˜ ì•„í””ì„ ê²¬ëŒë‚¸ë‹¤.\n${body}`,
          `ì½”ì¸íŒì—ì„œ ì‚´ì•„ë‚¨ì•˜ë‹¤.\n${body}`,
          `ìœ„í—˜ì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
        ],
        êµ­ë‚´ì£¼ì‹: [
          `ìˆ˜ìµì´ë“  ì†ì ˆì´ë“ , ê²°ë¡ ì€ ëƒˆë‹¤.\n${body}`,
          `ì°¨íŠ¸ì™€ ì ê¹ ì´ë³„.\n${body}`,
          `ì •ë¦¬í•˜ê³  ìˆ¨ ëŒë¦°ë‹¤.\n${body}`,
          `êµ­ì¥ì˜ íŒŒë„ì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
          `ì°¨íŠ¸ì˜ ë¬´ê²Œì—ì„œ í•´ë°©.\n${body}`,
          `íˆ¬ì í¬ì§€ì…˜ì„ ì •ë¦¬í–ˆë‹¤.\n${body}`,
          `ë³€ë™ì„±ì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
          `êµ­ì¥ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ì—ì„œ í•´ë°©.\n${body}`,
          `ì •ë¦¬í•˜ê³  ë‹¤ìŒ ê¸°íšŒë¥¼ ë³¸ë‹¤.\n${body}`,
          `ì°¨íŠ¸ì™€ì˜ ê´€ê³„ë¥¼ ì •ë¦¬í–ˆë‹¤.\n${body}`,
        ],
        ë¯¸êµ­ì£¼ì‹: [
          `ì‹œì°¨ë„ ê°™ì´ ì •ë¦¬í–ˆë‹¤.\n${body}`,
          `ë‹¬ëŸ¬ ìƒê°ì€ ì ì‹œ ì ‘ëŠ”ë‹¤.\n${body}`,
          `ì ê¹ ì‰¬ì–´ê°€ê¸°ë¡œ í–ˆë‹¤.\n${body}`,
          `ë¯¸ì¥ì˜ ë°¤ìƒ˜ì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
          `ì‹œì°¨ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ì—ì„œ í•´ë°©.\n${body}`,
          `ë‹¬ëŸ¬ì˜ ë¬´ê²Œì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
          `ë¯¸ì¥ íˆ¬ìë¥¼ ì •ë¦¬í–ˆë‹¤.\n${body}`,
          `ê¸€ë¡œë²Œ íˆ¬ìì—ì„œ ì ì‹œ íœ´ì‹.\n${body}`,
          `í™˜ìœ¨ ê±±ì •ì„ ì ‘ì—ˆë‹¤.\n${body}`,
          `ë¯¸ì¥ì˜ ë¦¬ë“¬ì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
        ],
        ì˜ˆê¸ˆ: [
          `ì•ˆì „ë²¨íŠ¸ë¥¼ í’€ì—ˆë‹¤.\n${body}`,
          `í˜„ê¸ˆì´ í•„ìš”í–ˆë‹¤.\n${body}`,
          `ì•ˆì „í•¨ì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
          `ì˜ˆê¸ˆì˜ ì•ˆì •ì„±ì„ í¬ê¸°í–ˆë‹¤.\n${body}`,
          `í˜„ê¸ˆí™”ì˜ ì„ íƒ.\n${body}`,
          `ì•ˆì „í•œ ê³³ì—ì„œ ëˆì„ êº¼ëƒˆë‹¤.\n${body}`,
          `ì˜ˆê¸ˆì˜ í¸ì•ˆí•¨ì„ ìƒì—ˆë‹¤.\n${body}`,
          `í˜„ê¸ˆì´ í•„ìš”í•´ ì •ë¦¬í–ˆë‹¤.\n${body}`,
          `ì•ˆì „í•œ íˆ¬ìì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
          `ì˜ˆê¸ˆì˜ ì¿ ì…˜ì„ ì œê±°í–ˆë‹¤.\n${body}`,
        ],
        ì ê¸ˆ: [
          `ê¾¸ì¤€í•¨ì„ ì ê¹ ë©ˆì·„ë‹¤.\n${body}`,
          `ë£¨í‹´ì„ ê¹¼ë‹¤. ì‚¬ì •ì´ ìˆì—ˆë‹¤.\n${body}`,
          `ì ê¸ˆì˜ ë£¨í‹´ì„ ì¤‘ë‹¨í–ˆë‹¤.\n${body}`,
          `ê¾¸ì¤€í•¨ì„ í¬ê¸°í–ˆë‹¤.\n${body}`,
          `ë£¨í‹´ì˜ í˜ì„ ìƒì—ˆë‹¤.\n${body}`,
          `ì ê¸ˆì˜ ì•ˆì •ì„±ì„ í¬ê¸°.\n${body}`,
          `ë§¤ì¼ì˜ ìŠµê´€ì„ ê¹¼ë‹¤.\n${body}`,
          `ì ê¸ˆì˜ ê¾¸ì¤€í•¨ì„ ì¤‘ë‹¨.\n${body}`,
          `ë£¨í‹´ íˆ¬ìì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
          `ì ê¸ˆì˜ ì‹œê°„ì„ í¬ê¸°í–ˆë‹¤.\n${body}`,
        ],
        ë¹Œë¼: [
          `ì •ë“  ê²ƒê³¼ ì´ë³„.\n${body}`,
          `í˜„ì‹¤ì ìœ¼ë¡œ ì •ë¦¬í–ˆë‹¤.\n${body}`,
          `ì²« ì§‘ê³¼ ì‘ë³„.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìë¥¼ ì •ë¦¬í–ˆë‹¤.\n${body}`,
          `ì‘ì€ ì§‘ì„ ë‚´ë ¤ë†¨ë‹¤.\n${body}`,
          `ì²« ë¶€ë™ì‚°ê³¼ ì´ë³„.\n${body}`,
          `ì§‘ì˜ ë¬´ê²Œì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
          `ë¶€ë™ì‚°ì˜ ì²«ê±¸ìŒì„ ì •ë¦¬.\n${body}`,
          `ì‘ì€ ì§‘ì„ í¬ê¸°í–ˆë‹¤.\n${body}`,
          `ì²« ì§‘ì˜ ì¶”ì–µì„ ì •ë¦¬.\n${body}`,
        ],
        ì˜¤í”¼ìŠ¤í…”: [
          `ë™ì„ ì€ ì´ì œ ì•ˆë…•.\n${body}`,
          `ì •ë¦¬í•˜ê³  ë‹¤ìŒìœ¼ë¡œ.\n${body}`,
          `ì‹¤ìš©ì ì¸ íˆ¬ìë¥¼ ì •ë¦¬.\n${body}`,
          `ì¶œê·¼ ë™ì„ ì˜ í¸ì˜ë¥¼ í¬ê¸°.\n${body}`,
          `í˜„ì‹¤ì ì¸ ì„ íƒì„ ì •ë¦¬.\n${body}`,
          `ì˜¤í”¼ìŠ¤í…”ì˜ ì‹¤ìš©ì„±ì„ í¬ê¸°.\n${body}`,
          `ìƒí™œì˜ í¸ì˜ë¥¼ ìƒì—ˆë‹¤.\n${body}`,
          `ë„ì‹œ ìƒí™œì˜ í˜„ì‹¤ì„ ì •ë¦¬.\n${body}`,
          `ì‘ì€ ê³µê°„ì„ ë‚´ë ¤ë†¨ë‹¤.\n${body}`,
          `í˜„ì‹¤ì ì¸ íˆ¬ìë¥¼ ì •ë¦¬.\n${body}`,
        ],
        ì•„íŒŒíŠ¸: [
          `ê¿ˆì„ ì ì‹œ ë‚´ë ¤ë†“ì•˜ë‹¤.\n${body}`,
          `ì •ë¦¬í–ˆë‹¤. ë§ˆìŒì´ ì¢€ ì“°ë‹¤.\n${body}`,
          `í•œêµ­ì¸ì˜ ê¿ˆì„ í¬ê¸°.\n${body}`,
          `ì•ˆì •ì˜ ìƒì§•ì„ ë‚´ë ¤ë†¨ë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìë¥¼ ì •ë¦¬.\n${body}`,
          `ì•„íŒŒíŠ¸ì˜ ë¬´ê²Œì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
          `ê¿ˆì´ í˜„ì‹¤ì—ì„œ ë©€ì–´ì¡Œë‹¤.\n${body}`,
          `ì•ˆì •ì ì¸ íˆ¬ìë¥¼ í¬ê¸°.\n${body}`,
          `ë¶€ë™ì‚°ì˜ ëŒ€í‘œì£¼ìë¥¼ ì •ë¦¬.\n${body}`,
          `ê°€ì¹˜ ë³´ì¥ì„ í¬ê¸°í–ˆë‹¤.\n${body}`,
        ],
        ìƒê°€: [
          `ì„ì°¨ì¸ ê±±ì •ì´ ëœì—ˆë‹¤.\n${body}`,
          `ìƒê¶Œì´ë€ ê²Œ ì°¸â€¦\n${body}`,
          `ìœ ë™ì¸êµ¬ì˜ ê¸°íšŒë¥¼ í¬ê¸°.\n${body}`,
          `ìƒê¶Œ íˆ¬ìë¥¼ ì •ë¦¬í–ˆë‹¤.\n${body}`,
          `ì„ëŒ€ ìˆ˜ìµì˜ ë‹¬ì½¤í•¨ì„ í¬ê¸°.\n${body}`,
          `ìƒê°€ì˜ ê°€ì¹˜ë¥¼ ë‚´ë ¤ë†¨ë‹¤.\n${body}`,
          `ìœ ë™ì¸êµ¬ì˜ ìˆ˜ìµì„ í¬ê¸°.\n${body}`,
          `ìƒê¶Œì˜ íŒŒë„ì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
          `ì„ì°¨ì¸ì˜ ì„±ê³µì„ í¬ê¸°.\n${body}`,
          `ìƒê°€ íˆ¬ìì˜ ë¦¬ìŠ¤í¬ë¥¼ ì •ë¦¬.\n${body}`,
        ],
        ë¹Œë”©: [
          `ë„ì‹œ í•œ ì¡°ê°ì„ ë‚´ë ¤ë†¨ë‹¤.\n${body}`,
          `ì •ë¦¬í–ˆë‹¤. ë‹¤ì‹œ ì˜¬ë¼ê°€ë©´ ëœë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì •ì ì„ í¬ê¸°.\n${body}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì˜ ì£¼ì¸ì„ ë‚´ë ¤ë†¨ë‹¤.\n${body}`,
          `ë„ì‹œì˜ í•œ ì¡°ê°ì„ í¬ê¸°.\n${body}`,
          `ë¹Œë”©ì˜ ë¬´ê²Œì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì™„ì„±ì„ ì •ë¦¬.\n${body}`,
          `ë„ì‹œì˜ ì‹¬ì¥ë¶€ë¥¼ í¬ê¸°.\n${body}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì—ì„œ ë‚´ ì´ë¦„ì„ ì§€ì› ë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ê¶ê·¹ì„ ì •ë¦¬.\n${body}`,
        ],
      }
      if (name && sellByProduct[name]) {
        return pick(`sell_${name}`, sellByProduct[name])
      }
      return pick('sell', [
        `ì •ë¦¬í•  ê±´ ì •ë¦¬í–ˆë‹¤.\n${body}`,
        `ê°€ë”ì€ ì¤„ì—¬ì•¼ ì‚°ë‹¤.\n${body}`,
        `í˜„ê¸ˆì´ í•„ìš”í–ˆë‹¤. ê·¸ë˜ì„œ íŒ”ì•˜ë‹¤.\n${body}`,
        `ë¯¸ë ¨ì€ ì ‘ì–´ë‘ê³  ì •ë¦¬.\n${body}`,
        `íˆ¬ì í¬ì§€ì…˜ì„ ì •ë¦¬í–ˆë‹¤.\n${body}`,
        `í˜„ê¸ˆí™”ì˜ ì„ íƒ.\n${body}`,
        `ìì‚°ì„ ì •ë¦¬í•˜ëŠ” ìˆœê°„.\n${body}`,
        `íˆ¬ìì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${body}`,
        `ì •ë¦¬í•˜ê³  ë‹¤ìŒ ê¸°íšŒë¥¼ ë³¸ë‹¤.\n${body}`,
        `ë¯¸ë ¨ ì—†ì´ ì •ë¦¬í–ˆë‹¤.\n${body}`,
      ])
    }
    if (s.startsWith('âŒ')) {
      const body = soften(s)
      return pick('fail', [
        `ì˜¤ëŠ˜ì€ ëœ»ëŒ€ë¡œ ì•ˆ ëë‹¤.\n${body}`,
        `ê³„íšì€ ëŠ˜ ê³„íšëŒ€ë¡œ ì•ˆ ëœë‹¤.\n${body}`,
        `í•œ ë²ˆ ë”. ë‹¤ìŒì—” ë  ê±°ë‹¤.\n${body}`,
        `ë²½ì— ë¶€ë”ªí˜”ë‹¤.\n${body}`,
        `ì‹¤íŒ¨ëŠ” ë˜ ë‹¤ë¥¸ ì‹œì‘.\n${body}`,
        `ì¢Œì ˆì€ ì ì‹œë¿.\n${body}`,
        `ë‹¤ì‹œ ì¼ì–´ì„œì•¼ í•œë‹¤.\n${body}`,
        `ì‹¤íŒ¨ë„ ê²½í—˜ì´ë‹¤.\n${body}`,
        `ë‹¤ìŒ ê¸°íšŒë¥¼ ê¸°ë‹¤ë¦°ë‹¤.\n${body}`,
        `ì‹¤íŒ¨ì—ì„œ ë°°ìš´ë‹¤.\n${body}`,
      ])
    }

    // ì‹œì¥ ì´ë²¤íŠ¸
    if (s.startsWith('ğŸ“ˆ') && s.includes('ë°œìƒ')) {
      const body = soften(s)

      // ì˜ˆ) "ğŸ“ˆ ê°•ë‚¨ ì•„íŒŒíŠ¸ ëŒ€ë°• ë°œìƒ! 30ì´ˆê°„ ì§€ì†"
      // ì˜ˆ) "ğŸ“ˆ ì‹œì¥ ì´ë²¤íŠ¸ ë°œìƒ: ê°•ë‚¨ ì•„íŒŒíŠ¸ ëŒ€ë°• (30ì´ˆ)"
      const name1 = s.match(/^ğŸ“ˆ\s*(.+?)\s*ë°œìƒ/)?.[1]?.trim()
      const name2 = s.match(/^ğŸ“ˆ\s*ì‹œì¥ ì´ë²¤íŠ¸ ë°œìƒ:\s*(.+?)\s*\(/)?.[1]?.trim()
      const eventName = (name2 || name1 || '').trim()

      const detectProduct = txt => {
        const t = String(txt || '')
        const rules = [
          ['ë¹Œë”©', 'ë¹Œë”©'],
          ['ìƒê°€', 'ìƒê°€'],
          ['ì•„íŒŒíŠ¸', 'ì•„íŒŒíŠ¸'],
          ['ì˜¤í”¼ìŠ¤í…”', 'ì˜¤í”¼ìŠ¤í…”'],
          ['ë¹Œë¼', 'ë¹Œë¼'],
          ['ì½”ì¸', 'ì½”ì¸'],
          ['ì•”í˜¸', 'ì½”ì¸'],
          ['í¬ë¦½í† ', 'ì½”ì¸'],
          ['â‚¿', 'ì½”ì¸'],
          ['ë¯¸êµ­', 'ë¯¸êµ­ì£¼ì‹'],
          ['ğŸ‡ºğŸ‡¸', 'ë¯¸êµ­ì£¼ì‹'],
          ['ë‹¬ëŸ¬', 'ë¯¸êµ­ì£¼ì‹'],
          ['ì£¼ì‹', 'êµ­ë‚´ì£¼ì‹'],
          ['ì½”ìŠ¤í”¼', 'êµ­ë‚´ì£¼ì‹'],
          ['ì½”ìŠ¤ë‹¥', 'êµ­ë‚´ì£¼ì‹'],
          ['ì ê¸ˆ', 'ì ê¸ˆ'],
          ['ì˜ˆê¸ˆ', 'ì˜ˆê¸ˆ'],
          ['ë…¸ë™', 'ë…¸ë™'],
          ['í´ë¦­', 'ë…¸ë™'],
          ['ì—…ë¬´', 'ë…¸ë™'],
        ]
        for (const [k, v] of rules) if (t.includes(k)) return v
        return ''
      }

      const product = detectProduct(`${eventName} ${body}`) || 'ì‹œì¥'
      window.__diaryLastMarketProduct = product
      window.__diaryLastMarketName = eventName || body

      const byProduct = {
        ì˜ˆê¸ˆ: [
          `ì˜ˆê¸ˆ ìª½ì€ í”ë“¤ë ¤ë„ í‹°ê°€ ëœ ë‚œë‹¤. ê·¸ê²Œ ì¥ì ì´ì ë‹¨ì .\n${body}`,
          `ì•ˆì •ì€ ì¡°ìš©íˆ ëˆì„ ë²ˆë‹¤. ì˜¤ëŠ˜ë„ ì˜ˆê¸ˆì€ ì˜ˆê¸ˆí–ˆë‹¤.\n${body}`,
          `ì˜ˆê¸ˆì€ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ê²Œ ì¥ì .\n${body}`,
          `ì•ˆì •ì ì¸ íˆ¬ìëŠ” ì¡°ìš©í•˜ë‹¤.\n${body}`,
          `ì˜ˆê¸ˆì˜ í‰ì˜¨í•¨ì´ ëŠê»´ì§„ë‹¤.\n${body}`,
          `ë³€ë™ì„± ì—†ëŠ” íˆ¬ìì˜ í¸ì•ˆí•¨.\n${body}`,
          `ì˜ˆê¸ˆì€ ëŠ˜ ê·¸ ìë¦¬ë‹¤.\n${body}`,
          `ì•ˆì „í•¨ì˜ ê°€ì¹˜ë¥¼ ëŠë‚€ë‹¤.\n${body}`,
          `ì˜ˆê¸ˆì˜ ì¡°ìš©í•œ ìˆ˜ìµ.\n${body}`,
          `ë³€ë™ ì—†ëŠ” íˆ¬ìì˜ í‰ì˜¨.\n${body}`,
        ],
        ì ê¸ˆ: [
          `ë£¨í‹´ì´ í”ë“¤ë¦¬ëŠ” ë‚ ì´ ìˆë‹¤. ê·¸ë˜ë„ ì ê¸ˆì€ ì ê¸ˆ.\n${body}`,
          `ê¾¸ì¤€í•¨ì˜ ì„¸ê³„ì—ë„ ì´ë²¤íŠ¸ëŠ” ì˜¨ë‹¤.\n${body}`,
          `ì ê¸ˆì˜ ë£¨í‹´ì´ í”ë“¤ë¦°ë‹¤.\n${body}`,
          `ê¾¸ì¤€í•¨ì—ë„ ë³€í™”ê°€ ìˆë‹¤.\n${body}`,
          `ì ê¸ˆì˜ ì•ˆì •ì„±ì´ ì‹œí—˜ë°›ëŠ”ë‹¤.\n${body}`,
          `ë£¨í‹´ íˆ¬ìì˜ ë³€ë™.\n${body}`,
          `ë§¤ì¼ì˜ ìŠµê´€ì´ í”ë“¤ë¦°ë‹¤.\n${body}`,
          `ì ê¸ˆì˜ ê¾¸ì¤€í•¨ì´ ì‹œí—˜ë°›ëŠ”ë‹¤.\n${body}`,
          `ì‹œê°„ì´ ë§Œë“œëŠ” íˆ¬ìì˜ ë³€í™”.\n${body}`,
          `ì ê¸ˆì˜ ë£¨í‹´ì´ ë°”ë€ë‹¤.\n${body}`,
        ],
        êµ­ë‚´ì£¼ì‹: [
          `ì°¨íŠ¸ê°€ ë˜ ë‚  ì‹œí—˜í•œë‹¤.\n${body}`,
          `ë‰´ìŠ¤ í•œ ì¤„ì— ì‹¬ì¥ì´ ë¨¼ì € ë°˜ì‘í–ˆë‹¤.\n${body}`,
          `êµ­ì¥ë‹µê²Œâ€¦ ì˜¤ëŠ˜ë„ ë³€ë™ì„±.\n${body}`,
          `êµ­ì¥ì˜ íŒŒë„ê°€ ë†’ì•„ì§„ë‹¤.\n${body}`,
          `ì°¨íŠ¸ì˜ ì‹¬ì¥ë°•ë™ì´ ë¹¨ë¼ì§„ë‹¤.\n${body}`,
          `êµ­ì¥ì˜ ë³€ë™ì„±ì´ ê·¹ëŒ€í™”ëœë‹¤.\n${body}`,
          `ë‰´ìŠ¤ í•œ ì¤„ì´ ëª¨ë“  ê±¸ ë°”ê¾¼ë‹¤.\n${body}`,
          `êµ­ì¥ì˜ ë¬´ê²Œê°€ ëŠê»´ì§„ë‹¤.\n${body}`,
          `ì°¨íŠ¸ì˜ íŒŒë„ë¥¼ íƒ€ì•¼ í•œë‹¤.\n${body}`,
          `êµ­ì¥ íˆ¬ìì˜ ë¦¬ìŠ¤í¬ê°€ ì»¤ì§„ë‹¤.\n${body}`,
        ],
        ë¯¸êµ­ì£¼ì‹: [
          `ì‹œì°¨ê°€ ì˜¤ëŠ˜ë”°ë¼ ë” ê¸¸ê²Œ ëŠê»´ì§„ë‹¤.\n${body}`,
          `ë‹¬ëŸ¬ë‘ ê°ì •ì€ ë¶„ë¦¬â€¦ í•˜ì.\n${body}`,
          `ë¯¸ì¥ ì´ë²¤íŠ¸ëŠ” ë°¤ì— ë” í¬ê²Œ ë“¤ë¦°ë‹¤.\n${body}`,
          `ë¯¸ì¥ì˜ íŒŒë„ê°€ ë†’ì•„ì§„ë‹¤.\n${body}`,
          `ì‹œì°¨ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ì»¤ì§„ë‹¤.\n${body}`,
          `ë‹¬ëŸ¬ì˜ ë¬´ê²Œê°€ ëŠê»´ì§„ë‹¤.\n${body}`,
          `ë¯¸ì¥ì˜ ë¦¬ë“¬ì´ ë°”ë€ë‹¤.\n${body}`,
          `í™˜ìœ¨ì˜ ë³€ë™ì´ ì‹¬í•´ì§„ë‹¤.\n${body}`,
          `ë°¤ìƒ˜ì˜ ëŒ€ê°€ê°€ ì»¤ì§„ë‹¤.\n${body}`,
          `ê¸€ë¡œë²Œ íˆ¬ìì˜ ë¬´ê²Œ.\n${body}`,
        ],
        ì½”ì¸: [
          `ë©˜íƒˆì´ ë¨¼ì € í”ë“¤ë¦°ë‹¤. ì½”ì¸ì€ ëŠ˜ ê·¸ë ‡ë‹¤.\n${body}`,
          `ë¡¤ëŸ¬ì½”ìŠ¤í„°ê°€ ì¶œë°œí–ˆë‹¤.\n${body}`,
          `FOMOë‘ ì†ì ˆ ì‚¬ì´ì—ì„œ ì¤„íƒ€ê¸°.\n${body}`,
          `ì½”ì¸íŒì˜ íŒŒë„ê°€ ê±°ì„¸ì§„ë‹¤.\n${body}`,
          `ë³€ë™ì„±ì˜ ê·¹ì¹˜ë¥¼ ê²½í—˜í•œë‹¤.\n${body}`,
          `ë©˜íƒˆì´ ì‹œí—˜ë°›ëŠ” ìˆœê°„.\n${body}`,
          `FOMOì™€ ê³µí¬ ì‚¬ì´ì—ì„œ.\n${body}`,
          `ë¡¤ëŸ¬ì½”ìŠ¤í„°ì˜ ì •ì ì— ì„œ ìˆë‹¤.\n${body}`,
          `ì½”ì¸íŒì˜ ë¬´ê²Œê°€ ëŠê»´ì§„ë‹¤.\n${body}`,
          `ìœ„í—˜ì„ ê°ìˆ˜í•˜ëŠ” íˆ¬ìì˜ ê·¹ì¹˜.\n${body}`,
        ],
        ë¹Œë¼: [
          `ë™ë„¤ ë¶„ìœ„ê¸°ê°€ ë°”ë€Œë©´ ë¹Œë¼ë„ ìˆ¨ì„ ì‰°ë‹¤.\n${body}`,
          `ì‘ì€ ì§‘ë„ ê²°êµ­ì€ ì‹œì¥ì„ íƒ„ë‹¤.\n${body}`,
          `ë¶€ë™ì‚° ì‹œì¥ì˜ íŒŒë„ê°€ ëŠê»´ì§„ë‹¤.\n${body}`,
          `ì‘ì€ ì§‘ë„ ì‹œì¥ì˜ ì˜í–¥ì„ ë°›ëŠ”ë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ë³€ë™ì„±.\n${body}`,
          `ë™ë„¤ ë¶„ìœ„ê¸°ì˜ ë³€í™”.\n${body}`,
          `ì‘ì€ ì§‘ì˜ ê°€ì¹˜ê°€ í”ë“¤ë¦°ë‹¤.\n${body}`,
          `ë¶€ë™ì‚° ì‹œì¥ì˜ ë¦¬ë“¬.\n${body}`,
          `ì²« ì§‘ì˜ ë¬´ê²Œê°ì´ ëŠê»´ì§„ë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ë¦¬ìŠ¤í¬.\n${body}`,
        ],
        ì˜¤í”¼ìŠ¤í…”: [
          `í˜„ì‹¤ì˜ ìˆ˜ìš”ê°€ ì›€ì§ì´ëŠ” ì†Œë¦¬ê°€ ë‚œë‹¤.\n${body}`,
          `ì¶œê·¼ ë™ì„ ì´ ë°”ë€Œë©´ ì›”ì„¸ë„ ê°™ì´ í”ë“¤ë¦°ë‹¤.\n${body}`,
          `ì‹¤ìš©ì ì¸ íˆ¬ìë„ ì‹œì¥ì˜ ì˜í–¥ì„ ë°›ëŠ”ë‹¤.\n${body}`,
          `ìƒí™œì˜ í¸ì˜ê°€ ì‹œì¥ì— ì¢Œìš°ëœë‹¤.\n${body}`,
          `ë„ì‹œ ìƒí™œì˜ í˜„ì‹¤ì´ ë°”ë€ë‹¤.\n${body}`,
          `ì˜¤í”¼ìŠ¤í…”ì˜ ê°€ì¹˜ê°€ í”ë“¤ë¦°ë‹¤.\n${body}`,
          `í˜„ì‹¤ì ì¸ íˆ¬ìì˜ ë³€ë™ì„±.\n${body}`,
          `ìƒí™œì˜ ì§ˆì´ ì‹œì¥ì— ì¢Œìš°ëœë‹¤.\n${body}`,
          `ì‹¤ìš©ì£¼ì˜ íˆ¬ìì˜ ë¦¬ìŠ¤í¬.\n${body}`,
          `ë„ì‹œ ìƒí™œì˜ í˜„ì‹¤ì´ ëŠê»´ì§„ë‹¤.\n${body}`,
        ],
        ì•„íŒŒíŠ¸: [
          `ì•„íŒŒíŠ¸ëŠ” 'ìƒì§•'ì´ë¼ë”ë‹ˆ, ì´ë²¤íŠ¸ë„ ìƒì§•ì²˜ëŸ¼ í¬ê²Œ ì˜¨ë‹¤.\n${body}`,
          `ê¿ˆì´ í”ë“¤ë¦´ ë•Œê°€ ìˆë‹¤.\n${body}`,
          `í•œêµ­ì¸ì˜ ê¿ˆì´ ì‹œì¥ì— ì¢Œìš°ëœë‹¤.\n${body}`,
          `ì•ˆì •ì˜ ìƒì§•ì´ í”ë“¤ë¦°ë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì •ì ì´ ì‹œí—˜ë°›ëŠ”ë‹¤.\n${body}`,
          `ì•„íŒŒíŠ¸ì˜ ë¬´ê²Œê°ì´ ëŠê»´ì§„ë‹¤.\n${body}`,
          `ê¿ˆì´ í˜„ì‹¤ì—ì„œ ë©€ì–´ì§ˆ ìˆ˜ ìˆë‹¤.\n${body}`,
          `ì•ˆì •ì ì¸ íˆ¬ìë„ ë³€ë™í•œë‹¤.\n${body}`,
          `ë¶€ë™ì‚°ì˜ ëŒ€í‘œì£¼ìê°€ í”ë“¤ë¦°ë‹¤.\n${body}`,
          `ê°€ì¹˜ ë³´ì¥ì´ ì‹œì¥ì— ì¢Œìš°ëœë‹¤.\n${body}`,
        ],
        ìƒê°€: [
          `ìœ ë™ì¸êµ¬ë¼ëŠ” ë§ì´ ì˜¤ëŠ˜ì€ ë¬´ê²ë‹¤.\n${body}`,
          `ì¥ì‚¬ë¼ëŠ” ê±´ ê²°êµ­ íŒŒë„ íƒ€ê¸°.\n${body}`,
          `ìƒê¶Œì˜ í˜ì´ ì‹œì¥ì— ì¢Œìš°ëœë‹¤.\n${body}`,
          `ìœ ë™ì¸êµ¬ì˜ ìˆ˜ìµì´ ë³€ë™í•œë‹¤.\n${body}`,
          `ìƒê¶Œ íˆ¬ìì˜ ë¬˜ë¯¸ì™€ ë¦¬ìŠ¤í¬.\n${body}`,
          `ì„ëŒ€ ìˆ˜ìµì˜ ë‹¬ì½¤í•¨ê³¼ ì“´ë§›.\n${body}`,
          `ìƒê°€ì˜ ê°€ì¹˜ê°€ í”ë“¤ë¦°ë‹¤.\n${body}`,
          `ìƒê¶Œì˜ íŒŒë„ê°€ ê±°ì„¸ì§„ë‹¤.\n${body}`,
          `ì„ì°¨ì¸ì˜ ì„±ê³µì´ ì‹œì¥ì— ì¢Œìš°ëœë‹¤.\n${body}`,
          `ìƒê°€ íˆ¬ìì˜ ë¦¬ìŠ¤í¬ê°€ ì»¤ì§„ë‹¤.\n${body}`,
        ],
        ë¹Œë”©: [
          `ë„ì‹œê°€ ìš”ë™ì¹˜ë©´ ë¹Œë”©ë„ ìš”ë™ì¹œë‹¤.\n${body}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì˜ ê³µê¸°ê°€ ë‹¬ë¼ì¡Œë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì •ì ì´ ì‹œí—˜ë°›ëŠ”ë‹¤.\n${body}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì˜ ì£¼ì¸ì´ ì‹œì¥ì— ì¢Œìš°ëœë‹¤.\n${body}`,
          `ë„ì‹œì˜ í•œ ì¡°ê°ì´ í”ë“¤ë¦°ë‹¤.\n${body}`,
          `ë¹Œë”©ì˜ ë¬´ê²Œê°ì´ ëŠê»´ì§„ë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì™„ì„±ì´ ì‹œì¥ì— ì¢Œìš°ëœë‹¤.\n${body}`,
          `ë„ì‹œì˜ ì‹¬ì¥ë¶€ê°€ ìš”ë™ì¹œë‹¤.\n${body}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì˜ ì´ë¦„ì´ í”ë“¤ë¦°ë‹¤.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ê¶ê·¹ì´ ì‹œí—˜ë°›ëŠ”ë‹¤.\n${body}`,
        ],
        ë…¸ë™: [
          `ì—…ë¬´ íë¦„ì´ ë°”ë€Œë©´ ë‚´ í•˜ë£¨ë„ ë°”ë€ë‹¤.\n${body}`,
          `ì˜¤ëŠ˜ì€ ì†ì´ ë” ë°”ë¹ ì§ˆ ê²ƒ ê°™ë‹¤.\n${body}`,
          `ì¼ì˜ ë¦¬ë“¬ì´ ë°”ë€ë‹¤.\n${body}`,
          `ì—…ë¬´ì˜ íë¦„ì´ ì‹œì¥ì— ì¢Œìš°ëœë‹¤.\n${body}`,
          `ë…¸ë™ì˜ ê°€ì¹˜ê°€ ë³€ë™í•œë‹¤.\n${body}`,
          `ì¼ì˜ ë¬´ê²Œê°ì´ ëŠê»´ì§„ë‹¤.\n${body}`,
          `ì—…ë¬´ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ì»¤ì§„ë‹¤.\n${body}`,
          `ë…¸ë™ì˜ ë¦¬ë“¬ì´ ì‹œì¥ì— ì¢Œìš°ëœë‹¤.\n${body}`,
          `ì¼ì˜ ê°€ì¹˜ê°€ í”ë“¤ë¦°ë‹¤.\n${body}`,
          `ì—…ë¬´ì˜ ë³€ë™ì„±ì´ ëŠê»´ì§„ë‹¤.\n${body}`,
        ],
        ì‹œì¥: [
          `ì‹œì¥ì´ ì‹œë„ëŸ½ë‹¤.\n${body}`,
          `ë‰´ìŠ¤ê°€ ë‚œë¦¬ë‹¤.\n${body}`,
          `ë¶„ìœ„ê¸°ê°€ í™• ë°”ë€Œì—ˆë‹¤.\n${body}`,
          `ê°ì •ì€ ì ‘ê³ , ìƒí™©ë§Œ ê¸°ë¡.\n${body}`,
          `ì‹œì¥ì˜ íŒŒë„ê°€ ê±°ì„¸ì§„ë‹¤.\n${body}`,
          `ë‰´ìŠ¤ í•œ ì¤„ì´ ëª¨ë“  ê±¸ ë°”ê¾¼ë‹¤.\n${body}`,
          `ì‹œì¥ì˜ ë¬´ê²Œê°ì´ ëŠê»´ì§„ë‹¤.\n${body}`,
          `ë³€ë™ì„±ì˜ ê·¹ì¹˜ë¥¼ ê²½í—˜í•œë‹¤.\n${body}`,
          `ì‹œì¥ì˜ ë¦¬ë“¬ì´ ë°”ë€ë‹¤.\n${body}`,
          `íˆ¬ìì˜ ë¦¬ìŠ¤í¬ê°€ ì»¤ì§„ë‹¤.\n${body}`,
        ],
      }

      return pick(`market_${product}`, byProduct[product] || byProduct['ì‹œì¥'])
    }
    if (s.startsWith('ğŸ“‰') && s.includes('ì¢…ë£Œ')) {
      const product = window.__diaryLastMarketProduct || 'ì‹œì¥'
      const name = window.__diaryLastMarketName || ''
      // ì¢…ë£ŒëŠ” ì§§ê²Œ, ì—¬ìš´ë§Œ
      const byProduct = {
        ì½”ì¸: [
          `ì‹¬ì¥ì´ ê²¨ìš° ì§„ì •ëë‹¤. (${name ? name : 'ì´ë²¤íŠ¸ ì¢…ë£Œ'})`,
          `ì½”ì¸ ì¥ì€ ëë‚  ë•Œê¹Œì§€ ëë‚œ ê²Œ ì•„ë‹ˆë‹¤. ì˜¤ëŠ˜ì€ ì¼ë‹¨ ë.\n${name ? name : ''}`.trim(),
          `ë¡¤ëŸ¬ì½”ìŠ¤í„°ê°€ ë©ˆì·„ë‹¤. ì ì‹œë§Œ.\n${name ? name : ''}`.trim(),
          `FOMOì˜ íŒŒë„ê°€ ì ì í•´ì¡Œë‹¤.\n${name ? name : ''}`.trim(),
          `ë³€ë™ì„±ì˜ í­í’ì´ ì§€ë‚˜ê°”ë‹¤.\n${name ? name : ''}`.trim(),
          `ë©˜íƒˆì´ ê²¨ìš° íšŒë³µëë‹¤.\n${name ? name : ''}`.trim(),
          `ì½”ì¸íŒì˜ ì†Œë€ì´ ì ì í•´ì¡Œë‹¤.\n${name ? name : ''}`.trim(),
          `ìœ„í—˜ì˜ íŒŒë„ê°€ ì ì í•´ì¡Œë‹¤.\n${name ? name : ''}`.trim(),
        ],
        êµ­ë‚´ì£¼ì‹: [
          `ì°¨íŠ¸ê°€ ì ê¹ ì¡°ìš©í•´ì¡Œë‹¤.\n${name ? name : ''}`.trim(),
          `êµ­ì¥ ì†Œë€ ì¢…ë£Œ. ìˆ¨ í•œ ë²ˆ.\n${name ? name : ''}`.trim(),
          `ë‰´ìŠ¤ì˜ íŒŒë„ê°€ ì ì í•´ì¡Œë‹¤.\n${name ? name : ''}`.trim(),
          `ì°¨íŠ¸ì˜ ì‹¬ì¥ë°•ë™ì´ ì•ˆì •ëë‹¤.\n${name ? name : ''}`.trim(),
          `êµ­ì¥ì˜ ë³€ë™ì„±ì´ ì ì í•´ì¡Œë‹¤.\n${name ? name : ''}`.trim(),
          `íˆ¬ììì˜ ì‹¬ì¥ì´ ì§„ì •ëë‹¤.\n${name ? name : ''}`.trim(),
          `êµ­ì¥ì˜ ë¬´ê²Œì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${name ? name : ''}`.trim(),
          `ì°¨íŠ¸ì˜ íŒŒë„ê°€ ì ì í•´ì¡Œë‹¤.\n${name ? name : ''}`.trim(),
        ],
        ë¯¸êµ­ì£¼ì‹: [
          `ë°¤ì´ ì§€ë‚˜ê°”ë‹¤.\n${name ? name : ''}`.trim(),
          `ë¯¸ì¥ ì´ë²¤íŠ¸ ì¢…ë£Œ. ì•Œë¦¼ë„ ì ì .\n${name ? name : ''}`.trim(),
          `ì‹œì°¨ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ì‚¬ë¼ì¡Œë‹¤.\n${name ? name : ''}`.trim(),
          `ë‹¬ëŸ¬ì˜ ë¬´ê²Œì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${name ? name : ''}`.trim(),
          `ë¯¸ì¥ì˜ íŒŒë„ê°€ ì ì í•´ì¡Œë‹¤.\n${name ? name : ''}`.trim(),
          `ë°¤ìƒ˜ì˜ ëŒ€ê°€ê°€ ëë‚¬ë‹¤.\n${name ? name : ''}`.trim(),
          `í™˜ìœ¨ì˜ ë³€ë™ì´ ì ì í•´ì¡Œë‹¤.\n${name ? name : ''}`.trim(),
          `ê¸€ë¡œë²Œ íˆ¬ìì˜ ë¬´ê²Œì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${name ? name : ''}`.trim(),
        ],
        ë¶€ë™ì‚°: [
          `ë™ë„¤ê°€ ë‹¤ì‹œ í‰ì†Œ ì–¼êµ´ì„ ì°¾ì•˜ë‹¤.\n${name ? name : ''}`.trim(),
          `ë¶€ë™ì‚° ì‹œì¥ì´ ì•ˆì •ëë‹¤.\n${name ? name : ''}`.trim(),
          `ë™ë„¤ ë¶„ìœ„ê¸°ê°€ í‰ì†Œë¡œ ëŒì•„ì™”ë‹¤.\n${name ? name : ''}`.trim(),
          `ë¶€ë™ì‚° íˆ¬ìì˜ ë³€ë™ì„±ì´ ì ì í•´ì¡Œë‹¤.\n${name ? name : ''}`.trim(),
          `ì§‘ì˜ ë¬´ê²Œì—ì„œ ë²—ì–´ë‚¬ë‹¤.\n${name ? name : ''}`.trim(),
          `ë¶€ë™ì‚° ì‹œì¥ì˜ íŒŒë„ê°€ ì ì í•´ì¡Œë‹¤.\n${name ? name : ''}`.trim(),
          `ë¶€ë™ì‚° íˆ¬ìì˜ ë¦¬ìŠ¤í¬ê°€ ì¤„ì–´ë“¤ì—ˆë‹¤.\n${name ? name : ''}`.trim(),
          `ë™ë„¤ê°€ í‰ì†Œì˜ ëª¨ìŠµì„ ì°¾ì•˜ë‹¤.\n${name ? name : ''}`.trim(),
        ],
        ì‹œì¥: [
          `ì†Œë€ì´ ì ì í•´ì¡Œë‹¤.`,
          `í­í’ ì§€ë‚˜ê°€ê³  ê³ ìš”.`,
          `ì´ì œ í‰ì†ŒëŒ€ë¡œ.`,
          `ì‹œì¥ì˜ íŒŒë„ê°€ ì ì í•´ì¡Œë‹¤.`,
          `ë‰´ìŠ¤ì˜ ì†Œë€ì´ ëë‚¬ë‹¤.`,
          `ë³€ë™ì„±ì´ ì•ˆì •ëë‹¤.`,
          `íˆ¬ìì˜ ë¦¬ìŠ¤í¬ê°€ ì¤„ì–´ë“¤ì—ˆë‹¤.`,
          `ì‹œì¥ì˜ ë¬´ê²Œì—ì„œ ë²—ì–´ë‚¬ë‹¤.`,
        ],
      }

      // ë¶€ë™ì‚° ê³„ì—´ì€ í•œ ë²ˆ ë” ë¬¶ì–´ ì²˜ë¦¬
      const isRealEstate = ['ë¹Œë¼', 'ì˜¤í”¼ìŠ¤í…”', 'ì•„íŒŒíŠ¸', 'ìƒê°€', 'ë¹Œë”©'].includes(product)
      const key = isRealEstate ? 'ë¶€ë™ì‚°' : product
      const out = pick(`marketEnd_${key}`, byProduct[key] || byProduct['ì‹œì¥'])

      window.__diaryLastMarketProduct = null
      window.__diaryLastMarketName = null
      return out
    }
    if (s.startsWith('ğŸ’¡')) {
      const body = soften(s)
      const product = window.__diaryLastMarketProduct || ''
      const name = window.__diaryLastMarketName || ''

      const byProduct = {
        ì½”ì¸: [
          `ë©”ëª¨(ì½”ì¸): ë©˜íƒˆ ê´€ë¦¬ê°€ ìˆ˜ìµë¥ ì´ë‹¤.\n${body}`,
          `ì½”ì¸ ë©”ëª¨.\n${name ? `(${name})\n` : ''}${body}`.trim(),
          `ì½”ì¸ íˆ¬ì ë…¸íŠ¸: ë³€ë™ì„±ì„ ê²¬ëŒì•¼ í•œë‹¤.\n${body}`,
          `ì½”ì¸ ê¸°ë¡: FOMOë¥¼ ì´ê²¨ë‚´ì•¼ í•œë‹¤.\n${body}`,
          `ì½”ì¸ ë©”ëª¨: ë¡¤ëŸ¬ì½”ìŠ¤í„°ì˜ ì •ì ì—ì„œ ë‚´ë ¤ì•¼ í•œë‹¤.\n${body}`,
          `ì½”ì¸ íˆ¬ì ê¸°ë¡: ìœ„í—˜ì„ ê°ìˆ˜í•˜ëŠ” ì„ íƒ.\n${body}`,
        ],
        êµ­ë‚´ì£¼ì‹: [
          `ë©”ëª¨(êµ­ì¥): ë‰´ìŠ¤ í•œ ì¤„ì— í”ë“¤ë¦¬ì§€ ë§ ê²ƒ.\n${body}`,
          `êµ­ì¥ ë©”ëª¨.\n${name ? `(${name})\n` : ''}${body}`.trim(),
          `êµ­ì¥ íˆ¬ì ë…¸íŠ¸: ì°¨íŠ¸ì˜ íŒŒë„ë¥¼ íƒ€ì•¼ í•œë‹¤.\n${body}`,
          `êµ­ì¥ ê¸°ë¡: ë³€ë™ì„±ì„ ê²¬ëŒì•¼ í•œë‹¤.\n${body}`,
          `êµ­ì¥ ë©”ëª¨: íˆ¬ììì˜ ì‹¬ì¥ì´ ì‹œí—˜ë°›ëŠ”ë‹¤.\n${body}`,
          `êµ­ì¥ íˆ¬ì ê¸°ë¡: êµ­ì¥ì˜ ë¬´ê²Œë¥¼ ê²¬ëŒì•¼ í•œë‹¤.\n${body}`,
        ],
        ë¯¸êµ­ì£¼ì‹: [
          `ë©”ëª¨(ë¯¸ì¥): ì‹œì°¨ + í™˜ìœ¨ = ì²´ë ¥.\n${body}`,
          `ë¯¸ì¥ ë©”ëª¨.\n${name ? `(${name})\n` : ''}${body}`.trim(),
          `ë¯¸ì¥ íˆ¬ì ë…¸íŠ¸: ë°¤ìƒ˜ì˜ ëŒ€ê°€ë¥¼ ì¹˜ëŸ¬ì•¼ í•œë‹¤.\n${body}`,
          `ë¯¸ì¥ ê¸°ë¡: ë‹¬ëŸ¬ì˜ ë¬´ê²Œë¥¼ ê²¬ëŒì•¼ í•œë‹¤.\n${body}`,
          `ë¯¸ì¥ ë©”ëª¨: ì‹œì°¨ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ê²¬ëŒì•¼ í•œë‹¤.\n${body}`,
          `ë¯¸ì¥ íˆ¬ì ê¸°ë¡: ê¸€ë¡œë²Œ íˆ¬ìì˜ ë¬´ê²Œ.\n${body}`,
        ],
        ì˜ˆê¸ˆ: [
          `ë©”ëª¨(ì˜ˆê¸ˆ): ì¡°ìš©íˆ ì´ê¸°ëŠ” ìª½.\n${body}`,
          `ì˜ˆê¸ˆ íˆ¬ì ë…¸íŠ¸: ì•ˆì •ì´ ìµœê³ ì˜ ìˆ˜ìµë¥ .\n${body}`,
          `ì˜ˆê¸ˆ ê¸°ë¡: ë³€ë™ì„± ì—†ëŠ” íˆ¬ìì˜ í¸ì•ˆí•¨.\n${body}`,
          `ì˜ˆê¸ˆ ë©”ëª¨: ì•ˆì „í•¨ì˜ ê°€ì¹˜.\n${body}`,
          `ì˜ˆê¸ˆ íˆ¬ì ê¸°ë¡: ì¡°ìš©í•œ ìˆ˜ìµ.\n${body}`,
        ],
        ì ê¸ˆ: [
          `ë©”ëª¨(ì ê¸ˆ): ë£¨í‹´ì´ ë¬´ê¸°.\n${body}`,
          `ì ê¸ˆ íˆ¬ì ë…¸íŠ¸: ê¾¸ì¤€í•¨ì´ ë¬´ê¸°ë‹¤.\n${body}`,
          `ì ê¸ˆ ê¸°ë¡: ë§¤ì¼ì˜ ìŠµê´€ì´ ë¯¸ë˜ë¥¼ ë§Œë“ ë‹¤.\n${body}`,
          `ì ê¸ˆ ë©”ëª¨: ì‹œê°„ì´ ë‚´ í¸ì´ ë˜ëŠ” íˆ¬ì.\n${body}`,
          `ì ê¸ˆ íˆ¬ì ê¸°ë¡: ì¸ë‚´ì‹¬ì´ í•„ìš”í•œ íˆ¬ì.\n${body}`,
        ],
        ë¶€ë™ì‚°: [
          `ë©”ëª¨(ë¶€ë™ì‚°): ê³µì‹¤ì€ ì•…ëª½, ì„ì°¨ì¸ì€ ë³µ.\n${body}`,
          `ë™ë„¤ ë©”ëª¨.\n${name ? `(${name})\n` : ''}${body}`.trim(),
          `ë¶€ë™ì‚° íˆ¬ì ë…¸íŠ¸: ì§‘ì˜ ë¬´ê²Œê°ì„ ê²¬ëŒì•¼ í•œë‹¤.\n${body}`,
          `ë¶€ë™ì‚° ê¸°ë¡: ì‹œì¥ì˜ íŒŒë„ë¥¼ íƒ€ì•¼ í•œë‹¤.\n${body}`,
          `ë¶€ë™ì‚° ë©”ëª¨: ë¶€ë™ì‚° íˆ¬ìì˜ ë¦¬ìŠ¤í¬.\n${body}`,
          `ë¶€ë™ì‚° íˆ¬ì ê¸°ë¡: ë™ë„¤ ë¶„ìœ„ê¸°ì˜ ë³€í™”.\n${body}`,
        ],
        ë…¸ë™: [
          `ë©”ëª¨(ë…¸ë™): ë²„í‹°ëŠ” ì‚¬ëŒì´ ì´ê¸´ë‹¤.\n${body}`,
          `ë…¸ë™ ë…¸íŠ¸: ì¼ì˜ ë¬´ê²Œê°ì„ ê²¬ëŒì•¼ í•œë‹¤.\n${body}`,
          `ë…¸ë™ ê¸°ë¡: ì—…ë¬´ì˜ ë¦¬ë“¬ì´ ì‹œì¥ì— ì¢Œìš°ëœë‹¤.\n${body}`,
          `ë…¸ë™ ë©”ëª¨: ì¼ì˜ ê°€ì¹˜ê°€ ë³€ë™í•œë‹¤.\n${body}`,
          `ë…¸ë™ íˆ¬ì ê¸°ë¡: ì—…ë¬´ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ê²¬ëŒì•¼ í•œë‹¤.\n${body}`,
        ],
      }

      const isRealEstate = ['ë¹Œë¼', 'ì˜¤í”¼ìŠ¤í…”', 'ì•„íŒŒíŠ¸', 'ìƒê°€', 'ë¹Œë”©'].includes(product)
      const key = isRealEstate ? 'ë¶€ë™ì‚°' : product

      if (key && byProduct[key]) return pick(`memo_${key}`, byProduct[key])
      return pick('memo', [
        `ë©”ëª¨.\n${body}`,
        `ì ì–´ë‘”ë‹¤.\n${body}`,
        `ê¹Œë¨¹ê¸° ì „ì— ê¸°ë¡.\n${body}`,
        `íˆ¬ì ë…¸íŠ¸ì— ê¸°ë¡.\n${body}`,
        `ê¸°ì–µí•´ë‘˜ ê²ƒ.\n${body}`,
        `ë‚˜ì¤‘ì„ ìœ„í•´ ê¸°ë¡.\n${body}`,
      ])
    }

    // ì—…ê·¸ë ˆì´ë“œ
    if (s.startsWith('ğŸ') && s.includes('í•´ê¸ˆ')) {
      const body = soften(s)
      // ì˜ˆ) "ğŸ ìƒˆ ì—…ê·¸ë ˆì´ë“œ í•´ê¸ˆ: ğŸ’° ì˜ˆê¸ˆ ì´ììœ¨ ìƒìŠ¹"
      const name = s.match(/í•´ê¸ˆ:\s*(.+)$/)?.[1]?.trim() || ''
      const detect = txt => {
        const t = String(txt || '')
        if (t.includes('ì˜ˆê¸ˆ')) return 'ì˜ˆê¸ˆ'
        if (t.includes('ì ê¸ˆ')) return 'ì ê¸ˆ'
        if (t.includes('ë¯¸êµ­ì£¼ì‹') || t.includes('ë¯¸ì¥') || t.includes('ğŸ‡ºğŸ‡¸')) return 'ë¯¸êµ­ì£¼ì‹'
        if (t.includes('ì½”ì¸') || t.includes('â‚¿') || t.includes('ì•”í˜¸')) return 'ì½”ì¸'
        if (t.includes('ì£¼ì‹')) return 'êµ­ë‚´ì£¼ì‹'
        if (t.includes('ë¹Œë”©')) return 'ë¹Œë”©'
        if (t.includes('ìƒê°€')) return 'ìƒê°€'
        if (t.includes('ì•„íŒŒíŠ¸')) return 'ì•„íŒŒíŠ¸'
        if (t.includes('ì˜¤í”¼ìŠ¤í…”')) return 'ì˜¤í”¼ìŠ¤í…”'
        if (t.includes('ë¹Œë¼')) return 'ë¹Œë¼'
        if (t.includes('ì›”ì„¸') || t.includes('ë¶€ë™ì‚°')) return 'ë¶€ë™ì‚°'
        if (
          t.includes('í´ë¦­') ||
          t.includes('ë…¸ë™') ||
          t.includes('ì—…ë¬´') ||
          t.includes('CEO') ||
          t.includes('ì»¤ë¦¬ì–´')
        )
          return 'ë…¸ë™'
        return ''
      }
      const product = detect(`${name} ${body}`) || 'ê¸°ë³¸'

      const byProduct = {
        ë…¸ë™: [
          `ì¼ì„ 'ëœ í˜ë“¤ê²Œ' ë§Œë“œëŠ” ë°©ë²•ì´ ìƒê²¼ë‹¤.\n${name ? name : body}`,
          `ì—…ë¬´ ìŠ¤í‚¬ì´ í•˜ë‚˜ ëŠ˜ì—ˆë‹¤.\n${name ? name : body}`,
          `ì†ëì´ ë” ë¹¨ë¼ì§ˆ ì¤€ë¹„.\n${name ? name : body}`,
          `ì¼í•˜ëŠ” ë°©ì‹ì´ ê°œì„ ë  ê²ƒ ê°™ë‹¤.\n${name ? name : body}`,
          `ì—…ë¬´ íš¨ìœ¨ì´ ì˜¬ë¼ê°ˆ ê²ƒ ê°™ë‹¤.\n${name ? name : body}`,
          `ë…¸ë™ì˜ ì§ˆì´ í–¥ìƒë  ê²ƒ ê°™ë‹¤.\n${name ? name : body}`,
          `ì¼í•˜ëŠ” ëŠ¥ë ¥ì´ ê°•í™”ëë‹¤.\n${name ? name : body}`,
          `ì—…ë¬´ ìŠ¤í‚¬ì˜ ì§„í™”.\n${name ? name : body}`,
        ],
        ì˜ˆê¸ˆ: [
          `ì˜ˆê¸ˆì´ ë” ì¡°ìš©íˆ ë²Œì–´ë‹¤ ì£¼ê² ì§€.\n${name ? name : body}`,
          `ì•ˆì • ìª½ì— ì˜µì…˜ì´ í•˜ë‚˜ ì¶”ê°€ëë‹¤.\n${name ? name : body}`,
          `ì˜ˆê¸ˆì˜ ìˆ˜ìµë¥ ì´ ì˜¬ë¼ê°ˆ ê²ƒ ê°™ë‹¤.\n${name ? name : body}`,
          `ì•ˆì •ì ì¸ íˆ¬ìê°€ ë” ê°•í•´ì§„ë‹¤.\n${name ? name : body}`,
          `ì˜ˆê¸ˆì˜ ê°€ì¹˜ê°€ ìƒìŠ¹í•  ê²ƒ ê°™ë‹¤.\n${name ? name : body}`,
          `ì•ˆì „í•œ íˆ¬ìì˜ í˜ì´ ì»¤ì§„ë‹¤.\n${name ? name : body}`,
          `ì˜ˆê¸ˆì˜ í¸ì•ˆí•¨ì´ ë”í•´ì§„ë‹¤.\n${name ? name : body}`,
          `ì•ˆì •ì ì¸ íˆ¬ìì˜ ì§„í™”.\n${name ? name : body}`,
        ],
        ì ê¸ˆ: [
          `ë£¨í‹´ ê°•í™” ì¹´ë“œê°€ ì—´ë ¸ë‹¤.\n${name ? name : body}`,
          `ê¾¸ì¤€í•¨ì„ ë•ëŠ” ì¥ì¹˜ê°€ ìƒê²¼ë‹¤.\n${name ? name : body}`,
          `ì ê¸ˆì˜ ë£¨í‹´ì´ ê°•í™”ëë‹¤.\n${name ? name : body}`,
          `ê¾¸ì¤€í•¨ì˜ í˜ì´ ì»¤ì§„ë‹¤.\n${name ? name : body}`,
          `ë§¤ì¼ì˜ ìŠµê´€ì´ ë” ê°•í•´ì§„ë‹¤.\n${name ? name : body}`,
          `ì ê¸ˆì˜ ì‹œê°„ ê°€ì¹˜ê°€ ì˜¬ë¼ê°„ë‹¤.\n${name ? name : body}`,
          `ë£¨í‹´ íˆ¬ìì˜ í˜ì´ ì»¤ì§„ë‹¤.\n${name ? name : body}`,
          `ê¾¸ì¤€í•¨ì˜ ì§„í™”.\n${name ? name : body}`,
        ],
        êµ­ë‚´ì£¼ì‹: [
          `ì°¨íŠ¸ ì‹¸ì›€ì— ìƒˆ ë¬´ê¸°ê°€ ìƒê²¼ë‹¤.\n${name ? name : body}`,
          `êµ­ì¥ ëŒ€ì‘ë ¥ì´ ì˜¬ë¼ê°ˆ ê²ƒ ê°™ë‹¤.\n${name ? name : body}`,
          `êµ­ì¥ íˆ¬ìì˜ í˜ì´ ì»¤ì§„ë‹¤.\n${name ? name : body}`,
          `ì°¨íŠ¸ì˜ íŒŒë„ë¥¼ ë” ì˜ íƒˆ ìˆ˜ ìˆë‹¤.\n${name ? name : body}`,
          `êµ­ì¥ì˜ ë³€ë™ì„±ì— ëŒ€ì‘í•  ìˆ˜ ìˆë‹¤.\n${name ? name : body}`,
          `íˆ¬ììì˜ ëŠ¥ë ¥ì´ ê°•í™”ëë‹¤.\n${name ? name : body}`,
          `êµ­ì¥ íˆ¬ìì˜ ì§„í™”.\n${name ? name : body}`,
          `ì°¨íŠ¸ ì‹¸ì›€ì˜ ë¬´ê¸°ê°€ ê°•í™”ëë‹¤.\n${name ? name : body}`,
        ],
        ë¯¸êµ­ì£¼ì‹: [
          `ì‹œì°¨ë¥¼ ë²„í‹¸ ì¥ë¹„ê°€ í•˜ë‚˜ ìƒê²¼ë‹¤.\n${name ? name : body}`,
          `ë‹¬ëŸ¬ ìª½ ì˜µì…˜ì´ ì—´ë¦°ë‹¤.\n${name ? name : body}`,
          `ë¯¸ì¥ íˆ¬ìì˜ í˜ì´ ì»¤ì§„ë‹¤.\n${name ? name : body}`,
          `ì‹œì°¨ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ê²¬ë”œ ìˆ˜ ìˆë‹¤.\n${name ? name : body}`,
          `ë‹¬ëŸ¬ì˜ ë¬´ê²Œë¥¼ ë” ì˜ ê²¬ë”œ ìˆ˜ ìˆë‹¤.\n${name ? name : body}`,
          `ê¸€ë¡œë²Œ íˆ¬ìì˜ ëŠ¥ë ¥ì´ ê°•í™”ëë‹¤.\n${name ? name : body}`,
          `ë¯¸ì¥ íˆ¬ìì˜ ì§„í™”.\n${name ? name : body}`,
          `ë°¤ìƒ˜ì˜ ëŒ€ê°€ë¥¼ ë” ì˜ ê²¬ë”œ ìˆ˜ ìˆë‹¤.\n${name ? name : body}`,
        ],
        ì½”ì¸: [
          `ì½”ì¸íŒì—ì„œ ë²„í‹¸ ë„êµ¬ê°€ ìƒê²¼ë‹¤.\n${name ? name : body}`,
          `ë©˜íƒˆì„ ì§€í‚¤ëŠ” ì—…ê·¸ë ˆì´ë“œâ€¦ì˜€ìœ¼ë©´.\n${name ? name : body}`,
          `ì½”ì¸ íˆ¬ìì˜ í˜ì´ ì»¤ì§„ë‹¤.\n${name ? name : body}`,
          `ë³€ë™ì„±ì„ ë” ì˜ ê²¬ë”œ ìˆ˜ ìˆë‹¤.\n${name ? name : body}`,
          `FOMOë¥¼ ë” ì˜ ì´ê²¨ë‚¼ ìˆ˜ ìˆë‹¤.\n${name ? name : body}`,
          `ë¡¤ëŸ¬ì½”ìŠ¤í„°ë¥¼ ë” ì˜ íƒˆ ìˆ˜ ìˆë‹¤.\n${name ? name : body}`,
          `ì½”ì¸ íˆ¬ìì˜ ì§„í™”.\n${name ? name : body}`,
          `ë©˜íƒˆ ê´€ë¦¬ì˜ ë„êµ¬ê°€ ìƒê²¼ë‹¤.\n${name ? name : body}`,
        ],
        ë¹Œë¼: [
          `ë¹Œë¼ ìš´ì˜ì´ ì¡°ê¸ˆì€ í¸í•´ì§ˆì§€ë„.\n${name ? name : body}`,
          `ì²« ì§‘ì˜ ê°€ì¹˜ê°€ ì˜¬ë¼ê°„ë‹¤.\n${name ? name : body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì²«ê±¸ìŒì´ ê°•í™”ëë‹¤.\n${name ? name : body}`,
          `ì‘ì€ ì§‘ì˜ ìˆ˜ìµì´ ì˜¬ë¼ê°„ë‹¤.\n${name ? name : body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ê¸°ì´ˆê°€ ê°•í™”ëë‹¤.\n${name ? name : body}`,
          `ì²« ì§‘ì˜ ë¬´ê²Œê°ì´ ì¤„ì–´ë“ ë‹¤.\n${name ? name : body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì§„í™”.\n${name ? name : body}`,
          `ì‘ì€ ì§‘ì˜ ê°€ì¹˜ê°€ ìƒìŠ¹í•œë‹¤.\n${name ? name : body}`,
        ],
        ì˜¤í”¼ìŠ¤í…”: [
          `ì˜¤í”¼ìŠ¤í…” ìª½ì´ í•œ ë‹¨ê³„ ë‚˜ì•„ê°„ë‹¤.\n${name ? name : body}`,
          `ì‹¤ìš©ì ì¸ íˆ¬ìê°€ ê°•í™”ëë‹¤.\n${name ? name : body}`,
          `ìƒí™œì˜ í¸ì˜ê°€ ë”í•´ì§„ë‹¤.\n${name ? name : body}`,
          `ë„ì‹œ ìƒí™œì˜ ì§ˆì´ ì˜¬ë¼ê°„ë‹¤.\n${name ? name : body}`,
          `í˜„ì‹¤ì ì¸ íˆ¬ìì˜ í˜ì´ ì»¤ì§„ë‹¤.\n${name ? name : body}`,
          `ì˜¤í”¼ìŠ¤í…”ì˜ ê°€ì¹˜ê°€ ìƒìŠ¹í•œë‹¤.\n${name ? name : body}`,
          `ì‹¤ìš©ì£¼ì˜ íˆ¬ìì˜ ì§„í™”.\n${name ? name : body}`,
          `ìƒí™œì˜ í¸ì˜ê°€ ê°•í™”ëë‹¤.\n${name ? name : body}`,
        ],
        ì•„íŒŒíŠ¸: [
          `ì•„íŒŒíŠ¸ëŠ” ë””í…Œì¼ì—ì„œ ëˆì´ ë‚œë‹¤.\n${name ? name : body}`,
          `í•œêµ­ì¸ì˜ ê¿ˆì´ ë” ê°€ê¹Œì›Œì§„ë‹¤.\n${name ? name : body}`,
          `ì•ˆì •ì˜ ìƒì§•ì´ ê°•í™”ëë‹¤.\n${name ? name : body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì •ì ì´ ì˜¬ë¼ê°„ë‹¤.\n${name ? name : body}`,
          `ì•„íŒŒíŠ¸ì˜ ê°€ì¹˜ê°€ ìƒìŠ¹í•œë‹¤.\n${name ? name : body}`,
          `ì•ˆì •ì ì¸ íˆ¬ìì˜ í˜ì´ ì»¤ì§„ë‹¤.\n${name ? name : body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì§„í™”.\n${name ? name : body}`,
          `ê¿ˆì´ í˜„ì‹¤ì— ë” ê°€ê¹Œì›Œì§„ë‹¤.\n${name ? name : body}`,
        ],
        ìƒê°€: [
          `ìƒê°€ëŠ” ì„¸íŒ…ì´ ë°˜ì´ë‹¤.\n${name ? name : body}`,
          `ìƒê¶Œ íˆ¬ìì˜ í˜ì´ ì»¤ì§„ë‹¤.\n${name ? name : body}`,
          `ìœ ë™ì¸êµ¬ì˜ ìˆ˜ìµì´ ì˜¬ë¼ê°„ë‹¤.\n${name ? name : body}`,
          `ì„ëŒ€ ìˆ˜ìµì˜ ë‹¬ì½¤í•¨ì´ ì»¤ì§„ë‹¤.\n${name ? name : body}`,
          `ìƒê°€ì˜ ê°€ì¹˜ê°€ ìƒìŠ¹í•œë‹¤.\n${name ? name : body}`,
          `ìƒê¶Œ íˆ¬ìì˜ ì§„í™”.\n${name ? name : body}`,
          `ì„ì°¨ì¸ì˜ ì„±ê³µì´ ë‚´ ì„±ê³µì´ ëœë‹¤.\n${name ? name : body}`,
          `ìƒê¶Œì˜ í˜ì´ ê°•í™”ëë‹¤.\n${name ? name : body}`,
        ],
        ë¹Œë”©: [
          `ë¹Œë”©ì€ ê´€ë¦¬ê°€ ê³§ ìˆ˜ìµì´ë‹¤.\n${name ? name : body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ê¶ê·¹ì´ ê°•í™”ëë‹¤.\n${name ? name : body}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì˜ ì£¼ì¸ì´ ê°•í•´ì§„ë‹¤.\n${name ? name : body}`,
          `ë„ì‹œì˜ í•œ ì¡°ê°ì´ ë” ê°€ì¹˜ìˆì–´ì§„ë‹¤.\n${name ? name : body}`,
          `ë¹Œë”©ì˜ ë¬´ê²Œê°ì´ ì¤„ì–´ë“ ë‹¤.\n${name ? name : body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì™„ì„±ì´ ì˜¬ë¼ê°„ë‹¤.\n${name ? name : body}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì˜ ê°€ì¹˜ê°€ ìƒìŠ¹í•œë‹¤.\n${name ? name : body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì§„í™”.\n${name ? name : body}`,
        ],
        ë¶€ë™ì‚°: [
          `ë¶€ë™ì‚° ìš´ì˜ì— ì˜µì…˜ì´ í•˜ë‚˜ ì¶”ê°€ëë‹¤.\n${name ? name : body}`,
          `ì›”ì„¸ë¥¼ 'ì¡°ê¸ˆ ë”' ë§Œë“¤ ë°©ë²•.\n${name ? name : body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ í˜ì´ ì»¤ì§„ë‹¤.\n${name ? name : body}`,
          `ì§‘ì˜ ê°€ì¹˜ê°€ ì˜¬ë¼ê°„ë‹¤.\n${name ? name : body}`,
          `ë¶€ë™ì‚° ì‹œì¥ì˜ íŒŒë„ë¥¼ ë” ì˜ íƒˆ ìˆ˜ ìˆë‹¤.\n${name ? name : body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ë¦¬ìŠ¤í¬ê°€ ì¤„ì–´ë“ ë‹¤.\n${name ? name : body}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì§„í™”.\n${name ? name : body}`,
          `ì§‘ì˜ ë¬´ê²Œê°ì´ ì¤„ì–´ë“ ë‹¤.\n${name ? name : body}`,
        ],
        ê¸°ë³¸: [
          `ìƒˆë¡œìš´ ë°©ë²•ì´ ë³´ì˜€ë‹¤.\n${name ? name : body}`,
          `ì„ íƒì§€ê°€ ëŠ˜ì—ˆë‹¤.\n${name ? name : body}`,
          `ì´ì œë¶€í„°ê°€ ì‹œì‘ì¼ì§€ë„.\n${name ? name : body}`,
          `ê¸°íšŒì˜ ë¬¸ì´ ì—´ë ¸ë‹¤.\n${name ? name : body}`,
          `ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì´ ìƒê²¼ë‹¤.\n${name ? name : body}`,
          `ì§„í™”ì˜ ìˆœê°„.\n${name ? name : body}`,
          `ëŠ¥ë ¥ì´ ê°•í™”ëë‹¤.\n${name ? name : body}`,
          `ë‹¤ìŒ ë‹¨ê³„ë¡œ ë‚˜ì•„ê°ˆ ìˆ˜ ìˆë‹¤.\n${name ? name : body}`,
        ],
      }

      return pick(`upgradeUnlock_${product}`, byProduct[product] || byProduct['ê¸°ë³¸'])
    }
    if (s.startsWith('âœ…') && s.includes('êµ¬ë§¤!')) {
      const body = soften(s)
      // ì˜ˆ) "âœ… ğŸ’° ì˜ˆê¸ˆ ì´ììœ¨ ìƒìŠ¹ êµ¬ë§¤! ì˜ˆê¸ˆ ìˆ˜ìµ 2ë°°"
      const m = s.match(/^âœ…\s*(.+?)\s*êµ¬ë§¤!\s*(.*)$/)
      const upName = (m?.[1] || '').trim()
      const upDesc = (m?.[2] || '').trim()

      const detect = txt => {
        const t = String(txt || '')
        if (t.includes('ì˜ˆê¸ˆ')) return 'ì˜ˆê¸ˆ'
        if (t.includes('ì ê¸ˆ')) return 'ì ê¸ˆ'
        if (t.includes('ë¯¸êµ­ì£¼ì‹') || t.includes('ë¯¸ì¥') || t.includes('ğŸ‡ºğŸ‡¸')) return 'ë¯¸êµ­ì£¼ì‹'
        if (t.includes('ì½”ì¸') || t.includes('â‚¿') || t.includes('ì•”í˜¸')) return 'ì½”ì¸'
        if (t.includes('ì£¼ì‹')) return 'êµ­ë‚´ì£¼ì‹'
        if (t.includes('ë¹Œë”©')) return 'ë¹Œë”©'
        if (t.includes('ìƒê°€')) return 'ìƒê°€'
        if (t.includes('ì•„íŒŒíŠ¸')) return 'ì•„íŒŒíŠ¸'
        if (t.includes('ì˜¤í”¼ìŠ¤í…”')) return 'ì˜¤í”¼ìŠ¤í…”'
        if (t.includes('ë¹Œë¼')) return 'ë¹Œë¼'
        if (t.includes('ì›”ì„¸') || t.includes('ë¶€ë™ì‚°')) return 'ë¶€ë™ì‚°'
        if (
          t.includes('í´ë¦­') ||
          t.includes('ë…¸ë™') ||
          t.includes('ì—…ë¬´') ||
          t.includes('CEO') ||
          t.includes('ì»¤ë¦¬ì–´')
        )
          return 'ë…¸ë™'
        return ''
      }

      const product = detect(`${upName} ${upDesc} ${body}`) || 'ê¸°ë³¸'
      const core = [upName, upDesc].filter(Boolean).join(' â€” ') || body

      const byProduct = {
        ë…¸ë™: [
          `ì¼í•˜ëŠ” ë°©ì‹ì´ ë°”ë€Œì—ˆë‹¤.\n${core}`,
          `ì—…ë¬´ ìŠ¤í‚¬ì„ ì¥ì°©í–ˆë‹¤.\n${core}`,
          `ì†ì´ ë” ë¹¨ë¼ì§ˆ ê±°ë‹¤. ì•„ë§ˆë„.\n${core}`,
          `ì¼í•˜ëŠ” ëŠ¥ë ¥ì´ ê°•í™”ëë‹¤.\n${core}`,
          `ì—…ë¬´ íš¨ìœ¨ì´ ì˜¬ë¼ê°”ë‹¤.\n${core}`,
          `ë…¸ë™ì˜ ì§ˆì´ í–¥ìƒëë‹¤.\n${core}`,
          `ì¼í•˜ëŠ” ë°©ì‹ì˜ ì§„í™”.\n${core}`,
          `ì—…ë¬´ ìŠ¤í‚¬ì˜ ê°•í™”.\n${core}`,
        ],
        ì˜ˆê¸ˆ: [
          `ì˜ˆê¸ˆì€ ì¡°ìš©íˆ ê°•í•´ì§„ë‹¤.\n${core}`,
          `ì•ˆì • ìª½ì„ ë” ë‹¨ë‹¨íˆ í–ˆë‹¤.\n${core}`,
          `ì˜ˆê¸ˆì˜ ìˆ˜ìµë¥ ì´ ì˜¬ë¼ê°”ë‹¤.\n${core}`,
          `ì•ˆì •ì ì¸ íˆ¬ìê°€ ê°•í™”ëë‹¤.\n${core}`,
          `ì˜ˆê¸ˆì˜ ê°€ì¹˜ê°€ ìƒìŠ¹í–ˆë‹¤.\n${core}`,
          `ì•ˆì „í•œ íˆ¬ìì˜ í˜ì´ ì»¤ì¡Œë‹¤.\n${core}`,
          `ì˜ˆê¸ˆì˜ í¸ì•ˆí•¨ì´ ë”í•´ì¡Œë‹¤.\n${core}`,
          `ì•ˆì •ì ì¸ íˆ¬ìì˜ ì§„í™”.\n${core}`,
        ],
        ì ê¸ˆ: [
          `ë£¨í‹´ì„ ì—…ê·¸ë ˆì´ë“œí–ˆë‹¤.\n${core}`,
          `ê¾¸ì¤€í•¨ì— ë¶€ìŠ¤í„° í•˜ë‚˜.\n${core}`,
          `ì ê¸ˆì˜ ë£¨í‹´ì´ ê°•í™”ëë‹¤.\n${core}`,
          `ê¾¸ì¤€í•¨ì˜ í˜ì´ ì»¤ì¡Œë‹¤.\n${core}`,
          `ë§¤ì¼ì˜ ìŠµê´€ì´ ë” ê°•í•´ì¡Œë‹¤.\n${core}`,
          `ì ê¸ˆì˜ ì‹œê°„ ê°€ì¹˜ê°€ ì˜¬ë¼ê°”ë‹¤.\n${core}`,
          `ë£¨í‹´ íˆ¬ìì˜ í˜ì´ ì»¤ì¡Œë‹¤.\n${core}`,
          `ê¾¸ì¤€í•¨ì˜ ì§„í™”.\n${core}`,
        ],
        êµ­ë‚´ì£¼ì‹: [
          `ì°¨íŠ¸ ì‹¸ì›€ì— ì¥ë¹„ë¥¼ ì¶”ê°€í–ˆë‹¤.\n${core}`,
          `êµ­ì¥ ëŒ€ì‘ë ¥ ìƒìŠ¹.\n${core}`,
          `êµ­ì¥ íˆ¬ìì˜ í˜ì´ ì»¤ì¡Œë‹¤.\n${core}`,
          `ì°¨íŠ¸ì˜ íŒŒë„ë¥¼ ë” ì˜ íƒˆ ìˆ˜ ìˆë‹¤.\n${core}`,
          `êµ­ì¥ì˜ ë³€ë™ì„±ì— ëŒ€ì‘í•  ìˆ˜ ìˆë‹¤.\n${core}`,
          `íˆ¬ììì˜ ëŠ¥ë ¥ì´ ê°•í™”ëë‹¤.\n${core}`,
          `êµ­ì¥ íˆ¬ìì˜ ì§„í™”.\n${core}`,
          `ì°¨íŠ¸ ì‹¸ì›€ì˜ ë¬´ê¸°ê°€ ê°•í™”ëë‹¤.\n${core}`,
        ],
        ë¯¸êµ­ì£¼ì‹: [
          `ì‹œì°¨ë¥¼ ë²„í‹¸ ì¥ë¹„ ì¥ì°©.\n${core}`,
          `ë‹¬ëŸ¬ ìª½ì„ ì¡°ê¸ˆ ë” ë¯¿ì–´ë³´ê¸°ë¡œ.\n${core}`,
          `ë¯¸ì¥ íˆ¬ìì˜ í˜ì´ ì»¤ì¡Œë‹¤.\n${core}`,
          `ì‹œì°¨ì˜ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ê²¬ë”œ ìˆ˜ ìˆë‹¤.\n${core}`,
          `ë‹¬ëŸ¬ì˜ ë¬´ê²Œë¥¼ ë” ì˜ ê²¬ë”œ ìˆ˜ ìˆë‹¤.\n${core}`,
          `ê¸€ë¡œë²Œ íˆ¬ìì˜ ëŠ¥ë ¥ì´ ê°•í™”ëë‹¤.\n${core}`,
          `ë¯¸ì¥ íˆ¬ìì˜ ì§„í™”.\n${core}`,
          `ë°¤ìƒ˜ì˜ ëŒ€ê°€ë¥¼ ë” ì˜ ê²¬ë”œ ìˆ˜ ìˆë‹¤.\n${core}`,
        ],
        ì½”ì¸: [
          `ì½”ì¸íŒì—ì„œ ì‚´ì•„ë‚¨ì„ ì¥ë¹„.\n${core}`,
          `ë©˜íƒˆ ë³´í˜¸ ì¥ì¹˜â€¦ì˜€ìœ¼ë©´.\n${core}`,
          `ì½”ì¸ íˆ¬ìì˜ í˜ì´ ì»¤ì¡Œë‹¤.\n${core}`,
          `ë³€ë™ì„±ì„ ë” ì˜ ê²¬ë”œ ìˆ˜ ìˆë‹¤.\n${core}`,
          `FOMOë¥¼ ë” ì˜ ì´ê²¨ë‚¼ ìˆ˜ ìˆë‹¤.\n${core}`,
          `ë¡¤ëŸ¬ì½”ìŠ¤í„°ë¥¼ ë” ì˜ íƒˆ ìˆ˜ ìˆë‹¤.\n${core}`,
          `ì½”ì¸ íˆ¬ìì˜ ì§„í™”.\n${core}`,
          `ë©˜íƒˆ ê´€ë¦¬ì˜ ë„êµ¬ê°€ ìƒê²¼ë‹¤.\n${core}`,
        ],
        ë¹Œë¼: [
          `ë¹Œë¼ ìš´ì˜ì„ ì†ë´¤ë‹¤.\n${core}`,
          `ì²« ì§‘ì˜ ê°€ì¹˜ê°€ ì˜¬ë¼ê°”ë‹¤.\n${core}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì²«ê±¸ìŒì´ ê°•í™”ëë‹¤.\n${core}`,
          `ì‘ì€ ì§‘ì˜ ìˆ˜ìµì´ ì˜¬ë¼ê°”ë‹¤.\n${core}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ê¸°ì´ˆê°€ ê°•í™”ëë‹¤.\n${core}`,
          `ì²« ì§‘ì˜ ë¬´ê²Œê°ì´ ì¤„ì–´ë“¤ì—ˆë‹¤.\n${core}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì§„í™”.\n${core}`,
          `ì‘ì€ ì§‘ì˜ ê°€ì¹˜ê°€ ìƒìŠ¹í–ˆë‹¤.\n${core}`,
        ],
        ì˜¤í”¼ìŠ¤í…”: [
          `ì˜¤í”¼ìŠ¤í…” ìª½ì„ ì—…ê·¸ë ˆì´ë“œí–ˆë‹¤.\n${core}`,
          `ì‹¤ìš©ì ì¸ íˆ¬ìê°€ ê°•í™”ëë‹¤.\n${core}`,
          `ìƒí™œì˜ í¸ì˜ê°€ ë”í•´ì¡Œë‹¤.\n${core}`,
          `ë„ì‹œ ìƒí™œì˜ ì§ˆì´ ì˜¬ë¼ê°”ë‹¤.\n${core}`,
          `í˜„ì‹¤ì ì¸ íˆ¬ìì˜ í˜ì´ ì»¤ì¡Œë‹¤.\n${core}`,
          `ì˜¤í”¼ìŠ¤í…”ì˜ ê°€ì¹˜ê°€ ìƒìŠ¹í–ˆë‹¤.\n${core}`,
          `ì‹¤ìš©ì£¼ì˜ íˆ¬ìì˜ ì§„í™”.\n${core}`,
          `ìƒí™œì˜ í¸ì˜ê°€ ê°•í™”ëë‹¤.\n${core}`,
        ],
        ì•„íŒŒíŠ¸: [
          `ì•„íŒŒíŠ¸ëŠ” ë””í…Œì¼.\n${core}`,
          `í•œêµ­ì¸ì˜ ê¿ˆì´ ë” ê°€ê¹Œì›Œì¡Œë‹¤.\n${core}`,
          `ì•ˆì •ì˜ ìƒì§•ì´ ê°•í™”ëë‹¤.\n${core}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì •ì ì´ ì˜¬ë¼ê°”ë‹¤.\n${core}`,
          `ì•„íŒŒíŠ¸ì˜ ê°€ì¹˜ê°€ ìƒìŠ¹í–ˆë‹¤.\n${core}`,
          `ì•ˆì •ì ì¸ íˆ¬ìì˜ í˜ì´ ì»¤ì¡Œë‹¤.\n${core}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì§„í™”.\n${core}`,
          `ê¿ˆì´ í˜„ì‹¤ì— ë” ê°€ê¹Œì›Œì¡Œë‹¤.\n${core}`,
        ],
        ìƒê°€: [
          `ìƒê°€ëŠ” ì„¸íŒ…ì´ ë°˜ì´ë‹¤.\n${core}`,
          `ìƒê¶Œ íˆ¬ìì˜ í˜ì´ ì»¤ì¡Œë‹¤.\n${core}`,
          `ìœ ë™ì¸êµ¬ì˜ ìˆ˜ìµì´ ì˜¬ë¼ê°”ë‹¤.\n${core}`,
          `ì„ëŒ€ ìˆ˜ìµì˜ ë‹¬ì½¤í•¨ì´ ì»¤ì¡Œë‹¤.\n${core}`,
          `ìƒê°€ì˜ ê°€ì¹˜ê°€ ìƒìŠ¹í–ˆë‹¤.\n${core}`,
          `ìƒê¶Œ íˆ¬ìì˜ ì§„í™”.\n${core}`,
          `ì„ì°¨ì¸ì˜ ì„±ê³µì´ ë‚´ ì„±ê³µì´ ëœë‹¤.\n${core}`,
          `ìƒê¶Œì˜ í˜ì´ ê°•í™”ëë‹¤.\n${core}`,
        ],
        ë¹Œë”©: [
          `ë¹Œë”©ì€ ê´€ë¦¬ê°€ ìˆ˜ìµì´ë‹¤.\n${core}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ê¶ê·¹ì´ ê°•í™”ëë‹¤.\n${core}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì˜ ì£¼ì¸ì´ ê°•í•´ì¡Œë‹¤.\n${core}`,
          `ë„ì‹œì˜ í•œ ì¡°ê°ì´ ë” ê°€ì¹˜ìˆì–´ì¡Œë‹¤.\n${core}`,
          `ë¹Œë”©ì˜ ë¬´ê²Œê°ì´ ì¤„ì–´ë“¤ì—ˆë‹¤.\n${core}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì™„ì„±ì´ ì˜¬ë¼ê°”ë‹¤.\n${core}`,
          `ìŠ¤ì¹´ì´ë¼ì¸ì˜ ê°€ì¹˜ê°€ ìƒìŠ¹í–ˆë‹¤.\n${core}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì§„í™”.\n${core}`,
        ],
        ë¶€ë™ì‚°: [
          `ì›”ì„¸ ìª½ì„ ì†ë´¤ë‹¤.\n${core}`,
          `ë¶€ë™ì‚° ìš´ì˜ì´ í•œ ë‹¨ê³„ ì˜¬ë¼ê°”ë‹¤.\n${core}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ í˜ì´ ì»¤ì¡Œë‹¤.\n${core}`,
          `ì§‘ì˜ ê°€ì¹˜ê°€ ì˜¬ë¼ê°”ë‹¤.\n${core}`,
          `ë¶€ë™ì‚° ì‹œì¥ì˜ íŒŒë„ë¥¼ ë” ì˜ íƒˆ ìˆ˜ ìˆë‹¤.\n${core}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ë¦¬ìŠ¤í¬ê°€ ì¤„ì–´ë“¤ì—ˆë‹¤.\n${core}`,
          `ë¶€ë™ì‚° íˆ¬ìì˜ ì§„í™”.\n${core}`,
          `ì§‘ì˜ ë¬´ê²Œê°ì´ ì¤„ì–´ë“¤ì—ˆë‹¤.\n${core}`,
        ],
        ê¸°ë³¸: [
          `í•„ìš”í•œ ê±¸ ê°–ì·„ë‹¤.\n${body}`,
          `ì—…ê·¸ë ˆì´ë“œ ì™„ë£Œ. ì¡°ê¸ˆì€ í¸í•´ì§€ê² ì§€.\n${body}`,
          `ë‚˜ ìì‹ ì—ê²Œ íˆ¬ì.\n${body}`,
          `ëŠ¥ë ¥ì´ ê°•í™”ëë‹¤.\n${body}`,
          `ì§„í™”ì˜ ìˆœê°„.\n${body}`,
          `ê¸°íšŒë¥¼ ì¡ì•˜ë‹¤.\n${body}`,
          `ë‹¤ìŒ ë‹¨ê³„ë¡œ ë‚˜ì•„ê°”ë‹¤.\n${body}`,
          `íˆ¬ìì˜ í˜ì´ ì»¤ì¡Œë‹¤.\n${body}`,
        ],
      }

      return pick(`upgradeBuy_${product}`, byProduct[product] || byProduct['ê¸°ë³¸'])
    }
    if (s.startsWith('âš ï¸')) {
      const body = soften(s)
      return pick('warn', [
        `ì°œì°œí•œ ê¸°ë¶„ì´ ë‚¨ì•˜ë‹¤.\n${body}`,
        `ë­”ê°€ ì‚ë—í•œ ëŠë‚Œ.\n${body}`,
        `ì¼ë‹¨ ê¸°ë¡ë§Œ ë‚¨ê¸´ë‹¤.\n${body}`,
        `ë­”ê°€ ì´ìƒí•œ ëŠë‚Œ.\n${body}`,
        `ë¶ˆì•ˆí•œ ê¸°ë¶„ì´ ë“ ë‹¤.\n${body}`,
        `ì£¼ì˜ê°€ í•„ìš”í•  ê²ƒ ê°™ë‹¤.\n${body}`,
        `ë­”ê°€ ì˜ëª»ëœ ê²ƒ ê°™ë‹¤.\n${body}`,
        `ê²½ê³ ì˜ ì‹ í˜¸ê°€ ëŠê»´ì§„ë‹¤.\n${body}`,
      ])
    }

    // ê¸°ë³¸
    const base = soften(s)
    return pick('default', [
      base,
      `${t('diary.justWrite')}\n${base}`,
      `${t('diary.todayRecord')}\n${base}`,
      `${t('diary.anyway')} ${base}`,
      `${t('diary.justRecord')}\n${base}`,
      `${t('diary.memo')}\n${base}`,
      `${t('diary.remember')}\n${base}`,
      `${t('diary.recordForLater')}\n${base}`,
      `${t('diary.goodToWrite')}\n${base}`,
      `${t('diary.leaveRecord')}\n${base}`,
    ])
  }

  updateDiaryMeta()
  const diaryText = diaryize(text)
  if (!diaryText) return

  const p = document.createElement('p')
  const escaped = diaryText.replace(/</g, '&lt;').replace(/>/g, '&gt;')
  // (ìš”ì²­) ë…ë°±(1ì¤„)ê³¼ ì •ë³´(ì´í›„ ì¤„)ì˜ ê°€ì‹œì„± ë¶„ë¦¬
  const lines = escaped.split('\n')
  const voiceLine = (lines[0] ?? '').trim()
  const infoLines = lines
    .slice(1)
    .map(l => String(l).trim())
    .filter(Boolean)
  const bodyHtml =
    `<span class="diary-voice">${voiceLine}</span>` +
    (infoLines.length ? `\n<span class="diary-info">${infoLines.join('\n')}</span>` : '')
  p.innerHTML = `<span class="diary-time">${timeStamp}</span>${bodyHtml}`

  if (!elLog) {
    console.error(
      '[Diary] âŒ elLog is null in addLog! Cannot add log entry. Diary was not initialized.'
    )
    return
  }

  elLog.prepend(p)
}
