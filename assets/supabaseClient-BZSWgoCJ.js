import{_ as r}from"./preload-helper-WPMeT1xN.js";const t="__clicksurvivor_supabase_client",o="__clicksurvivor_supabase_client_module",i="__clicksurvivor_supabase_client_promise";let n=null;async function T(){return n||(typeof globalThis<"u"&&globalThis[o]?globalThis[o]:(n=r(()=>import("https://esm.sh/@supabase/supabase-js@2.49.1"),[],import.meta.url).then(l=>{const e=l.createClient;return typeof globalThis<"u"&&(globalThis[o]=e),e}),n))}async function h(){if(typeof globalThis<"u"&&globalThis[t])return globalThis[t];if(typeof globalThis<"u"&&globalThis[i])return globalThis[i];const l=(async()=>{try{const{isSupabaseConfigured:e,getSupabaseUrl:s,getSupabaseAnonKey:u,AUTH_STORAGE_KEY:_}=await r(async()=>{const{isSupabaseConfigured:c,getSupabaseUrl:b,getSupabaseAnonKey:f,AUTH_STORAGE_KEY:g}=await import("./config-BXlfH7ts.js");return{isSupabaseConfigured:c,getSupabaseUrl:b,getSupabaseAnonKey:f,AUTH_STORAGE_KEY:g}},[],import.meta.url);if(!e())return null;if(typeof globalThis<"u"&&globalThis[t])return globalThis[t];const a=(await T())(s(),u(),{auth:{storageKey:_,persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});return typeof globalThis<"u"&&(globalThis[t]=a,delete globalThis[i]),a}catch(e){return console.error("[supabaseClient] Failed to load/create client:",e),typeof globalThis<"u"&&delete globalThis[i],null}})();return typeof globalThis<"u"&&(globalThis[i]=l),l}export{h as g};
