const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ui-BV5JZo7K.js","./preload-helper-Bo3zgFBI.js","./preload-helper-DFlHEO2w.css","./core-Cq47966W.js","./supabaseClient-DfMY2obf.js"])))=>i.map(i=>d[i]);
import"./modulepreload-polyfill-B5Qt9EMX.js";import{_ as p}from"./preload-helper-Bo3zgFBI.js";/* empty css               *//* empty css            */import{r as k,a as L}from"./footer-BCqG-Vg5.js";document.addEventListener("DOMContentLoaded",async()=>{const n=document.getElementById("header-mount"),e=document.getElementById("footer-mount");n&&(k(n),await v()),e&&L(e),A()});function A(){const n=document.getElementById("delete-confirm-checkbox"),e=document.getElementById("delete-confirm-input"),a=document.getElementById("delete-account-btn");if(!n||!e||!a)return;function o(){const r=n.checked,i=e.value.trim();r&&i==="DELETE"?a.disabled=!1:a.disabled=!0}n.addEventListener("change",o),e.addEventListener("input",o),o()}async function v(){try{const{initAuthUI:n}=await p(async()=>{const{initAuthUI:t}=await import("./ui-BV5JZo7K.js");return{initAuthUI:t}},__vite__mapDeps([0,1,2]),import.meta.url),{getUser:e,onAuthStateChange:a}=await p(async()=>{const{getUser:t,onAuthStateChange:c}=await import("./core-Cq47966W.js");return{getUser:t,onAuthStateChange:c}},__vite__mapDeps([3,1,2,4]),import.meta.url),o=document.getElementById("headerLoginBtn"),r=document.getElementById("headerLogoutBtn"),i=document.getElementById("headerAccountMenu"),l=document.getElementById("headerAccountNicknameMobile");if(!o&&!r)return;o&&(o.style.display="block"),i&&i.style.setProperty("display","none","important");async function w(t){var c,y,f,g,_,h,E,B,I;if(l){if(!t){l.textContent="Guest";return}try{const{getUserProfile:s}=await p(async()=>{const{getUserProfile:u}=await import("./core-Cq47966W.js");return{getUserProfile:u}},__vite__mapDeps([3,1,2,4]),import.meta.url),d=await s("seoulsurvival");if(d.success&&((c=d.user)!=null&&c.nickname))l.textContent=d.user.nickname;else{const u=((y=t==null?void 0:t.user_metadata)==null?void 0:y.full_name)||((f=t==null?void 0:t.user_metadata)==null?void 0:f.name)||((g=t==null?void 0:t.user_metadata)==null?void 0:g.preferred_username)||((_=t==null?void 0:t.email)==null?void 0:_.split("@")[0])||"Guest";l.textContent=u}}catch(s){console.warn("[Account Delete] Failed to get nickname:",s);const d=((h=t==null?void 0:t.user_metadata)==null?void 0:h.full_name)||((E=t==null?void 0:t.user_metadata)==null?void 0:E.name)||((B=t==null?void 0:t.user_metadata)==null?void 0:B.preferred_username)||((I=t==null?void 0:t.email)==null?void 0:I.split("@")[0])||"Guest";l.textContent=d}}}async function m(t){const c=!!t;o&&(o.style.display=c?"none":"block"),i&&(c?i.style.setProperty("display","block","important"):i.style.setProperty("display","none","important")),await w(t)}const b=await e();await m(b),await n({scope:"hub",providerButtons:[],defaultProvider:"google",loginBtn:o,logoutBtn:r,userLabel:null,statusLabel:null,toast:t=>console.log("[Account Delete]",t)}),setTimeout(async()=>{const t=await e();await m(t)},100),a(async t=>{await m(t)})}catch(n){console.warn("[Account Delete] Header auth init failed, using guest mode:",n);const e=document.getElementById("headerLoginBtn"),a=document.getElementById("headerAccountMenu");e&&(e.style.display="block"),a&&a.style.setProperty("display","none","important")}}
