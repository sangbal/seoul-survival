const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ui-f-BUVmIv.js","./preload-helper-WPMeT1xN.js","./preload-helper-DFlHEO2w.css","./core-DFjEd1v7.js","./supabaseClient-BZSWgoCJ.js"])))=>i.map(i=>d[i]);
import{_ as l}from"./preload-helper-WPMeT1xN.js";/* empty css               *//* empty css            */import{r as D,a as O}from"./footer-BfoEdRuT.js";document.addEventListener("DOMContentLoaded",async()=>{var f;const p=document.getElementById("header-mount"),g=document.getElementById("footer-mount");if(p){D(p);try{const{initAuthUI:n}=await l(async()=>{const{initAuthUI:t}=await import("./ui-f-BUVmIv.js");return{initAuthUI:t}},__vite__mapDeps([0,1,2]),import.meta.url),{getUser:C,onAuthStateChange:H}=await l(async()=>{const{getUser:t,onAuthStateChange:i}=await import("./core-DFjEd1v7.js");return{getUser:t,onAuthStateChange:i}},__vite__mapDeps([3,1,2,4]),import.meta.url),e=document.getElementById("headerLoginBtn"),y=document.getElementById("headerLogoutBtn"),a=document.getElementById("headerAccountMenu"),o=document.getElementById("headerAccountNicknameMobile");if(!e&&!y)return;e&&(e.style.display="block"),a&&a.style.setProperty("display","none","important");async function E(t){var I,h,w,v,L,A,B,b,P;const i=!!t;if(e&&(e.style.display=i?"none":"block"),a&&(i?a.style.setProperty("display","block","important"):a.style.setProperty("display","none","important")),o&&i)try{const{getUserProfile:s}=await l(async()=>{const{getUserProfile:m}=await import("./core-DFjEd1v7.js");return{getUserProfile:m}},__vite__mapDeps([3,1,2,4]),import.meta.url),c=await s("seoulsurvival");if(c.success&&((I=c.user)!=null&&I.nickname))o.textContent=c.user.nickname;else{const m=((h=t==null?void 0:t.user_metadata)==null?void 0:h.full_name)||((w=t==null?void 0:t.user_metadata)==null?void 0:w.name)||((v=t==null?void 0:t.user_metadata)==null?void 0:v.preferred_username)||((L=t==null?void 0:t.email)==null?void 0:L.split("@")[0])||"Guest";o.textContent=m}}catch(s){console.warn("[Header] Failed to get nickname:",s);const c=((A=t==null?void 0:t.user_metadata)==null?void 0:A.full_name)||((B=t==null?void 0:t.user_metadata)==null?void 0:B.name)||((b=t==null?void 0:t.user_metadata)==null?void 0:b.preferred_username)||((P=t==null?void 0:t.email)==null?void 0:P.split("@")[0])||"Guest";o.textContent=c}}const T=await C();await E(T),await n({scope:"hub",providerButtons:[],defaultProvider:"google",loginBtn:e,logoutBtn:y,userLabel:o,statusLabel:null,toast:t=>console.log("[Header]",t)}),H(async t=>{await E(t)})}catch(n){console.warn("[Header] Auth init failed:",n)}}g&&O(g);const{getUser:k}=await l(async()=>{const{getUser:n}=await import("./core-DFjEd1v7.js");return{getUser:n}},__vite__mapDeps([3,1,2,4]),import.meta.url),r=await k(),M=!!r,_=document.getElementById("connected-account-name"),d=document.getElementById("connected-account-status");if(!M){d&&(d.innerHTML='<span class="status-badge status-inactive">연결 안 됨</span>');return}const u=((f=r==null?void 0:r.app_metadata)==null?void 0:f.provider)||"google",U=u==="google"?"Google":u;_&&(_.textContent=U),d&&(d.innerHTML='<span class="status-badge status-active">연결됨</span>')});
