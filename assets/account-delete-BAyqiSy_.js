const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ui-f-BUVmIv.js","./preload-helper-WPMeT1xN.js","./preload-helper-DFlHEO2w.css","./core-DFjEd1v7.js","./supabaseClient-BZSWgoCJ.js"])))=>i.map(i=>d[i]);
import{_ as u}from"./preload-helper-WPMeT1xN.js";/* empty css               *//* empty css            */import{r as k,a as b}from"./footer-BfoEdRuT.js";document.addEventListener("DOMContentLoaded",async()=>{const a=document.getElementById("header-mount"),e=document.getElementById("footer-mount");a&&(k(a),await L()),e&&b(e)});async function L(){try{const{initAuthUI:a}=await u(async()=>{const{initAuthUI:t}=await import("./ui-f-BUVmIv.js");return{initAuthUI:t}},__vite__mapDeps([0,1,2]),import.meta.url),{getUser:e,onAuthStateChange:r}=await u(async()=>{const{getUser:t,onAuthStateChange:n}=await import("./core-DFjEd1v7.js");return{getUser:t,onAuthStateChange:n}},__vite__mapDeps([3,1,2,4]),import.meta.url),o=document.getElementById("headerLoginBtn"),y=document.getElementById("headerLogoutBtn"),i=document.getElementById("headerAccountMenu"),c=document.getElementById("headerAccountNicknameMobile");if(!o&&!y)return;o&&(o.style.display="block"),i&&i.style.setProperty("display","none","important");async function I(t){var n,p,f,g,_,h,w,B,E;if(c){if(!t){c.textContent="Guest";return}try{const{getUserProfile:m}=await u(async()=>{const{getUserProfile:s}=await import("./core-DFjEd1v7.js");return{getUserProfile:s}},__vite__mapDeps([3,1,2,4]),import.meta.url),l=await m("seoulsurvival");if(l.success&&((n=l.user)!=null&&n.nickname))c.textContent=l.user.nickname;else{const s=((p=t==null?void 0:t.user_metadata)==null?void 0:p.full_name)||((f=t==null?void 0:t.user_metadata)==null?void 0:f.name)||((g=t==null?void 0:t.user_metadata)==null?void 0:g.preferred_username)||((_=t==null?void 0:t.email)==null?void 0:_.split("@")[0])||"Guest";c.textContent=s}}catch(m){console.warn("[Account Delete] Failed to get nickname:",m);const l=((h=t==null?void 0:t.user_metadata)==null?void 0:h.full_name)||((w=t==null?void 0:t.user_metadata)==null?void 0:w.name)||((B=t==null?void 0:t.user_metadata)==null?void 0:B.preferred_username)||((E=t==null?void 0:t.email)==null?void 0:E.split("@")[0])||"Guest";c.textContent=l}}}async function d(t){const n=!!t;o&&(o.style.display=n?"none":"block"),i&&(n?i.style.setProperty("display","block","important"):i.style.setProperty("display","none","important")),await I(t)}const A=await e();await d(A),await a({scope:"hub",providerButtons:[],defaultProvider:"google",loginBtn:o,logoutBtn:y,userLabel:null,statusLabel:null,toast:t=>console.log("[Account Delete]",t)}),setTimeout(async()=>{const t=await e();await d(t)},100),r(async t=>{await d(t)})}catch(a){console.warn("[Account Delete] Header auth init failed, using guest mode:",a);const e=document.getElementById("headerLoginBtn"),r=document.getElementById("headerAccountMenu");e&&(e.style.display="block"),r&&r.style.setProperty("display","none","important")}}
