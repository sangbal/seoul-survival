<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ì„œìš¸ ì—­ì„¸ê¶Œ íƒ€ì´ì¿¤ â€” v3.1.0</title>
  <style>
    :root {
      --bg:#0b1220; --panel:#121a2b; --accent:#5eead4; --muted:#94a3b8; --text:#e5e7eb; --btn:#1f2a44; --btn2:#192238; --good:#34d399; --bad:#fb7185;
      --bg2:#0f1628; --bg3:#0c1322; --primary:#60a5fa; --secondary:#a78bfa; --warning:#fbbf24; --info:#3b82f6;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:linear-gradient(180deg,#0b1220,#0b1324 40%,#0c1428); color:var(--text); font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, Arial, Apple Color Emoji, Segoe UI Emoji}
    .app{max-width:1400px; margin:0 auto; padding:16px; padding-top:80px;}
    .grid{display:grid; grid-template-columns: 1.1fr 0.9fr; gap:16px}
    header{position:fixed; top:0; left:50%; transform:translateX(-50%); z-index:100; background:linear-gradient(180deg,#0b1220,#0b1324); box-shadow:0 4px 20px rgba(0,0,0,.5); padding:12px 16px; display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:space-between; max-width:1400px; width:100%;}
    .statbar{display:flex; gap:10px; flex-wrap:wrap}
    .chip{background:var(--panel); padding:10px 12px; border-radius:12px; box-shadow:0 6px 20px rgba(0,0,0,.25); display:flex; align-items:center; gap:8px}
    .chip b{font-size:16px}
    .muted{color:var(--muted)}

    .card{background:var(--panel); border:1px solid rgba(255,255,255,.06); border-radius:16px; padding:16px; box-shadow:0 8px 30px rgba(0,0,0,.3)}
    .card h2{margin:0 0 10px; font-size:18px}

    .work{display:flex; align-items:center; justify-content:center; height:300px; border:1px dashed rgba(255,255,255,.08); border-radius:16px; background:radial-gradient(1200px 400px at 50% -50%, rgba(94,234,212,.1), transparent 60%)}
    .btn{
      cursor:pointer; 
      border:none; 
      background:var(--accent); 
      color:var(--bg); 
      padding:8px 16px; 
      border-radius:6px; 
      font-weight:700; 
      font-size:12px;
      letter-spacing:.2px; 
      transition:all 0.2s ease;
      pointer-events:auto;
    }
    .btn:hover{
      filter:brightness(1.1);
      transform:scale(1.05);
    }
    .btn:active{transform:scale(0.98)}
    .btn[disabled]{
      opacity:.5; 
      cursor:not-allowed;
      background:var(--muted);
    }
    .btn-lg{
      font-size:20px; 
      padding:18px 28px; 
      background:linear-gradient(180deg,#1f2a44,#1a2340);
      color:var(--text);
      border:1px solid rgba(255,255,255,.1);
    }

    .upg-list{display:flex; flex-direction:column; gap:8px}
    .row{
      display:flex; 
      align-items:center; 
      gap:12px; 
      padding:12px; 
      border-radius:8px; 
      background:var(--btn); 
      border:2px solid transparent;
      cursor:pointer;
      transition:all 0.2s;
    }
    .row:hover{
      background:var(--btn2);
      border-color:var(--accent);
      transform:translateY(-2px);
    }
    .row .meta{display:flex; flex-direction:column; flex:1; pointer-events:none;}
    .row .meta .title{font-weight:700; font-size:14px;}
    .row .meta .desc{color:var(--muted); font-size:12px; margin-top:4px;}
    .row .meta .desc b{color:var(--accent); font-weight:600;}

    .log{max-height:140px; overflow:auto; padding-right:6px}
    .log p{margin:0 0 6px}
    .pill{display:inline-block; padding:2px 8px; border-radius:999px; background:rgba(94,234,212,.12); color:var(--accent); font-size:12px}
    
    /* ì§„í–‰ë¥  ë°” ìŠ¤íƒ€ì¼ */
    .progress-container{width:100%; height:8px; background:rgba(255,255,255,.1); border-radius:4px; overflow:hidden; margin:4px 0}
    .progress-bar{height:100%; background:linear-gradient(90deg,var(--accent),#34d399); transition:width 0.3s ease; border-radius:4px}
    
    /* í´ë¦­ ì• ë‹ˆë©”ì´ì…˜ */
    .click-effect{animation:clickPulse 0.3s ease-out}
    @keyframes clickPulse{0%{transform:scale(1)} 50%{transform:scale(1.05)} 100%{transform:scale(1)}}
    
    /* ìˆ˜ìµ ì¦ê°€ ì• ë‹ˆë©”ì´ì…˜ */
    .income-increase{position:absolute; color:var(--good); font-weight:700; pointer-events:none; animation:incomeFloat 2s ease-out forwards}
    @keyframes incomeFloat{0%{opacity:1; transform:translateY(0)} 100%{opacity:0; transform:translateY(-50px)}}
    
    /* ì‹œì¥ ì´ë²¤íŠ¸ ì•Œë¦¼ ì• ë‹ˆë©”ì´ì…˜ */
    @keyframes slideIn{0%{transform:translateX(100%); opacity:0} 100%{transform:translateX(0); opacity:1}}
    
    /* ì—…ì  ì•Œë¦¼ ì• ë‹ˆë©”ì´ì…˜ */
    @keyframes achievementPop{0%{transform:translate(-50%, -50%) scale(0.5); opacity:0} 50%{transform:translate(-50%, -50%) scale(1.1)} 100%{transform:translate(-50%, -50%) scale(1); opacity:1}}
    
    /* êµ¬ë§¤ ê°€ëŠ¥ ì•Œë¦¼ ì• ë‹ˆë©”ì´ì…˜ */
    @keyframes slideInLeft{0%{transform:translateX(-100%); opacity:0} 100%{transform:translateX(0); opacity:1}}
    
    /* ë–¨ì–´ì§€ëŠ” ì¿ í‚¤ ì• ë‹ˆë©”ì´ì…˜ */
    .falling-cookie {
      position: fixed;
      pointer-events: none;
      z-index: 1000;
      font-size: 24px;
      animation: fallDown 2s ease-in forwards;
    }
    
    @keyframes fallDown {
      0% {
        transform: translateY(-100px) rotate(0deg) scale(1);
        opacity: 1;
      }
      50% {
        transform: translateY(50vh) rotate(180deg) scale(0.8);
        opacity: 0.8;
      }
      100% {
        transform: translateY(100vh) rotate(360deg) scale(0.6);
        opacity: 0;
      }
    }
    
    /* êµ¬ë§¤ ê°€ëŠ¥í•œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .btn.affordable {
      background: var(--good) !important;
      color: white !important;
      opacity: 1 !important;
      box-shadow: 0 0 10px rgba(76, 175, 80, 0.3);
      animation: pulse 2s infinite;
    }
    
    /* êµ¬ë§¤ ë¶ˆê°€ëŠ¥í•œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .btn.unaffordable {
      background: var(--muted) !important;
      color: var(--text) !important;
      opacity: 0.7 !important;
      cursor: not-allowed !important;
    }
    
    /* ë¦¬ìŠ¤í¬ í‘œì‹œ ìŠ¤íƒ€ì¼ */
    .risk-indicator {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 12px;
      margin-top: 4px;
    }
    
    .risk-level {
      padding: 2px 6px;
      border-radius: 4px;
      font-weight: 600;
      font-size: 10px;
    }
    
    .risk-low { 
      color: #4CAF50; 
      background: rgba(76, 175, 80, 0.1);
    }
    .risk-medium { 
      color: #FF9800; 
      background: rgba(255, 152, 0, 0.1);
    }
    .risk-high { 
      color: #F44336; 
      background: rgba(244, 67, 54, 0.1);
    }
    .risk-extreme { 
      color: #9C27B0; 
      background: rgba(156, 39, 176, 0.1);
    }
    
    .risk-bar {
      width: 60px;
      height: 4px;
      background: #e0e0e0;
      border-radius: 2px;
      overflow: hidden;
      margin-left: 5px;
    }
    
    .risk-fill {
      height: 100%;
      transition: width 0.3s ease;
    }
    
    .risk-fill.low { 
      width: 20%; 
      background: #4CAF50; 
    }
    .risk-fill.medium { 
      width: 40%; 
      background: #FF9800; 
    }
    .risk-fill.high { 
      width: 60%; 
      background: #F44336; 
    }
    .risk-fill.extreme { 
      width: 80%; 
      background: #9C27B0; 
    }
    
    /* ì—…ê·¸ë ˆì´ë“œ ì•„ì´í…œì— ë¦¬ìŠ¤í¬ ì •ë³´ ì¶”ê°€ */
    .upgrade-item .risk-info {
      margin-top: 8px;
      padding: 4px 8px;
      background: rgba(0,0,0,0.05);
      border-radius: 4px;
      font-size: 11px;
    }
    
    /* ìƒí’ˆ ì„¤ëª…ì— ë¦¬ìŠ¤í¬ ì •ë³´ ì¶”ê°€ */
    .product-risk-info {
      margin-top: 4px;
      font-size: 11px;
      color: var(--muted);
    }
    
    /* êµ¬ë§¤ ê°€ëŠ¥í•œ ë²„íŠ¼ ì• ë‹ˆë©”ì´ì…˜ */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    /* êµ¬ë§¤ ìˆ˜ëŸ‰ ì„ íƒ ì‹œìŠ¤í…œ */
    .purchase-options {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      padding: 12px;
      background: var(--bg2);
      border-radius: 8px;
    }
    
    .mode-toggle {
      display: flex;
      gap: 4px;
    }
    
    .mode-toggle button {
      padding: 6px 12px;
      border: none;
      background: var(--bg3);
      color: var(--muted);
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
    }
    
    .mode-toggle button.active {
      background: var(--good);
      color: white;
    }
    
    .quantity-selector {
      display: flex;
      gap: 4px;
    }
    
    .quantity-selector button {
      padding: 6px 10px;
      border: none;
      background: var(--bg3);
      color: var(--muted);
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
      min-width: 32px;
    }
    
    .quantity-selector button.active {
      background: var(--primary);
      color: white;
    }
    
    /* ê±´ë¬¼ ëª©ë¡ ìƒ‰ìƒ ì‹œìŠ¤í…œ (ì—…ê·¸ë ˆì´ë“œ ìŠ¤íƒ€ì¼ í†µì¼) */
    .building-item {
      transition: all 0.2s ease;
    }
    
    .building-item.affordable {
      border-color: var(--good);
      box-shadow: 0 0 10px rgba(52, 211, 153, 0.3);
      animation: upgradeGlow 2s infinite;
    }
    
    .building-item.affordable .cost {
      color: var(--good);
      font-weight: 600;
    }
    
    .building-item.unaffordable {
      opacity: 0.7;
    }
    
    .building-item.unaffordable .cost {
      color: var(--bad);
      font-weight: 600;
    }
    
    .building-item.locked {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .building-item.locked .cost {
      color: var(--muted);
    }
    
    /* ì—…ê·¸ë ˆì´ë“œ ë¦¬ìŠ¤íŠ¸ - Cookie Clicker ìŠ¤íƒ€ì¼ */
    .upgrade-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 16px;
      max-height: 400px;
      overflow-y: auto;
    }
    
    .upgrade-list:empty::after {
      content: 'í•´ê¸ˆëœ ì—…ê·¸ë ˆì´ë“œê°€ ì—†ìŠµë‹ˆë‹¤';
      display: block;
      text-align: center;
      color: var(--muted);
      padding: 20px;
      font-size: 13px;
    }
    
    .upgrade-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: var(--btn);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      border: 2px solid transparent;
    }
    
    .upgrade-item:hover {
      background: var(--btn2);
      border-color: var(--accent);
      transform: translateY(-2px);
    }
    
    .upgrade-item.affordable {
      border-color: var(--good);
      box-shadow: 0 0 10px rgba(52, 211, 153, 0.3);
      animation: upgradeGlow 2s infinite;
    }
    
    @keyframes upgradeGlow {
      0%, 100% { box-shadow: 0 0 10px rgba(52, 211, 153, 0.3); }
      50% { box-shadow: 0 0 20px rgba(52, 211, 153, 0.5); }
    }
    
    .upgrade-item.purchased {
      opacity: 0.5;
      cursor: not-allowed;
      background: var(--bg2);
    }
    
    /* ìˆœì°¨ í•´ê¸ˆ ì‹œìŠ¤í…œ - ì ê¹€ ìƒíƒœ */
    .row.locked {
      opacity: 0.3;
      cursor: not-allowed;
      filter: grayscale(0.9);
      position: relative;
      pointer-events: none;
    }
    
    .row.locked::before {
      content: 'ğŸ”’';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 48px;
      z-index: 10;
      pointer-events: none;
      text-shadow: 0 0 10px rgba(0,0,0,0.8);
    }
    
    .row.locked:hover {
      transform: none;
      border-color: transparent;
      background: var(--btn);
    }
    
    .row.locked .btn {
      background: var(--muted);
      cursor: not-allowed;
      pointer-events: none;
    }
    
    /* í•´ê¸ˆ ì• ë‹ˆë©”ì´ì…˜ */
    .row.just-unlocked {
      animation: unlockGlow 1s ease-out;
      position: relative;
      z-index: 100;
      isolation: isolate;
      will-change: box-shadow, border-color;
    }
    
    @keyframes unlockGlow {
      0% {
        box-shadow: 0 0 40px var(--good);
        border-color: var(--good);
        background-color: rgba(34, 197, 94, 0.1);
      }
      50% {
        box-shadow: 0 0 60px var(--good);
        background-color: rgba(34, 197, 94, 0.2);
      }
      100% {
        box-shadow: none;
        border-color: transparent;
        background-color: transparent;
      }
    }
    
    .upgrade-icon {
      font-size: 32px;
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--bg);
      border-radius: 8px;
      flex-shrink: 0;
      pointer-events: none;
    }
    
    .upgrade-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px;
      min-width: 0;
      pointer-events: none;
    }
    
    .upgrade-name {
      font-weight: 600;
      font-size: 14px;
      color: var(--text);
    }
    
    .upgrade-desc {
      font-size: 12px;
      color: var(--muted);
    }
    
    .upgrade-cost {
      font-size: 13px;
      color: var(--accent);
      font-weight: 600;
    }
    
    .upgrade-status {
      font-size: 11px;
      padding: 4px 8px;
      background: var(--accent);
      color: var(--bg);
      border-radius: 4px;
      font-weight: 700;
      animation: statusPulse 1s infinite;
      flex-shrink: 0;
      pointer-events: none;
    }
    
    @keyframes statusPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }
    
    .upgrade-count {
      font-size: 14px;
      color: var(--accent);
      font-weight: 600;
    }
    
    /* êµ¬ë§¤ ì™„ë£Œ ì‹œ ë°˜ì§ íš¨ê³¼ */
    .purchase-success {
      animation: sparkle 0.6s ease-out !important;
      position: relative !important;
      z-index: 1000 !important;
      isolation: isolate !important;
      will-change: background-color, box-shadow !important;
    }
    
    @keyframes sparkle {
      0% { 
        background-color: var(--good) !important;
        box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7) !important;
      }
      50% { 
        background-color: #ffd700 !important;
        box-shadow: 0 0 20px 10px rgba(255, 215, 0, 0.5) !important;
      }
      100% { 
        background-color: var(--good) !important;
        box-shadow: 0 0 0 0 rgba(255, 215, 0, 0) !important;
      }
    }
    
    /* í† ê¸€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .toggle-btn {
      cursor: pointer;
      user-select: none;
      font-size: 14px;
      color: var(--muted);
      transition: color 0.3s ease;
      margin-left: 8px;
    }
    
    .toggle-btn:hover {
      color: var(--primary);
    }
    
    .toggle-btn.collapsed {
      transform: rotate(-90deg);
    }
    
    /* ì ‘íŒ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
    .collapsed-section {
      display: none;
    }
    
    footer{
      margin-top:16px; 
      color:var(--muted); 
      font-size:12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .save-status {
      color: var(--good);
      font-weight: 500;
    }
    
    .reset-btn {
      background: var(--bad);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-left: 12px;
      box-shadow: 0 2px 4px rgba(244, 67, 54, 0.3);
    }
    
    .reset-btn:hover {
      background: #d32f2f;
      transform: translateY(-1px);
      box-shadow: 0 4px 8px rgba(244, 67, 54, 0.4);
    }
    
    .reset-btn:active {
      transform: translateY(0);
      box-shadow: 0 2px 4px rgba(244, 67, 54, 0.3);
    }
    
    /* íˆ´íŒ ìŠ¤íƒ€ì¼ */
    .stat-tooltip {
      position: relative;
      cursor: help;
      transition: all 0.2s;
    }
    .stat-tooltip:hover {
      background: var(--bg2);
      transform: translateY(-2px);
    }
    
    /* ê³µìœ í•˜ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .share-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 2px 8px rgba(96, 165, 250, 0.3);
      white-space: nowrap;
    }
    
    .share-btn:hover {
      background: #4a90e2;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(96, 165, 250, 0.4);
    }
    
    .share-btn:active {
      transform: translateY(0);
      box-shadow: 0 2px 8px rgba(96, 165, 250, 0.3);
    }
    
    .share-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    /* ======= ëª¨ë°”ì¼ ìµœì í™” ======= */
    @media (max-width: 768px) {
      /* ê·¸ë¦¬ë“œë¥¼ 1ì—´ë¡œ ë³€ê²½ */
      .grid {
        grid-template-columns: 1fr;
      }
      
      /* í—¤ë” ìµœì í™” */
      header {
        padding: 8px 12px;
        flex-wrap: wrap;
      }
      
      .statbar {
        gap: 6px;
        width: 100%;
      }
      
      .share-btn {
        padding: 6px 10px;
        font-size: 12px;
        margin-top: 4px;
      }
      
      .share-btn span:last-child {
        display: none;
      }
      
      .chip {
        padding: 6px 8px;
        font-size: 12px;
      }
      
      .chip b {
        font-size: 14px;
      }
      
      /* ì•± íŒ¨ë”© ì¡°ì • */
      .app {
        padding: 8px;
        padding-top: 70px;
      }
      
      /* ë²„íŠ¼ í¬ê¸° í™•ëŒ€ (í„°ì¹˜ ìµœì í™”) */
      .btn {
        min-height: 44px;
        min-width: 44px;
        font-size: 14px;
      }
      
      .btn-lg {
        padding: 16px 24px;
        font-size: 16px;
      }
      
      /* ìƒì  ì„¹ì…˜ */
      .mode-toggle button,
      .quantity-selector button {
        min-height: 40px;
        min-width: 40px;
        font-size: 14px;
      }
      
      /* ì¹´ë“œ íŒ¨ë”© ì¡°ì • */
      .card {
        padding: 12px;
      }
      
      /* ë…¸ë™ ë²„íŠ¼ ì˜ì—­ ë†’ì´ ì¶•ì†Œ */
      .work {
        height: 200px;
      }
      
      /* ê±´ë¬¼ ì•„ì´í…œ í°íŠ¸ í¬ê¸° */
      .building-item {
        font-size: 13px;
      }
      
      /* ì—…ê·¸ë ˆì´ë“œ ì•„ì´í…œ */
      .upgrade-item {
        font-size: 13px;
        padding: 10px;
      }
      
      /* í‘¸í„° ì„¸ë¡œ ë°°ì¹˜ */
      footer > div > div:last-child {
        flex-direction: column !important;
        gap: 8px !important;
        width: 100%;
      }
      
      footer button {
        width: 100%;
      }
      
      /* ë¡œê·¸ ì˜ì—­ ë†’ì´ ì¡°ì • */
      .log {
        max-height: 150px;
      }
      
      /* ë¦¬ì…‹ ë²„íŠ¼ í¬ê¸° ì¡°ì • */
      .reset-btn {
        font-size: 12px;
        padding: 6px 10px;
      }
    }
    
    /* ì†Œí˜• ëª¨ë°”ì¼ (480px ì´í•˜) */
    @media (max-width: 480px) {
      body {
        font-size: 13px;
      }
      
      .app {
        padding: 4px;
        padding-top: 65px;
      }
      
      header {
        padding: 6px 8px;
      }
      
      .chip {
        padding: 4px 6px;
        font-size: 11px;
      }
      
      .chip b {
        font-size: 13px;
      }
      
      .card h2 {
        font-size: 16px;
      }
      
      .work {
        height: 180px;
      }
      
      .btn-lg {
        padding: 12px 20px;
        font-size: 14px;
      }
    }
    
    /* ======= í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” (ëª¨ë°”ì¼ ì „ìš©) ======= */
    .bottom-nav {
      display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ (PC) */
    }
    
    /* PCì—ì„œ grid ë ˆì´ì•„ì›ƒ ì»¨í…Œì´ë„ˆ */
    .tab-wrapper {
      display: grid;
      grid-template-columns: 1.1fr 0.9fr 1.0fr; /* 3ì—´: ë…¸ë™ + ìƒì  + í†µê³„ */
      gap: 16px;
    }
    
    /* PCì—ì„œëŠ” ëª¨ë“  íƒ­ ì»¨í…ì¸  í‘œì‹œ */
    .tab-content {
      display: block;
    }
    
    /* í†µê³„ íƒ­ì€ PCì—ì„œë„ í‘œì‹œ */
    #statsTab {
      display: block;
    }
    
    /* í†µê³„ íƒ­ ì»´íŒ©íŠ¸ ìŠ¤íƒ€ì¼ (PCìš©) */
    #statsTab .stats-section {
      margin-bottom: 16px;
      padding: 12px;
    }
    
    #statsTab .stat-value {
      font-size: 16px;
    }
    
    #statsTab h2 {
      font-size: 16px;
    }
    
    #statsTab h3 {
      font-size: 14px;
      margin-bottom: 10px;
    }
    
    /* í†µê³„ íƒ­ ìŠ¤íƒ€ì¼ */
    .stats-section {
      margin-bottom: 24px;
      padding: 16px;
      background: var(--bg2);
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.06);
    }
    
    .stats-section h3 {
      margin: 0 0 12px 0;
      font-size: 16px;
      color: var(--accent);
    }
    
    /* í†µê³„ ê·¸ë¦¬ë“œ */
    .stat-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }
    
    .stat-item {
      display: flex;
      flex-direction: column;
      gap: 4px;
      padding: 12px;
      background: var(--panel);
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,.04);
    }
    
    .stat-label {
      font-size: 12px;
      color: var(--muted);
    }
    
    .stat-value {
      font-size: 18px;
      font-weight: 700;
      color: var(--accent);
    }
    
    /* ìˆ˜ìµ êµ¬ì¡° ë°” */
    .income-breakdown {
      margin-top: 8px;
    }
    
    .income-bar {
      display: flex;
      height: 60px;
      border-radius: 8px;
      overflow: hidden;
      border: 2px solid var(--bg3);
      margin-bottom: 12px;
    }
    
    .income-segment {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 600;
      color: white;
      transition: all 0.3s;
      min-width: 2%;
    }
    
    .income-segment.labor {
      background: linear-gradient(135deg, #f59e0b, #d97706);
    }
    
    .income-segment.financial {
      background: linear-gradient(135deg, #3b82f6, #2563eb);
    }
    
    .income-segment.property {
      background: linear-gradient(135deg, #10b981, #059669);
    }
    
    .income-legend {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
    }
    
    .legend-color {
      width: 16px;
      height: 16px;
      border-radius: 4px;
    }
    
    .legend-color.labor {
      background: linear-gradient(135deg, #f59e0b, #d97706);
    }
    
    .legend-color.financial {
      background: linear-gradient(135deg, #3b82f6, #2563eb);
    }
    
    .legend-color.property {
      background: linear-gradient(135deg, #10b981, #059669);
    }
    
    /* ìì‚° ìƒì„¸ */
    .asset-stats {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .asset-row {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px;
      background: var(--panel);
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,.04);
    }
    
    .asset-icon {
      font-size: 24px;
      min-width: 32px;
      text-align: center;
    }
    
    .asset-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }
    
    .asset-name {
      font-size: 14px;
      font-weight: 600;
    }
    
    .asset-name span {
      color: var(--muted);
      font-weight: 400;
      font-size: 12px;
    }
    
    .asset-production {
      font-size: 12px;
      color: var(--muted);
    }
    
    .asset-production b {
      color: var(--good);
    }
    
    /* íš¨ìœ¨ ë¶„ì„ */
    .efficiency-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .efficiency-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: var(--panel);
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,.04);
    }
    
    .efficiency-item.best {
      border: 2px solid var(--accent);
      box-shadow: 0 0 15px rgba(94, 234, 212, 0.3);
    }
    
    .rank {
      font-size: 20px;
    }
    
    /* ì—…ì  ê·¸ë¦¬ë“œ */
    .achievement-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(48px, 1fr));
      gap: 8px;
    }
    
    .achievement-icon {
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      background: var(--panel);
      border-radius: 8px;
      border: 2px solid rgba(255,255,255,.1);
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }
    
    .achievement-icon.unlocked {
      border-color: var(--accent);
      box-shadow: 0 0 10px rgba(94, 234, 212, 0.5);
    }
    
    .achievement-icon.locked {
      opacity: 0.3;
      filter: grayscale(100%);
    }
    
    .achievement-icon:hover {
      transform: scale(1.1);
    }
    
    /* íƒœë¸”ë¦¿: 2ì—´ ê·¸ë¦¬ë“œ (ë…¸ë™ + ìƒì ), í†µê³„ëŠ” í•˜ë‹¨ */
    @media (max-width: 1366px) {
      .tab-wrapper {
        grid-template-columns: 1.1fr 0.9fr; /* 2ì—´ë¡œ ë³€ê²½ */
        grid-template-rows: auto auto;
      }
      
      #workTab {
        grid-column: 1;
        grid-row: 1;
      }
      
      #shopTab {
        grid-column: 2;
        grid-row: 1;
      }
      
      #statsTab {
        grid-column: 1 / -1; /* ì „ì²´ ë„ˆë¹„ */
        grid-row: 2;
      }
    }
    
    /* ëª¨ë°”ì¼ì—ì„œë§Œ í•˜ë‹¨ ë„¤ë¹„ì™€ íƒ­ ì‹œìŠ¤í…œ í™œì„±í™” */
    @media (max-width: 768px) {
      /* Grid ë ˆì´ì•„ì›ƒ í•´ì œ */
      .tab-wrapper {
        display: block;
      }
      
      /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ í‘œì‹œ */
      .bottom-nav {
        display: flex;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(180deg, #0b1220, #0b1324);
        box-shadow: 0 -4px 20px rgba(0,0,0,.5);
        justify-content: space-around;
        padding: 8px 0;
        z-index: 100;
      }
      
      .nav-btn {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        padding: 8px;
        background: none;
        border: none;
        color: var(--muted);
        cursor: pointer;
        transition: all 0.2s;
        font-size: 20px;
      }
      
      .nav-btn span {
        font-size: 11px;
        font-weight: 500;
      }
      
      .nav-btn.active {
        color: var(--accent);
      }
      
      .nav-btn:hover {
        background: var(--bg2);
      }
      
      /* íƒ­ ì»¨í…ì¸  ì „í™˜ ì‹œìŠ¤í…œ */
      .tab-content {
        display: none;
        width: 100%;
      }
      
      .tab-content.active {
        display: block;
      }
      
      /* í†µê³„ íƒ­ í‘œì‹œ */
      #statsTab {
        display: none;
      }
      
      #statsTab.active {
        display: block;
      }
      
      /* í•˜ë‹¨ ë„¤ë¹„ ë•Œë¬¸ì— ì—¬ë°± ì¶”ê°€ */
      .app {
        padding-bottom: 80px;
      }
      
      /* í†µê³„ íƒ­ ëª¨ë°”ì¼ ìµœì í™” */
      .stat-grid {
        grid-template-columns: 1fr;
      }
      
      .stat-item {
        padding: 10px;
      }
      
      .stat-value {
        font-size: 16px;
      }
      
      .income-bar {
        height: 50px;
      }
      
      .achievement-grid {
        grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
      }
      
      .achievement-icon {
        width: 40px;
        height: 40px;
        font-size: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="statbar">
        <div class="chip"><span>ğŸ’µ í˜„ê¸ˆ</span><b id="cash">0</b></div>
        <div class="chip stat-tooltip" id="financialChip" title=""><span>ğŸ’° ê¸ˆìœµ</span><b id="financial">0</b><span class="muted">ê°œ</span></div>
        <div class="chip stat-tooltip" id="propertyChip" title=""><span>ğŸ¢ ë¶€ë™ì‚°</span><b id="properties">0</b><span class="muted">ì±„</span></div>
        <div class="chip stat-tooltip" id="rpsChip" title=""><span>ğŸ“ˆ ì´ˆë‹¹ ìˆ˜ìµ</span><b id="rps">0</b><span class="muted">â‚©/s</span></div>
      </div>
      <button class="share-btn" id="shareBtn" title="ê²Œì„ ê³µìœ í•˜ê¸°">
        <span>ğŸ”—</span>
        <span>ê³µìœ </span>
      </button>
    </header>

    <div class="tab-wrapper">
    <!-- ë…¸ë™ íƒ­ -->
    <div id="workTab" class="tab-content active">
      <section class="card">
        <h2>ë…¸ë™í•˜ê¸°</h2>
        <div class="work">
          <button id="workBtn" class="btn btn-lg" aria-label="ë…¸ë™í•˜ê¸° ë²„íŠ¼">ğŸ› ï¸ ë…¸ë™ +<span id="clickIncomeButton">1ë§Œ</span>ì›</button>
        </div>
        <div style="margin-top: 12px; padding: 12px; background: var(--bg2); border-radius: 8px;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
            <span style="font-weight: 600;">ğŸ’¼ <span id="currentCareer">ì•Œë°”</span></span>
            <span style="font-size: 14px; color: var(--muted);">í´ë¦­ë‹¹: <b id="clickIncomeLabel">1ë§Œ</b>ì› (<span id="clickMultiplier">1.0</span>ë°°)</span>
          </div>
          <div style="margin-bottom: 8px;">
            <span class="desc" id="nextCareerDesc">ë‹¤ìŒ: ì‹ ì…ì‚¬ì› (1.2ë°° ìˆ˜ìµ)</span>
            <span class="desc" id="careerCost">40í´ë¦­ í•„ìš”</span>
          </div>
          <div class="progress-container" style="margin-bottom: 4px;">
            <div class="progress-bar" id="careerProgress" style="width: 0%"></div>
          </div>
          <span class="desc" id="careerProgressText" style="font-size: 12px;">ìŠ¹ì§„ ì§„í–‰ë¥ : 0% (0/40í´ë¦­)</span>
          <div style="margin-top: 8px; font-size: 11px; color: var(--muted);">
            ğŸ’¡ 8í´ë¦­ = 1ì¼ ê·¼ë¬´ | ì£¼ 5ì¼ ê·¼ë¬´ ê¸°ì¤€
          </div>
        </div>
        <div class="card" style="margin-top:12px">
          <h2>ë¡œê·¸</h2>
          <div id="log" class="log"></div>
        </div>
      </section>
    </div>

    <!-- ìƒì  íƒ­ -->
    <div id="shopTab" class="tab-content">
      <section>
        <div class="card">
          <h2>ìƒì </h2>
          
          <!-- êµ¬ë§¤ ìˆ˜ëŸ‰ ì„ íƒ ì‹œìŠ¤í…œ -->
          <div class="purchase-options">
            <div class="mode-toggle">
              <button id="buyMode" class="active">êµ¬ë§¤</button>
              <button id="sellMode">íŒë§¤</button>
            </div>
            <div class="quantity-selector">
              <button id="qty1" class="active">1</button>
              <button id="qty5">5</button>
              <button id="qty10">10</button>
            </div>
          </div>
          
          <!-- ì—…ê·¸ë ˆì´ë“œ ë¦¬ìŠ¤íŠ¸ - Cookie Clicker ìŠ¤íƒ€ì¼ -->
          <h3>ì—…ê·¸ë ˆì´ë“œ <span class="upgrade-count" id="upgradeCount">(0)</span> <span class="toggle-btn" id="toggleUpgrades" aria-label="ì—…ê·¸ë ˆì´ë“œ ì„¹ì…˜ í† ê¸€">â–¼</span></h3>
          <div class="upgrade-list" id="upgradeList">
            <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë¨ -->
          </div>
          
          <h3>ê¸ˆìœµìƒí’ˆ <span class="toggle-btn" id="toggleFinancial" aria-label="ê¸ˆìœµìƒí’ˆ ì„¹ì…˜ í† ê¸€">â–¼</span></h3>
        <div class="upg-list" id="financialSection">
          <div class="row building-item" id="depositItem">
            <div class="meta">
                <span class="title">ğŸ’° ì˜ˆê¸ˆ</span>
                <span class="desc">â€¢ ê° ì˜ˆê¸ˆì´ ì´ˆë‹¹ <b id="incomePerDeposit">10ì›</b> ìƒì‚°</span>
                <span class="desc">â€¢ <b id="depositCount">0</b>ê°œ ì˜ˆê¸ˆì´ ì´ˆë‹¹ <b id="depositTotalIncome">0ì›</b> ìƒì‚° (ì´ ìˆ˜ìµì˜ <b id="depositPercent">0%</b>)</span>
                <span class="desc">â€¢ ì§€ê¸ˆê¹Œì§€ <b id="depositLifetime">0ì›</b> ìƒì‚°</span>
                <span class="desc">í˜„ì¬ê°€: <b id="depositCurrentPrice">5ë§Œ</b>ì›</span>
            </div>
              <button id="buyDeposit" class="btn">êµ¬ì…</button>
          </div>

            <div class="row building-item" id="savingsItem">
            <div class="meta">
                <span class="title">ğŸ¦ ì ê¸ˆ</span>
                <span class="desc">â€¢ ê° ì ê¸ˆì´ ì´ˆë‹¹ <b id="incomePerSavings">120ì›</b> ìƒì‚°</span>
                <span class="desc">â€¢ <b id="savingsCount">0</b>ê°œ ì ê¸ˆì´ ì´ˆë‹¹ <b id="savingsTotalIncome">0ì›</b> ìƒì‚° (ì´ ìˆ˜ìµì˜ <b id="savingsPercent">0%</b>)</span>
                <span class="desc">â€¢ ì§€ê¸ˆê¹Œì§€ <b id="savingsLifetimeDisplay">0ì›</b> ìƒì‚°</span>
                <span class="desc">í˜„ì¬ê°€: <b id="savingsCurrentPrice">50ë§Œ</b>ì›</span>
            </div>
              <button id="buySavings" class="btn">êµ¬ì…</button>
          </div>

          <div class="row building-item" id="bondItem">
            <div class="meta">
                <span class="title">ğŸ“ˆ êµ­ë‚´ì£¼ì‹</span>
                <span class="desc">â€¢ ê° ì£¼ì‹ì´ ì´ˆë‹¹ <b id="incomePerBond">1,125ì›</b> ìƒì‚°</span>
                <span class="desc">â€¢ <b id="bondCount">0</b>ê°œ ì£¼ì‹ì´ ì´ˆë‹¹ <b id="bondTotalIncome">0ì›</b> ìƒì‚° (ì´ ìˆ˜ìµì˜ <b id="bondPercent">0%</b>)</span>
                <span class="desc">â€¢ ì§€ê¸ˆê¹Œì§€ <b id="bondLifetimeDisplay">0ì›</b> ìƒì‚°</span>
                <span class="desc">í˜„ì¬ê°€: <b id="bondCurrentPrice">500ë§Œ</b>ì›</span>
            </div>
            <button id="buyBond" class="btn">êµ¬ì…</button>
          </div>

          <div class="row building-item" id="usStockItem">
            <div class="meta">
                <span class="title">ğŸ‡ºğŸ‡¸ ë¯¸êµ­ì£¼ì‹</span>
                <span class="desc">â€¢ ê° ì£¼ì‹ì´ ì´ˆë‹¹ <b id="incomePerUsStock">6,000ì›</b> ìƒì‚°</span>
                <span class="desc">â€¢ <b id="usStockCount">0</b>ê°œ ì£¼ì‹ì´ ì´ˆë‹¹ <b id="usStockTotalIncome">0ì›</b> ìƒì‚° (ì´ ìˆ˜ìµì˜ <b id="usStockPercent">0%</b>)</span>
                <span class="desc">â€¢ ì§€ê¸ˆê¹Œì§€ <b id="usStockLifetimeDisplay">0ì›</b> ìƒì‚°</span>
                <span class="desc">í˜„ì¬ê°€: <b id="usStockCurrentPrice">2,500ë§Œ</b>ì›</span>
            </div>
            <button id="buyUsStock" class="btn">êµ¬ì…</button>
          </div>

          <div class="row building-item" id="cryptoItem">
            <div class="meta">
                <span class="title">â‚¿ ì½”ì¸</span>
                <span class="desc">â€¢ ê° ì½”ì¸ì´ ì´ˆë‹¹ <b id="incomePerCrypto">25,000ì›</b> ìƒì‚°</span>
                <span class="desc">â€¢ <b id="cryptoCount">0</b>ê°œ ì½”ì¸ì´ ì´ˆë‹¹ <b id="cryptoTotalIncome">0ì›</b> ìƒì‚° (ì´ ìˆ˜ìµì˜ <b id="cryptoPercent">0%</b>)</span>
                <span class="desc">â€¢ ì§€ê¸ˆê¹Œì§€ <b id="cryptoLifetimeDisplay">0ì›</b> ìƒì‚°</span>
                <span class="desc">í˜„ì¬ê°€: <b id="cryptoCurrentPrice">1ì–µ</b>ì›</span>
            </div>
            <button id="buyCrypto" class="btn">êµ¬ì…</button>
          </div>
          </div>
          
          <h3>ë¶€ë™ì‚° <span class="toggle-btn" id="toggleProperties" aria-label="ë¶€ë™ì‚° ì„¹ì…˜ í† ê¸€">â–¼</span></h3>
          <div class="upg-list" id="propertySection">
            <div class="row building-item" id="villaItem">
              <div class="meta">
                <span class="title">ğŸ˜ï¸ ë¹Œë¼</span>
                <span class="desc">â€¢ ê° ë¹Œë¼ê°€ ì´ˆë‹¹ <b id="rentPerVilla">250ì›</b> ìƒì‚°</span>
                <span class="desc">â€¢ <b id="villaCount">0</b>ì±„ ë¹Œë¼ê°€ ì´ˆë‹¹ <b id="villaTotalIncome">0ì›</b> ìƒì‚° (ì´ ìˆ˜ìµì˜ <b id="villaPercent">0%</b>)</span>
                <span class="desc">â€¢ ì§€ê¸ˆê¹Œì§€ <b id="villaLifetimeDisplay">0ì›</b> ìƒì‚°</span>
                <span class="desc">í˜„ì¬ê°€: <b id="villaCurrentPrice">2.5ì–µ</b>ì›</span>
              </div>
              <button id="buyVilla" class="btn">êµ¬ì…</button>
            </div>

            <div class="row building-item" id="officetelItem">
              <div class="meta">
                <span class="title">ğŸ¢ ì˜¤í”¼ìŠ¤í…”</span>
                <span class="desc">â€¢ ê° ì˜¤í”¼ìŠ¤í…”ì´ ì´ˆë‹¹ <b id="rentPerOfficetel">500ì›</b> ìƒì‚°</span>
                <span class="desc">â€¢ <b id="officetelCount">0</b>ì±„ ì˜¤í”¼ìŠ¤í…”ì´ ì´ˆë‹¹ <b id="officetelTotalIncome">0ì›</b> ìƒì‚° (ì´ ìˆ˜ìµì˜ <b id="officetelPercent">0%</b>)</span>
                <span class="desc">â€¢ ì§€ê¸ˆê¹Œì§€ <b id="officetelLifetimeDisplay">0ì›</b> ìƒì‚°</span>
                <span class="desc">í˜„ì¬ê°€: <b id="officetelCurrentPrice">3.5ì–µ</b>ì›</span>
              </div>
              <button id="buyOfficetel" class="btn">êµ¬ì…</button>
            </div>

            <div class="row building-item" id="aptItem">
              <div class="meta">
                <span class="title">ğŸ¬ ì•„íŒŒíŠ¸</span>
                <span class="desc">â€¢ ê° ì•„íŒŒíŠ¸ê°€ ì´ˆë‹¹ <b id="rentPerApt">1,000ì›</b> ìƒì‚°</span>
                <span class="desc">â€¢ <b id="aptCount">0</b>ì±„ ì•„íŒŒíŠ¸ê°€ ì´ˆë‹¹ <b id="aptTotalIncome">0ì›</b> ìƒì‚° (ì´ ìˆ˜ìµì˜ <b id="aptPercent">0%</b>)</span>
                <span class="desc">â€¢ ì§€ê¸ˆê¹Œì§€ <b id="aptLifetimeDisplay">0ì›</b> ìƒì‚°</span>
                <span class="desc">í˜„ì¬ê°€: <b id="aptCurrentPrice">8ì–µ</b>ì›</span>
              </div>
              <button id="buyApt" class="btn">êµ¬ì…</button>
            </div>

            <div class="row building-item" id="shopItem">
              <div class="meta">
                <span class="title">ğŸª ìƒê°€</span>
                <span class="desc">â€¢ ê° ìƒê°€ê°€ ì´ˆë‹¹ <b id="rentPerShop">2,000ì›</b> ìƒì‚°</span>
                <span class="desc">â€¢ <b id="shopCount">0</b>ì±„ ìƒê°€ê°€ ì´ˆë‹¹ <b id="shopTotalIncome">0ì›</b> ìƒì‚° (ì´ ìˆ˜ìµì˜ <b id="shopPercent">0%</b>)</span>
                <span class="desc">â€¢ ì§€ê¸ˆê¹Œì§€ <b id="shopLifetimeDisplay">0ì›</b> ìƒì‚°</span>
                <span class="desc">í˜„ì¬ê°€: <b id="shopCurrentPrice">12ì–µ</b>ì›</span>
              </div>
              <button id="buyShop" class="btn">êµ¬ì…</button>
            </div>

            <div class="row building-item" id="buildingItem">
              <div class="meta">
                <span class="title">ğŸ—ï¸ ë¹Œë”©</span>
                <span class="desc">â€¢ ê° ë¹Œë”©ì´ ì´ˆë‹¹ <b id="rentPerBuilding">5,000ì›</b> ìƒì‚°</span>
                <span class="desc">â€¢ <b id="buildingCount">0</b>ì±„ ë¹Œë”©ì´ ì´ˆë‹¹ <b id="buildingTotalIncome">0ì›</b> ìƒì‚° (ì´ ìˆ˜ìµì˜ <b id="buildingPercent">0%</b>)</span>
                <span class="desc">â€¢ ì§€ê¸ˆê¹Œì§€ <b id="buildingLifetimeDisplay">0ì›</b> ìƒì‚°</span>
                <span class="desc">í˜„ì¬ê°€: <b id="buildingCurrentPrice">30ì–µ</b>ì›</span>
              </div>
              <button id="buyBuilding" class="btn">êµ¬ì…</button>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- í†µê³„ íƒ­ -->
    <div id="statsTab" class="tab-content">
      <section class="card">
        <h2>ğŸ“Š ê²Œì„ í†µê³„</h2>
        
        <!-- 1. í•µì‹¬ ì§€í‘œ -->
        <div class="stats-section">
          <h3>ğŸ’° ì „ì²´ ìˆ˜ìµ</h3>
          <div class="stat-grid">
            <div class="stat-item">
              <span class="stat-label">ì´ ìì‚°</span>
              <span class="stat-value" id="totalAssets">0ì›</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">ì´ ëˆ„ì  ìˆ˜ìµ</span>
              <span class="stat-value" id="totalEarnings">0ì›</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">ì´ˆë‹¹ ìˆ˜ìµ</span>
              <span class="stat-value" id="rpsStats">0ì›/ì´ˆ</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">í´ë¦­ë‹¹ ìˆ˜ìµ</span>
              <span class="stat-value" id="clickIncomeStats">0ì›</span>
            </div>
          </div>
        </div>

        <!-- 2. í”Œë ˆì´ ì •ë³´ -->
        <div class="stats-section">
          <h3>â±ï¸ í”Œë ˆì´ ì •ë³´</h3>
          <div class="stat-grid">
            <div class="stat-item">
              <span class="stat-label">ì´ í´ë¦­ íšŸìˆ˜</span>
              <span class="stat-value" id="totalClicksStats">0íšŒ</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">ë…¸ë™ ìˆ˜ìµ</span>
              <span class="stat-value" id="laborIncomeStats">0ì›</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">í”Œë ˆì´ ì‹œê°„</span>
              <span class="stat-value" id="playTimeStats">0ë¶„</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">ì‹œê°„ë‹¹ ìˆ˜ìµ</span>
              <span class="stat-value" id="hourlyRate">0ì›/ì‹œê°„</span>
            </div>
          </div>
        </div>

        <!-- 3. ìˆ˜ìµ êµ¬ì¡° -->
        <div class="stats-section">
          <h3>ğŸ“ˆ ìˆ˜ìµ êµ¬ì¡°</h3>
          <div class="income-breakdown">
            <div class="income-bar">
              <div class="income-segment labor" id="laborSegment" style="width: 0%">
                <span>ğŸ› ï¸ 0%</span>
              </div>
              <div class="income-segment financial" id="financialSegment" style="width: 0%">
                <span>ğŸ’° 0%</span>
              </div>
              <div class="income-segment property" id="propertySegment" style="width: 0%">
                <span>ğŸ¢ 0%</span>
              </div>
            </div>
            <div class="income-legend">
              <div class="legend-item">
                <span class="legend-color labor"></span>
                <span id="laborLegend">ë…¸ë™: 0%</span>
              </div>
              <div class="legend-item">
                <span class="legend-color financial"></span>
                <span id="financialLegend">ê¸ˆìœµ: 0%</span>
              </div>
              <div class="legend-item">
                <span class="legend-color property"></span>
                <span id="propertyLegend">ë¶€ë™ì‚°: 0%</span>
              </div>
            </div>
          </div>
        </div>

        <!-- 4. ê¸ˆìœµìƒí’ˆ ìƒì„¸ -->
        <div class="stats-section">
          <h3>ğŸ’¼ ê¸ˆìœµìƒí’ˆ</h3>
          <div class="asset-stats">
            <div class="asset-row">
              <span class="asset-icon">ğŸ“ˆ</span>
              <div class="asset-info">
                <div class="asset-name">ì˜ˆê¸ˆ <span id="depositsOwnedStats">0ê°œ</span></div>
                <div class="asset-production">ëˆ„ì  ìˆ˜ìµ: <b id="depositsLifetimeStats">0ì›</b></div>
              </div>
            </div>
            <div class="asset-row">
              <span class="asset-icon">ğŸ“Š</span>
              <div class="asset-info">
                <div class="asset-name">ì ê¸ˆ <span id="savingsOwnedStats">0ê°œ</span></div>
                <div class="asset-production">ëˆ„ì  ìˆ˜ìµ: <b id="savingsLifetimeStats">0ì›</b></div>
              </div>
            </div>
            <div class="asset-row">
              <span class="asset-icon">ğŸ“ˆ</span>
              <div class="asset-info">
                <div class="asset-name">ì£¼ì‹ <span id="bondsOwnedStats">0ê°œ</span></div>
                <div class="asset-production">ëˆ„ì  ìˆ˜ìµ: <b id="bondsLifetimeStats">0ì›</b></div>
              </div>
            </div>
          </div>
        </div>

        <!-- 5. ë¶€ë™ì‚° ìƒì„¸ -->
        <div class="stats-section">
          <h3>ğŸ¢ ë¶€ë™ì‚°</h3>
          <div class="asset-stats">
            <div class="asset-row">
              <span class="asset-icon">ğŸ˜ï¸</span>
              <div class="asset-info">
                <div class="asset-name">ë¹Œë¼ <span id="villasOwnedStats">0ì±„</span></div>
                <div class="asset-production">ëˆ„ì  ìˆ˜ìµ: <b id="villasLifetimeStats">0ì›</b></div>
              </div>
            </div>
            <div class="asset-row">
              <span class="asset-icon">ğŸ¢</span>
              <div class="asset-info">
                <div class="asset-name">ì˜¤í”¼ìŠ¤í…” <span id="officetelsOwnedStats">0ì±„</span></div>
                <div class="asset-production">ëˆ„ì  ìˆ˜ìµ: <b id="officetelsLifetimeStats">0ì›</b></div>
              </div>
            </div>
            <div class="asset-row">
              <span class="asset-icon">ğŸ¡</span>
              <div class="asset-info">
                <div class="asset-name">ì•„íŒŒíŠ¸ <span id="apartmentsOwnedStats">0ì±„</span></div>
                <div class="asset-production">ëˆ„ì  ìˆ˜ìµ: <b id="apartmentsLifetimeStats">0ì›</b></div>
              </div>
            </div>
            <div class="asset-row">
              <span class="asset-icon">ğŸª</span>
              <div class="asset-info">
                <div class="asset-name">ìƒê°€ <span id="shopsOwnedStats">0ì±„</span></div>
                <div class="asset-production">ëˆ„ì  ìˆ˜ìµ: <b id="shopsLifetimeStats">0ì›</b></div>
              </div>
            </div>
            <div class="asset-row">
              <span class="asset-icon">ğŸ¢</span>
              <div class="asset-info">
                <div class="asset-name">ë¹Œë”© <span id="buildingsOwnedStats">0ì±„</span></div>
                <div class="asset-production">ëˆ„ì  ìˆ˜ìµ: <b id="buildingsLifetimeStats">0ì›</b></div>
              </div>
            </div>
          </div>
        </div>

        <!-- 6. íš¨ìœ¨ ë¶„ì„ -->
        <div class="stats-section">
          <h3>âš¡ íš¨ìœ¨ ìˆœìœ„ (ê°œë‹¹ ì´ˆë‹¹ ìˆ˜ìµ)</h3>
          <div class="efficiency-list">
            <div class="efficiency-item best">
              <span class="rank">ğŸ¥‡</span>
              <span id="bestEfficiency">-</span>
            </div>
            <div class="efficiency-item">
              <span class="rank">ğŸ¥ˆ</span>
              <span id="secondEfficiency">-</span>
            </div>
            <div class="efficiency-item">
              <span class="rank">ğŸ¥‰</span>
              <span id="thirdEfficiency">-</span>
            </div>
          </div>
        </div>

        <!-- 7. ì—…ì  ê·¸ë¦¬ë“œ -->
        <div class="stats-section">
          <h3>ğŸ† ì—…ì  (<span id="achievementProgress">0/0</span>)</h3>
          <div class="achievement-grid" id="achievementGrid">
            <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
          </div>
        </div>

      </section>
    </div>
    </div><!-- /.tab-wrapper -->

    <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="bottom-nav">
      <button class="nav-btn active" data-tab="workTab">
        <div>ğŸ› ï¸</div>
        <span>ë…¸ë™</span>
      </button>
      <button class="nav-btn" data-tab="shopTab">
        <div>ğŸª</div>
        <span>ìƒì </span>
      </button>
      <button class="nav-btn" data-tab="statsTab">
        <div>ğŸ“Š</div>
        <span>í†µê³„</span>
      </button>
    </nav>

    <footer>
      <div style="display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:space-between;">
        <div>
          <div style="margin-bottom:4px;">
            <span style="color:var(--muted); font-size:12px;">v3.1.0</span>
            <span style="background:var(--primary); color:white; padding:2px 6px; border-radius:4px; font-size:11px; margin-left:6px;">ìˆœì°¨ í•´ê¸ˆ</span>
          </div>
          <div style="font-size:11px;">
            â“˜ ì˜ˆê¸ˆâ†’ì ê¸ˆâ†’ì£¼ì‹â†’ë¹Œë¼â†’...ë¹Œë”© ìˆœì„œë¡œ ë‹¨ê³„ì  í•´ê¸ˆ!
          </div>
        </div>
        <div style="display:flex; gap:8px; align-items:center;">
          <button class="reset-btn" id="resetBtn" aria-label="ê²Œì„ ì´ˆê¸°í™”" onclick="resetGame()">ğŸ”„ ìƒˆë¡œ ì‹œì‘</button>
          <span class="save-status" id="saveStatus">ì €ì¥ë¨ Â· --:--</span>
        </div>
      </div>
    </footer>
  </div>

  <script>
    /*
    ============================================
    CHANGELOG v3.1.0 - ë¦¬ìŠ¤í¬ ì‹œìŠ¤í…œ & ì´ë²¤íŠ¸ ëŒ€í­ ê°•í™”
    ============================================
    [ìƒˆ ê¸°ëŠ¥]
    â€¢ ğŸ² ë¦¬ìŠ¤í¬ ì‹œìŠ¤í…œ: ê° ìƒí’ˆë³„ ë¦¬ìŠ¤í¬ ë ˆë²¨ê³¼ ë³€ë™ ìˆ˜ìµë¥  êµ¬í˜„
      - ì˜ˆê¸ˆ(5%) â†’ ì½”ì¸(50%)ê¹Œì§€ ë‹¨ê³„ì  ë¦¬ìŠ¤í¬ ì¦ê°€
      - ì‹œê°ì  ë¦¬ìŠ¤í¬ í‘œì‹œê¸° (ìƒ‰ìƒ ì½”ë”©)
    â€¢ âš¡ ì‹œì¥ ì´ë²¤íŠ¸: ìƒí’ˆë³„ ì„¸ë¶„í™”ëœ ì´ë²¤íŠ¸ (32ê°œ â†’ 64ê°œë¡œ í™•ì¥)
      - ê°•ë‚¨ ì•„íŒŒíŠ¸ ëŒ€ë°•, ì½”ì¸ ì‹œì¥ í­ë½ ë“± í˜„ì‹¤ì  ì´ë²¤íŠ¸
      - ê° ìƒí’ˆë³„ ê°œë³„ ìˆ˜ìµ/ì†ì‹¤ íš¨ê³¼
    â€¢ ğŸ“ˆ ì—…ê·¸ë ˆì´ë“œ ì¬ë°¸ëŸ°ì‹±: 48ê°œ ì—…ê·¸ë ˆì´ë“œ ë¹„ìš©/íš¨ê³¼ ìµœì í™”
      - ê²Œì„ ë°¸ëŸ°ì‹± ì „ë¬¸ê°€ ê´€ì ì—ì„œ ì „ì²´ì  ì¡°ì •
      - ë¦¬ìŠ¤í¬ ê°ì†Œ ì—…ê·¸ë ˆì´ë“œ ì¶”ê°€
    â€¢ ğŸ† ì—…ì  í™•ì¥: 16ê°œ â†’ 32ê°œ ì—…ì ìœ¼ë¡œ í™•ì¥
      - ë¦¬ìŠ¤í¬ ê´€ë ¨ ì—…ì , ì‹œì¥ ì´ë²¤íŠ¸ ì—…ì  ì¶”ê°€
    â€¢ ğŸ¨ ì‹œê° íš¨ê³¼: ë–¨ì–´ì§€ëŠ” ì§€í/ìƒí’ˆ ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€
      - ë…¸ë™ í´ë¦­ ì‹œ ì§€í ë–¨ì–´ì§
      - ìƒí’ˆ êµ¬ë§¤ ì‹œ í•´ë‹¹ ìƒí’ˆ ì´ëª¨ì§€ ë–¨ì–´ì§
    
    [ë²„ê·¸ ìˆ˜ì •]
    â€¢ ğŸ”§ ì¤‘ë³µ ì„ ì–¸ ì˜¤ë¥˜ ìˆ˜ì • (marketEventEndTime)
    â€¢ ğŸ”§ ë²„íŠ¼ ìƒíƒœ ì˜¤ë¥˜ ìˆ˜ì • (ë¯¸êµ­ì£¼ì‹, ì½”ì¸ êµ¬ë§¤ ë²„íŠ¼)
    â€¢ ğŸ”§ í•˜ì´ë¼ì´íŠ¸ ì´í™íŠ¸ ì˜¤ë¥˜ ìˆ˜ì • (ì˜ëª»ëœ ìƒí’ˆ í•˜ì´ë¼ì´íŠ¸)
    
    [ê°œì„ ì‚¬í•­]
    â€¢ ğŸ“ README.md ì—…ë°ì´íŠ¸: ìƒˆë¡œìš´ ê¸°ëŠ¥ë“¤ ë°˜ì˜
    â€¢ âš–ï¸ ê²Œì„ ë°¸ëŸ°ì‹±: ì¤‘ë°˜ í—ˆë¦¬ ì´ì–´ì£¼ê¸° (ë¯¸êµ­ì£¼ì‹, ì½”ì¸)
    â€¢ ğŸ”„ ìˆœì°¨ í•´ê¸ˆ: ì˜ˆê¸ˆâ†’ì ê¸ˆâ†’êµ­ë‚´ì£¼ì‹â†’ë¯¸êµ­ì£¼ì‹â†’ì½”ì¸â†’ë¹Œë¼ ìˆœì„œ
    
    CHANGELOG v2.11.0 - PC ë²„ì „ í†µê³„ íƒ­ ì¶”ê°€ ë° ë°˜ì‘í˜• ê°œì„ 
    ============================================
    [ìƒˆ ê¸°ëŠ¥]
    â€¢ ğŸ“Š PC ë²„ì „ì— í†µê³„ íƒ­ ìƒì‹œ í‘œì‹œ (3ì—´ ê·¸ë¦¬ë“œ)
    â€¢ ğŸ–¥ï¸ í™”ë©´ í¬ê¸°ë³„ ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ
      - 1367px ì´ìƒ: 3ì—´ (ë…¸ë™ + ìƒì  + í†µê³„)
      - 769px~1366px: 2ì—´ + í†µê³„ í•˜ë‹¨
      - 768px ì´í•˜: ëª¨ë°”ì¼ íƒ­ ë„¤ë¹„ê²Œì´ì…˜
    â€¢ ğŸ“ í†µê³„ íƒ­ ì»´íŒ©íŠ¸ ìŠ¤íƒ€ì¼ë§ (PC ìµœì í™”)
    â€¢ ğŸ“œ ìë™ ìŠ¤í¬ë¡¤ ì§€ì› (max-height: 85vh)
    
    CHANGELOG v2.10.1 - ì—…ê·¸ë ˆì´ë“œ íš¨ê³¼ ì¤‘ë³µ ì ìš© ë²„ê·¸ ìˆ˜ì •
    ============================================
    [ë²„ê·¸ ìˆ˜ì •]
    â€¢ ğŸ› ìƒˆë¡œê³ ì¹¨ ì‹œ clickMultiplierê°€ ê³„ì† ì¦ê°€í•˜ëŠ” ë²„ê·¸ ìˆ˜ì •
    â€¢ ì—…ê·¸ë ˆì´ë“œ íš¨ê³¼ ì¬ì ìš© ì½”ë“œ ì œê±° (ë°°ìˆ˜ëŠ” ì´ë¯¸ ì €ì¥ëœ ê°’ìœ¼ë¡œ ë³µì›ë¨)
    â€¢ ì´ì œ ìƒˆë¡œê³ ì¹¨í•´ë„ ì‹œê¸‰ì´ ì •ìƒì ìœ¼ë¡œ ìœ ì§€ë©ë‹ˆë‹¤
    
    CHANGELOG v2.10.0 - Cookie Clicker ìŠ¤íƒ€ì¼ í†µê³„ íƒ­
    ============================================
    [ìƒˆ ê¸°ëŠ¥]
    â€¢ ğŸ“Š Cookie Clicker ìŠ¤íƒ€ì¼ì˜ ìƒì„¸ í†µê³„ íƒ­ êµ¬í˜„
    â€¢ ğŸ’° ì´ ìì‚° ë° ëˆ„ì  ìˆ˜ìµ í‘œì‹œ
    â€¢ ğŸ“ˆ ìˆ˜ìµ êµ¬ì¡° ì‹œê°í™” (ë…¸ë™/ê¸ˆìœµ/ë¶€ë™ì‚° ë¹„ìœ¨)
    â€¢ ğŸ“Š ìì‚°ë³„ ëˆ„ì  ìˆ˜ìµ ë° ê°œë‹¹ íš¨ìœ¨ ë¶„ì„
    â€¢ â±ï¸ í”Œë ˆì´ ì‹œê°„ ë° ì‹œê°„ë‹¹ ìˆ˜ìµ ì¶”ì 
    â€¢ ğŸ† ì—…ì  ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ
    â€¢ âš¡ íš¨ìœ¨ ìˆœìœ„ TOP 3 í‘œì‹œ
    
    [ë°ì´í„° ì¶”ì ]
    â€¢ ê²Œì„ ì‹œì‘ ì‹œê°„ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°
    â€¢ ì‹¤ì‹œê°„ í†µê³„ ì—…ë°ì´íŠ¸
    â€¢ ëª¨ë°”ì¼ ìµœì í™” ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ
    
    CHANGELOG v2.9.0 - ìˆœì°¨ í•´ê¸ˆ ì‹œìŠ¤í…œ
    ============================================
    
    ğŸ” ê¸ˆìœµìƒí’ˆê³¼ ë¶€ë™ì‚°ì˜ ë‹¨ê³„ì  í•´ê¸ˆ ì‹œìŠ¤í…œ ë„ì…
    
    A. ìˆœì°¨ í•´ê¸ˆ ì²´ê³„ âœ…
    ì˜ˆê¸ˆ (í•­ìƒ ê°€ëŠ¥)
      â†’ ì ê¸ˆ (ì˜ˆê¸ˆ 1ê°œ í•„ìš”)
        â†’ ì£¼ì‹ (ì ê¸ˆ 1ê°œ í•„ìš”)
          â†’ ë¹Œë¼ (ì£¼ì‹ 1ê°œ í•„ìš”)
            â†’ ì˜¤í”¼ìŠ¤í…” (ë¹Œë¼ 1ê°œ í•„ìš”)
              â†’ ì•„íŒŒíŠ¸ (ì˜¤í”¼ìŠ¤í…” 1ê°œ í•„ìš”)
                â†’ ìƒê°€ (ì•„íŒŒíŠ¸ 1ê°œ í•„ìš”)
                  â†’ ë¹Œë”© (ìƒê°€ 1ê°œ í•„ìš”)
    
    B. ì‹œê°ì  í”¼ë“œë°± âœ…
    - ğŸ”’ ì ê¸´ ìƒí’ˆ: íšŒìƒ‰ ì²˜ë¦¬ + ì ê¸ˆ ì•„ì´ì½˜ í‘œì‹œ
    - íˆ¬ëª…ë„ 30%, í‘ë°± í•„í„° 90%
    - í´ë¦­ ë¶ˆê°€ (pointer-events: none)
    - í˜¸ë²„ íš¨ê³¼ ë¹„í™œì„±í™”
    
    C. í•´ê¸ˆ ë©”ì‹œì§€ ë° ì• ë‹ˆë©”ì´ì…˜ âœ…
    - ìƒí’ˆ êµ¬ë§¤ ì‹œ ë‹¤ìŒ ìƒí’ˆ ìë™ í•´ê¸ˆ ì²´í¬
    - "ğŸ”“ ì ê¸ˆì´ í•´ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤!" ë©”ì‹œì§€
    - ë°œê´‘ ì• ë‹ˆë©”ì´ì…˜ (1ì´ˆê°„ ì´ˆë¡ìƒ‰ ë¹›)
    - ìì—°ìŠ¤ëŸ¬ìš´ í™•ëŒ€/ì¶•ì†Œ íš¨ê³¼
    
    D. ì—ëŸ¬ ë°©ì§€ âœ…
    - ì ê¸´ ìƒí’ˆ í´ë¦­ ì‹œ ì•ˆë‚´ ë©”ì‹œì§€
    - "âŒ ì ê¸ˆì€ ì˜ˆê¸ˆì„ 1ê°œ ì´ìƒ ë³´ìœ í•´ì•¼ í•´ê¸ˆë©ë‹ˆë‹¤."
    - ëª…í™•í•œ í•´ê¸ˆ ì¡°ê±´ ì•ˆë‚´
    
    E. ê²Œì„ í”Œë ˆì´ íš¨ê³¼ âœ…
    - ì´ˆë³´ì ì¹œí™”ì : ë‹¨ê³„ë³„ í•™ìŠµ ìœ ë„
    - ëª…í™•í•œ ì§„í–‰ ê²½ë¡œ: ë¬´ì—‡ì„ ë‹¤ìŒì— í•´ì•¼ í•˜ëŠ”ì§€ ëª…í™•
    - ì„±ì·¨ê° ì¦ê°€: ìƒˆ ìƒí’ˆ í•´ê¸ˆ ì‹œë§ˆë‹¤ ë³´ìƒê°
    - ì „ëµì  ê¹Šì´: íš¨ìœ¨ë³´ë‹¤ í•´ê¸ˆì´ ìš°ì„ 
    
    ============================================
    CHANGELOG v2.8.1 - ë…¸ë™ ë°°ìˆ˜ ë°¸ëŸ°ì‹±
    ============================================
    
    âš–ï¸ ê²Œì„ ë°¸ëŸ°ìŠ¤ ê°œì„ : ë…¸ë™ ìˆ˜ìµ ë„ˆí”„ë¡œ ë¶€ë™ì‚° ê°€ì¹˜ íšŒë³µ
    
    A. ì—…ê·¸ë ˆì´ë“œ ë°°ìˆ˜ ì¡°ì • (ë³´ìˆ˜ì  ë„ˆí”„) âœ…
    ê¸°ì¡´ â†’ ìƒˆë¡œìš´ ë°°ìˆ˜
    - âš¡ íš¨ìœ¨ì ì¸ ì—…ë¬´ ì²˜ë¦¬: Ã—2 â†’ Ã—1.5
    - ğŸ¯ ì§‘ì¤‘ë ¥ ê°•í™”: Ã—2 â†’ Ã—1.5
    - ğŸ’° ì„±ê³¼ê¸‰ (êµ¬ ê³¨ë“  í´ë¦­): í‰ê·  Ã—1.9 â†’ Ã—1.5 (10% í™•ë¥ ë¡œ 6ë°°)
    - ğŸ”¥ ì´ˆê³¼ê·¼ë¬´: Ã—2 â†’ Ã—1.3
    - ğŸ’ ì „ë¬¸ì„± ê°œë°œ: Ã—2 â†’ Ã—1.3
    - ğŸ‘” CEO íŠ¹ê¶Œ: Ã—3 â†’ Ã—2
    
    ìµœì¢… ëˆ„ì  ë°°ìˆ˜: 91.2ë°° â†’ 11.4ë°° (ì•½ 8ë°° ê°ì†Œ)
    
    B. ë„¤ì´ë° ë³€ê²½ âœ…
    - "âœ¨ ê³¨ë“  í´ë¦­" â†’ "ğŸ’° ì„±ê³¼ê¸‰" (ë” í˜„ì‹¤ì ì¸ í‘œí˜„)
    - ë¡œê·¸ ë©”ì‹œì§€: "ê³¨ë“  í´ë¦­! 10ë°° ìˆ˜ìµ!" â†’ "ì„±ê³¼ê¸‰ ì§€ê¸‰! 6ë°° ìˆ˜ìµ!"
    
    C. ê²Œì„ ë°¸ëŸ°ìŠ¤ íš¨ê³¼ âœ…
    CEO í´ë¦­ë‹¹ ìˆ˜ìµ ë¹„êµ:
    - ê¸°ì¡´: 2,280ë§Œì›/í´ë¦­ (ê³¼ë„í•¨)
    - ê°œì„ : 285ë§Œì›/í´ë¦­ (ì ì ˆí•¨)
    
    ë¶€ë™ì‚° ëŒ€ë¹„ ê· í˜•:
    - ë¹Œë”© ì›”ì„¸: 51.4ë§Œì›/ì´ˆ
    - CEO ì˜¤í† í´ë¦­: 285ë§Œì›/ì´ˆ = ë¹Œë”© 5.5ì±„ ìˆ˜ì¤€
    - ê²°ë¡ : ë…¸ë™ + ë¶€ë™ì‚° ëª¨ë‘ ì˜ë¯¸ìˆê²Œ ì‘ë™ âš–ï¸
    
    D. ì‹¤ì „ ì‹œê¸‰í‘œ (CEO + ëª¨ë“  ì—…ê·¸ë ˆì´ë“œ) âœ…
    - ê¸°ë³¸: 25ë§Œì› â†’ 25ë§Œì›
    - +âš¡: 50ë§Œì› â†’ 37.5ë§Œì›
    - +ğŸ¯: 100ë§Œì› â†’ 56.3ë§Œì›
    - +ğŸ’°: 190ë§Œì› â†’ 84.4ë§Œì› (í‰ê· )
    - +ğŸ”¥: 380ë§Œì› â†’ 109.8ë§Œì›
    - +ğŸ’: 760ë§Œì› â†’ 142.7ë§Œì›
    - +ğŸ‘”: 2,280ë§Œì› â†’ 285ë§Œì› (ìµœì¢…)
    
    ============================================
    CHANGELOG v2.8.0 - ë…¸ë™ ì‹œìŠ¤í…œ ì¢…í•© ìµœì í™”
    ============================================
    
    ğŸ¯ ë…¸ë™ ìˆ˜ìµ ì‹œìŠ¤í…œ 4ëŒ€ ìµœì í™” ì™„ë£Œ
    
    A. ìŠ¹ì§„ í•„ìš” í´ë¦­ ìˆ˜ ì¬ì¡°ì • (ë¶€ë“œëŸ¬ìš´ ê³¡ì„ ) âœ…
    ê¸°ì¡´ â†’ ìƒˆë¡œìš´ ê°’ (ë” ë¶€ë“œëŸ¬ìš´ ì„±ì¥ ê³¡ì„ )
    - ê³„ì•½ì§: 20 â†’ 50 í´ë¦­
    - ì‚¬ì›: 40 â†’ 100 í´ë¦­
    - ëŒ€ë¦¬: 120 â†’ 200 í´ë¦­
    - ê³¼ì¥: 240 â†’ 350 í´ë¦­
    - ì°¨ì¥: 400 â†’ 550 í´ë¦­
    - ë¶€ì¥: 600 â†’ 800 í´ë¦­
    - ìƒë¬´: 800 â†’ 1,100 í´ë¦­
    - ì „ë¬´: 1,200 â†’ 1,500 í´ë¦­
    - CEO: 2,000 í´ë¦­ (ìœ ì§€)
    
    B. ì—…ê·¸ë ˆì´ë“œ í•´ê¸ˆ ì¡°ê±´ ì¬ì¡°ì • âœ…
    ë” ë¹ ë¥¸ íƒ€ì´ë°ì— í•´ê¸ˆë˜ì–´ ì´ˆì¤‘ë°˜ ê°•í™”
    - âš¡ íš¨ìœ¨ì ì¸ ì—…ë¬´ ì²˜ë¦¬: 100 â†’ 50 í´ë¦­ (ì‚¬ì› ì§ì „)
    - ğŸ¯ ì§‘ì¤‘ë ¥ ê°•í™”: 500 â†’ 250 í´ë¦­ (ê³¼ì¥ ì§ì „)
    - âœ¨ ê³¨ë“  í´ë¦­: 1,000 â†’ 600 í´ë¦­ (ë¶€ì¥ ì§ì „)
    
    C. ì‹ ê·œ ì—…ê·¸ë ˆì´ë“œ 3ì¢… ì¶”ê°€ âœ…
    í›„ë°˜ ë…¸ë™ ìˆ˜ìµ ê°•í™”ë¥¼ ìœ„í•œ ìƒˆë¡œìš´ ì—…ê·¸ë ˆì´ë“œ
    - ğŸ”¥ ì´ˆê³¼ê·¼ë¬´ (1,200 í´ë¦­): í´ë¦­ë‹¹ ìˆ˜ìµ Ã—2, 5ì²œë§Œì›
    - ğŸ’ ì „ë¬¸ì„± ê°œë°œ (2,000 í´ë¦­): í´ë¦­ë‹¹ ìˆ˜ìµ Ã—2, 2ì–µì›
    - ğŸ‘” CEO íŠ¹ê¶Œ (CEO ë‹¬ì„±): í´ë¦­ë‹¹ ìˆ˜ìµ Ã—3, 10ì–µì›
    
    D. ì˜¤í† í´ë¦­ ì‹œìŠ¤í…œ ì¶”ê°€ âœ…
    ìë™í™”ë¡œ í›„ë°˜ ê²Œì„í”Œë ˆì´ ê°œì„ 
    - ğŸ“± ìë™ ì—…ë¬´ ì²˜ë¦¬ ì‹œìŠ¤í…œ: 1ì´ˆë§ˆë‹¤ ìë™ 1íšŒ í´ë¦­
    - í•´ê¸ˆ ì¡°ê±´: ìƒë¬´(7ë ˆë²¨) ì´ìƒ + ë¶€ë™ì‚° 10ì±„ ë³´ìœ 
    - ë¹„ìš©: 50ì–µì›
    - ê³¨ë“  í´ë¦­ í™•ë¥  ì ìš© (10% í™•ë¥ ë¡œ 10ë°°)
    
    E. ê²Œì„ ë°¸ëŸ°ìŠ¤ íš¨ê³¼ âœ…
    - ì´ˆë°˜: ë” ë¹ ë¥¸ ì—…ê·¸ë ˆì´ë“œë¡œ ì¬ë¯¸ ì¦ê°€
    - ì¤‘ë°˜: ë¶€ë“œëŸ¬ìš´ ìŠ¹ì§„ ê³¡ì„ ìœ¼ë¡œ ì§€ë£¨í•¨ ê°ì†Œ
    - í›„ë°˜: ì‹ ê·œ ì—…ê·¸ë ˆì´ë“œ + ì˜¤í† í´ë¦­ìœ¼ë¡œ ì˜ë¯¸ ìˆëŠ” ë…¸ë™ ìˆ˜ìµ
    - ìµœì¢… ë°°ìˆ˜: 1 Ã— 2 Ã— 2 Ã— 2 Ã— 2 Ã— 2 Ã— 3 = 192ë°° (ê¸°ì¡´ 32ë°° ëŒ€ë¹„ 6ë°° ì¦ê°€)
    - CEO + ëª¨ë“  ì—…ê·¸ë ˆì´ë“œ: 25 Ã— 192 = 4,800ë°° (í´ë¦­ë‹¹ 4,800ë§Œì›!)
    
    ============================================
    CHANGELOG v2.7.1 - ë…¸ë™ ì‹œê¸‰ ë°¸ëŸ°ì‹± (ì—°ë´‰ ê¸°ë°˜)
    ============================================
    
    âš–ï¸ ê²Œì„ ë°¸ëŸ°ìŠ¤ ê°œì„ : í˜„ì‹¤ì ì¸ ê¸‰ì—¬ ì²´ê³„ ì ìš©
    
    A. ì§ê¸‰ë³„ ì‹œê¸‰ ì¡°ì • (ì—°ë´‰ ê¸°ë°˜) âœ…
    - ì•Œë°” (2000ë§Œì›): 1.0ë°° â†’ 1.0ë°° (ìœ ì§€)
    - ê³„ì•½ì§ (3000ë§Œì›): 1.5ë°° â†’ 1.5ë°° (ìœ ì§€)
    - ì‚¬ì› (4000ë§Œì›): 2.5ë°° â†’ 2.0ë°° (-20%)
    - ëŒ€ë¦¬ (5000ë§Œì›): 4.0ë°° â†’ 2.5ë°° (-37.5%)
    - ê³¼ì¥ (6000ë§Œì›): 6.0ë°° â†’ 3.0ë°° (-50%)
    - ì°¨ì¥ (7000ë§Œì›): 8.0ë°° â†’ 3.5ë°° (-56%)
    - ë¶€ì¥ (8000ë§Œì›): 12.0ë°° â†’ 4.0ë°° (-67%)
    - ìƒë¬´ (1ì–µì›): 18.0ë°° â†’ 5.0ë°° (-72%)
    - ì „ë¬´ (2ì–µì›): 30.0ë°° â†’ 10.0ë°° (-67%)
    - CEO (5ì–µì›): 50.0ë°° â†’ 25.0ë°° (-50%)
    
    B. ê²Œì„ ë°¸ëŸ°ìŠ¤ ê°œì„  íš¨ê³¼ âœ…
    - ì´ˆì¤‘ë°˜ ê¸ˆìœµìƒí’ˆì˜ ì˜ë¯¸ ê°•í™”
    - ë¶€ë™ì‚° íˆ¬ì í•„ìš”ì„± ì¦ê°€
    - ë…¸ë™ vs ìì‚° ìˆ˜ìµ ê· í˜• ë‹¬ì„±
    - í›„ë°˜ì—ë„ ì—¬ì „íˆ í­ë°œì  ì„±ì¥ (ì „ë¬´ 10ë°°, CEO 25ë°°)
    
    C. í˜„ì‹¤ì„± ê°œì„  âœ…
    - ì‹¤ì œ ì—°ë´‰ ì²´ê³„ì™€ ì¼ì¹˜
    - ì—°ê°„ 2,000ì‹œê°„ ê·¼ë¬´ ê¸°ì¤€
    - ì§ê¸‰ë³„ í•©ë¦¬ì ì¸ ê¸‰ì—¬ ìƒìŠ¹ ê³¡ì„ 
    
    D. ê²Œì„í”Œë ˆì´ ì˜í–¥ âœ…
    - ì´ˆë°˜(ì•Œë°”~ê³„ì•½ì§): ë³€í™” ì—†ìŒ, ì§„ì… ì¥ë²½ ìœ ì§€
    - ì¤‘ë°˜(ì‚¬ì›~ë¶€ì¥): ë…¸ë™ ìˆ˜ìµ ê°ì†Œ, íˆ¬ì í•„ìˆ˜í™”
    - í›„ë°˜(ìƒë¬´~CEO): ì—¬ì „íˆ ê°•ë ¥í•˜ì§€ë§Œ ë¶€ë™ì‚°ê³¼ ê· í˜•
    
    ============================================
    CHANGELOG v2.7.0 - Cookie Clicker ìŠ¤íƒ€ì¼ 3ì¤„ ì„¤ëª… ì‹œìŠ¤í…œ
    ============================================
    
    ğŸ® Cookie Clicker ë²¤ì¹˜ë§ˆí‚¹: ìƒí’ˆ ì„¤ëª… êµ¬ì¡° ê°œì„ 
    
    A. 3ì¤„ ì„¤ëª… ì‹œìŠ¤í…œ ë„ì… âœ…
    ê° ê¸ˆìœµìƒí’ˆ/ë¶€ë™ì‚°ë§ˆë‹¤ ë‹¤ìŒ ì •ë³´ë¥¼ í‘œì‹œ:
    - 1ì¤„: ê°œë³„ ìˆ˜ìµ (ì˜ˆ: "â€¢ ê° ì˜ˆê¸ˆì´ ì´ˆë‹¹ 10ì› ìƒì‚°")
    - 2ì¤„: ì´ ê¸°ì—¬ë„ (ì˜ˆ: "â€¢ 5ê°œ ì˜ˆê¸ˆì´ ì´ˆë‹¹ 50ì› ìƒì‚° (ì´ ìˆ˜ìµì˜ 5%)")
    - 3ì¤„: ëˆ„ì  ìƒì‚°ëŸ‰ (ì˜ˆ: "â€¢ ì§€ê¸ˆê¹Œì§€ 125,000ì› ìƒì‚°")
    
    B. ëˆ„ì  ìƒì‚°ëŸ‰ ì¶”ì  ì‹œìŠ¤í…œ âœ…
    - ê¸ˆìœµìƒí’ˆ: depositsLifetime, savingsLifetime, bondsLifetime
    - ë¶€ë™ì‚°: villasLifetime, officetelsLifetime, apartmentsLifetime, shopsLifetime, buildingsLifetime
    - ë§¤ í‹±(50ms)ë§ˆë‹¤ ê°œë³„ ìƒí’ˆì˜ ìƒì‚°ëŸ‰ ëˆ„ì 
    - ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°ì— í¬í•¨
    
    C. ì‹¤ì‹œê°„ í†µê³„ ê³„ì‚° âœ…
    - ê° ìƒí’ˆì˜ ì´ ìˆ˜ìµ = ê°œë‹¹ ìˆ˜ìµ Ã— ë³´ìœ  ê°œìˆ˜
    - ì „ì²´ RPS ëŒ€ë¹„ ë¹„ìœ¨ ê³„ì‚°
    - ìˆ«ì ì„œì‹: ì²œë‹¨ìœ„ ì½¤ë§ˆ, ì›ë‹¨ìœ„ í‘œì‹œ
    
    D. UI/UX ê°œì„  âœ…
    - í”Œë ˆì´ì–´ê°€ ê° ìƒí’ˆì˜ íš¨ìœ¨ì„±ì„ í•œëˆˆì— íŒŒì•…
    - ì–´ëŠ ìƒí’ˆì´ ê°€ì¥ ë§ì´ ë²Œê³  ìˆëŠ”ì§€ ì§ê´€ì ìœ¼ë¡œ í™•ì¸
    - ëˆ„ì  ìƒì‚°ëŸ‰ìœ¼ë¡œ ì„±ì·¨ê° ì œê³µ
    - Cookie Clickerì˜ ì •ë³´ ì „ë‹¬ ë°©ì‹ ì™„ë²½ êµ¬í˜„
    
    E. ê¸°ìˆ  êµ¬í˜„ âœ…
    - HTML: 8ê°œ ìƒí’ˆ Ã— 3ê°œ ì •ë³´ = 24ê°œ ìƒˆ ìš”ì†Œ ì¶”ê°€
    - JavaScript: updateUI()ì—ì„œ ì‹¤ì‹œê°„ ê³„ì‚° ë° ì—…ë°ì´íŠ¸
    - ê²Œì„ ë£¨í”„: deltaTime ê¸°ë°˜ ëˆ„ì  ìƒì‚°ëŸ‰ ê³„ì‚°
    - ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°: ëª¨ë“  lifetime ë³€ìˆ˜ í¬í•¨
    
    ============================================
    CHANGELOG v2.6.2 - UI ë””ìì¸ í†µì¼
    ============================================
    
    ğŸ¨ ì „ì²´ UI ì¼ê´€ì„± ê°œì„ 
    
    A. ê¸ˆìœµìƒí’ˆ/ë¶€ë™ì‚° ì¹´ë“œ ìŠ¤íƒ€ì¼ ì—…ê·¸ë ˆì´ë“œì™€ í†µì¼ âœ…
    - ë°°ê²½ìƒ‰: var(--btn2) â†’ var(--btn)
    - í…Œë‘ë¦¬: 1px â†’ 2px solid transparent
    - border-radius: 12px â†’ 8px
    - í˜¸ë²„ íš¨ê³¼: ë°°ê²½ ë³€ê²½ + í…Œë‘ë¦¬ í•˜ëŠ˜ìƒ‰ + ìœ„ë¡œ ì´ë™
    - ê°„ê²©: 10px â†’ 8px (ì¼ê´€ì„±)
    
    B. êµ¬ë§¤ ê°€ëŠ¥ ìƒíƒœ ì‹œê° íš¨ê³¼ ê°œì„  âœ…
    - affordable: ì´ˆë¡ í…Œë‘ë¦¬ + ë°œê´‘ ì• ë‹ˆë©”ì´ì…˜ (ì—…ê·¸ë ˆì´ë“œì™€ ë™ì¼)
    - ê¸°ì¡´: border-leftë§Œ â†’ ê°œì„ : ì „ì²´ í…Œë‘ë¦¬ + ê·¸ë¦¼ì
    - upgradeGlow ì• ë‹ˆë©”ì´ì…˜ ê³µìœ 
    
    C. ë²„íŠ¼ ë””ìì¸ í˜„ëŒ€í™” âœ…
    - ë°°ê²½: var(--btn) â†’ var(--accent) (ë¯¼íŠ¸ìƒ‰)
    - í…ìŠ¤íŠ¸: var(--text) â†’ var(--bg) (ê²€ì •, ëŒ€ë¹„ ê°•í™”)
    - í¬ê¸°: padding 16px 22px â†’ 8px 16px (ì»´íŒ©íŠ¸)
    - í°íŠ¸: ê¸°ë³¸ â†’ 12px (ì¼ê´€ì„±)
    - í˜¸ë²„: ë°ê¸° ì¦ê°€ + í¬ê¸° í™•ëŒ€
    - ë¹„í™œì„±: íšŒìƒ‰ ë°°ê²½
    
    D. ë©”íƒ€ ì •ë³´ ë ˆì´ì•„ì›ƒ ê°œì„  âœ…
    - flex:1 ì¶”ê°€ë¡œ ê³µê°„ ìµœì  í™œìš©
    - desc ë§ˆì§„: 4px ì¶”ê°€ (ê°€ë…ì„±)
    - pointer-events:noneìœ¼ë¡œ í´ë¦­ ê°„ì„­ ë°©ì§€
    
    E. ì „ì²´ì ì¸ í†µì¼ê° âœ…
    - ì—…ê·¸ë ˆì´ë“œ / ê¸ˆìœµìƒí’ˆ / ë¶€ë™ì‚° ëª¨ë‘ ë™ì¼í•œ ë””ìì¸ ì–¸ì–´
    - í˜¸ë²„ ì‹œ ì¼ê´€ëœ ë°˜ì‘
    - êµ¬ë§¤ ê°€ëŠ¥ ì‹œ ë™ì¼í•œ ì‹œê°ì  í”¼ë“œë°±
    
    ============================================
    CHANGELOG v2.6.1 - ì—…ê·¸ë ˆì´ë“œ í´ë¦­ ë¬¸ì œ í•´ê²°
    ============================================
    
    ğŸ› í•µì‹¬ ë²„ê·¸ ìˆ˜ì •: ì—…ê·¸ë ˆì´ë“œ í´ë¦­ ë¶ˆê°€ ë¬¸ì œ
    
    A. ë¬¸ì œ ì§„ë‹¨ âœ…
    - updateUI()ê°€ 50msë§ˆë‹¤ í˜¸ì¶œë˜ë©´ì„œ updateUpgradeList()ë„ í•¨ê»˜ í˜¸ì¶œ
    - DOMì´ ì´ˆë‹¹ 20ë²ˆ ì¬ìƒì„±ë˜ì–´ í´ë¦­ ë„ì¤‘ ìš”ì†Œê°€ ì‚¬ë¼ì§
    - í…Œë‘ë¦¬ ê¹œë¹¡ì„ í˜„ìƒ (ì—…ê·¸ë ˆì´ë“œ ë¦¬ìŠ¤íŠ¸ ì¬ìƒì„± ì‹ í˜¸)
    - F12 ê°œë°œì ë„êµ¬ ì—´ë©´ ì„±ëŠ¥ ì €í•˜ë¡œ í´ë¦­ ê°€ëŠ¥ (ì¦ìƒ í™•ì¸)
    
    B. í•´ê²° ë°©ë²• âœ…
    - updateUpgradeList() â†’ í•´ê¸ˆ/êµ¬ë§¤ ì‹œì—ë§Œ í˜¸ì¶œ (DOM ì¬ìƒì„±)
    - updateUpgradeAffordability() â†’ ë§¤ í‹±ë§ˆë‹¤ í˜¸ì¶œ (í´ë˜ìŠ¤ë§Œ í† ê¸€)
    - pointer-events: noneì„ ìì‹ ìš”ì†Œì— ì ìš©
    
    C. ì„±ëŠ¥ ê°œì„  âœ…
    - DOM ì¬ìƒì„±: ì´ˆë‹¹ 20íšŒ â†’ í•„ìš”ì‹œì—ë§Œ
    - ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸: 0íšŒ â†’ ì´ˆë‹¹ 20íšŒ (ê°€ë²¼ì›€)
    - CPU ì‚¬ìš©ëŸ‰: ê°ì†Œ
    - ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: ê°ì†Œ
    
    D. ì‚¬ìš©ì ê²½í—˜ ê°œì„  âœ…
    - âœ… í…Œë‘ë¦¬ ê¹œë¹¡ì„ ì™„ì „ ì œê±°
    - âœ… í´ë¦­ 100% ì‘ë™ ë³´ì¥
    - âœ… F12 ì—†ì´ë„ ì •ìƒ êµ¬ë§¤ ê°€ëŠ¥
    - âœ… ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
    
    ============================================
    CHANGELOG v2.6 - Cookie Clicker ìŠ¤íƒ€ì¼ ì—…ê·¸ë ˆì´ë“œ ì‹œìŠ¤í…œ
    ============================================
    
    ğŸ¯ í•µì‹¬ ê°œí¸: "ê±´ë¬¼ë³„ ì—…ê·¸ë ˆì´ë“œ í•´ê¸ˆ ì‹œìŠ¤í…œ"
    
    A. ì—…ê·¸ë ˆì´ë“œ ì‹œìŠ¤í…œ ì „ë©´ ê°œí¸ âœ…
    - ê¸°ì¡´ 3x3 ê·¸ë¦¬ë“œ â†’ Cookie Clicker ìŠ¤íƒ€ì¼ ë¦¬ìŠ¤íŠ¸
    - í•˜ë‹¨ ì—…ê·¸ë ˆì´ë“œ ì„¹ì…˜ í†µí•© (ì›”ì„¸ ìˆ˜ìµë¥ , ê´€ë¦¬ì¸ ê³ ìš©)
    - ë™ì  í•´ê¸ˆ ì‹œìŠ¤í…œ: ì¡°ê±´ ì¶©ì¡± ì‹œ ìë™ í‘œì‹œ
    
    B. ê±´ë¬¼ë³„ ì—…ê·¸ë ˆì´ë“œ ì¶”ê°€ âœ…
    - ë…¸ë™: ì´ í´ë¦­ ìˆ˜ ê¸°ë°˜ (3ê°œ)
    - ì˜ˆê¸ˆ: 5/25ê°œ ë³´ìœ  ì‹œ (2ê°œ)
    - ì ê¸ˆ: 5/25ê°œ ë³´ìœ  ì‹œ (2ê°œ)
    - ì£¼ì‹: 5/25ê°œ ë³´ìœ  ì‹œ (2ê°œ)
    - ë¹Œë¼: 5/25ê°œ ë³´ìœ  ì‹œ (2ê°œ)
    - ì˜¤í”¼ìŠ¤í…”: 5/25ê°œ ë³´ìœ  ì‹œ (2ê°œ)
    - ì•„íŒŒíŠ¸: 5/25ê°œ ë³´ìœ  ì‹œ (2ê°œ)
    - ìƒê°€: 5/25ê°œ ë³´ìœ  ì‹œ (2ê°œ)
    - ë¹Œë”©: 5/25ê°œ ë³´ìœ  ì‹œ (2ê°œ)
    - ì „ì—­: ì´ ë¶€ë™ì‚°/ê¸ˆìœµ ê°œìˆ˜ ê¸°ë°˜ (3ê°œ)
    
    C. UI/UX ê°œì„  âœ…
    - êµ¬ë§¤ ê°€ëŠ¥í•œ ì—…ê·¸ë ˆì´ë“œ ì‹œê°ì  ê°•ì¡° (ë°œê´‘ íš¨ê³¼)
    - NEW! ë°°ì§€ ì¶”ê°€
    - ì—…ê·¸ë ˆì´ë“œ ê°œìˆ˜ í‘œì‹œ "(3)"
    - ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ë¦¬ìŠ¤íŠ¸ (max-height: 400px)
    
    D. ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸° í†µí•© âœ…
    - ì—…ê·¸ë ˆì´ë“œ í•´ê¸ˆ/êµ¬ë§¤ ìƒíƒœ ì €ì¥
    - ë¡œë“œ ì‹œ êµ¬ë§¤í•œ ì—…ê·¸ë ˆì´ë“œ íš¨ê³¼ ì¬ì ìš©
    
    ============================================
    CHANGELOG v2.5 - ìë³¸ì£¼ì˜ ë©”ì‹œì§€ êµ¬í˜„
    ============================================
    
    ğŸ¯ í•µì‹¬ ì² í•™: "ë” í° ìë³¸ì„ ì†Œìœ í• ìˆ˜ë¡ ë” ë†’ì€ ìˆ˜ìµë¥ "
    
    A. ìˆ˜ìµë¥  ì¬ì„¤ê³„ (ì¼ê´€ëœ ìƒìŠ¹ ê³¡ì„ ) âœ…
    - ì˜ˆê¸ˆ(0.010%) < ì ê¸ˆ(0.015%) < ì£¼ì‹(0.0225%)
    - ë¹Œë¼(0.00338%) < ì˜¤í”¼ìŠ¤í…”(0.00506%) < ì•„íŒŒíŠ¸(0.00759%)
    - ìƒê°€(0.01142%) < ë¹Œë”©(0.01713%) 
    - ê° ë‹¨ê³„ 1.5ë°° ì²´ì¦ êµ¬ì¡°, ì´ 171ë°° íš¨ìœ¨ ì°¨ì´
    
    B. ê¸ˆìœµìƒí’ˆ ìˆ˜ìµ í•˜í–¥ ì¡°ì • âœ…
    - ì˜ˆê¸ˆ: 10ì›/ì´ˆ â†’ 5ì›/ì´ˆ (-50%)
    - ì ê¸ˆ: 120ì›/ì´ˆ â†’ 75ì›/ì´ˆ (-37.5%)
    - ì£¼ì‹: 1,400ì›/ì´ˆ â†’ 1,125ì›/ì´ˆ (-19.6%)
    
    C. ë¶€ë™ì‚° ìˆ˜ìµ ëŒ€í­ ìƒí–¥ âœ…
    - ë¹Œë¼: 250ì›/ì´ˆ â†’ 8,438ì›/ì´ˆ (+3,275%)
    - ì˜¤í”¼ìŠ¤í…”: 500ì›/ì´ˆ â†’ 17,719ì›/ì´ˆ (+3,444%)
    - ì•„íŒŒíŠ¸: 1,000ì›/ì´ˆ â†’ 60,750ì›/ì´ˆ (+5,975%)
    - ìƒê°€: 2,000ì›/ì´ˆ â†’ 137,000ì›/ì´ˆ (+6,750%)
    - ë¹Œë”©: 5,000ì›/ì´ˆ â†’ 514,000ì›/ì´ˆ (+10,180%)
    
    D. ì›ë£¸ ì™„ì „ ì‚­ì œ âœ…
    - ë¶€ë™ì‚° 6ì¢… â†’ 5ì¢…ìœ¼ë¡œ ë‹¨ìˆœí™”
    - HTML, JS, DOM, ì´ë²¤íŠ¸, saveGame ë“± ì „ì²´ ì œê±°
    
    E. ìˆ«ì ì„œì‹ ê°œì„  âœ…
    - â‚© ê¸°í˜¸ ì œê±°: "êµ¬ì… (â‚©1.5ì–µ)" â†’ "êµ¬ì… (1.5ì–µ)"
    - ì²œë‹¨ìœ„ ì½¤ë§ˆ ì¶”ê°€: formatFinancialPrice(), formatPropertyPrice()
    - ê¸ˆìœµìƒí’ˆ: ë§Œì› ë‹¨ìœ„ ë°˜ì˜¬ë¦¼
    - ë¶€ë™ì‚°: 0.1ì–µ ë‹¨ìœ„ ë°˜ì˜¬ë¦¼
    
    F. ìƒë‹¨ íŒ¨ë„ íˆ´íŒ ì¶”ê°€ âœ…
    - ê¸ˆìœµ íˆ´íŒ: ì˜ˆê¸ˆ/ì ê¸ˆ/ì£¼ì‹ ê°œìˆ˜ í‘œì‹œ
    - ë¶€ë™ì‚° íˆ´íŒ: ë¹Œë¼/ì˜¤í”¼ìŠ¤í…”/ì•„íŒŒíŠ¸/ìƒê°€/ë¹Œë”© ê°œìˆ˜
    - ìˆ˜ìµ íˆ´íŒ: ê¸ˆìœµ/ë¶€ë™ì‚° ìˆ˜ìµ, ì‹œì¥ë°°ìˆ˜ ìƒì„¸
    
    G. ì§ê¸‰ ë©”ì‹œì§€ ì •í•©ì„± âœ…
    - ìŠ¹ì§„ ë¡œê·¸: "ğŸ‰ ì‹ ì…ì‚¬ì›ìœ¼ë¡œ ìŠ¹ì§„í–ˆìŠµë‹ˆë‹¤! (í´ë¦­ë‹¹ 1.2ë°° ìˆ˜ìµ)"
    
    ============================================
    v2.4 - íŒë§¤ ì‹œìŠ¤í…œ ì „ë©´ ê°œí¸
    ============================================
    
    ğŸ¯ íŒë§¤ ì‹œìŠ¤í…œ í†µí•© ë° ìµœì í™”
    
    A. ë¶ˆí•„ìš”í•œ íŒë§¤ ë²„íŠ¼ ì œê±° âœ…
    - ê¸ˆìœµìƒí’ˆë³„ ê°œë³„ íŒë§¤ ë²„íŠ¼ 3ê°œ ì œê±° (HTML/JS)
    
    B. êµ¬ë§¤/íŒë§¤ ëª¨ë“œ í† ê¸€ ì‹œìŠ¤í…œ í†µí•© âœ…
    - ëª¨ë“  ê¸ˆìœµìƒí’ˆê³¼ ë¶€ë™ì‚°ì— êµ¬ë§¤/íŒë§¤ ëª¨ë“œ ì ìš©
    - ë‹¨ì¼ ë²„íŠ¼ìœ¼ë¡œ êµ¬ë§¤/íŒë§¤ ì „í™˜ (ìƒë‹¨ í† ê¸€ë¡œ ì œì–´)
    
    C. í†µí•© ê±°ë˜ í•¨ìˆ˜ êµ¬í˜„ âœ…
    - handleTransaction(category, type, currentCount)
    - êµ¬ë§¤/íŒë§¤ ë¡œì§ í†µí•©, ì„±ê³µ/ì‹¤íŒ¨ ìƒíƒœ ë°˜í™˜
    
    D. íŒë§¤ ê°€ê²© ê³„ì‚° ì‹œìŠ¤í…œ ì™„ì„± âœ…
    - getFinancialSellPrice(), getPropertySellPrice()
    - íŒë§¤ ê°€ê²©: í˜„ì¬ê°€ì˜ 80% (ì¼ê´€ëœ ì •ì±…)
    - ë‹¤ì¤‘ ìˆ˜ëŸ‰ íŒë§¤ ì§€ì› (1/10/100ê°œ)
    
    E. ê°€ê²© ê³„ì‚° í•¨ìˆ˜ ê°œì„  âœ…
    - ë‹¤ì¤‘ êµ¬ë§¤/íŒë§¤ ì§€ì› (quantity íŒŒë¼ë¯¸í„°)
    - ëˆ„ì  ê°€ê²© ì •í™•í•˜ê²Œ ê³„ì‚°
    
    F. ë²„íŠ¼ UI ë™ì  ì—…ë°ì´íŠ¸ âœ…
    - updateButton() í•¨ìˆ˜ë¡œ í…ìŠ¤íŠ¸/ìƒíƒœ ìë™ ì—…ë°ì´íŠ¸
    - "êµ¬ì… x10 (â‚©1.5ë§Œ)" / "íŒë§¤ x10 (â‚©1.2ë§Œ)"
    
    G. ëª¨ë“  ê±°ë˜ ì´ë²¤íŠ¸ ë¦¬íŒ©í† ë§ âœ…
    - ì´ 58ì¤„ â†’ 36ì¤„ (38% ê°ì†Œ)
    
    H. ì„±ëŠ¥ ìµœì í™” âœ…
    - setInterval: 250ms â†’ 50ms (5ë°° ë¹ ë¦„)
    - Ctrl+R ì¶©ëŒ í•´ê²° â†’ Ctrl+Shift+R
    
    I. ì‚¬ìš©ì í”¼ë“œë°± ê°œì„  âœ…
    - ìê¸ˆ/ìˆ˜ëŸ‰ ë¶€ì¡± ì‹œ ëª…í™•í•œ ë©”ì‹œì§€
    - ì„±ê³µ ë©”ì‹œì§€ì— ì´ëª¨ì§€ + ê°€ê²© + ë³´ìœ ìˆ˜ëŸ‰
    
    ============================================
    v2.3 - ì •ë°€ ê²€ì‚¬ ë° ìˆ˜ì • ì™„ë£Œ
    ============================================
    - DOM/ID/ì°¸ì¡° ë¶ˆì¼ì¹˜ ìˆ˜ì •
    - ì»¤ë¦¬ì–´ ì§„í–‰ë¥  0% ê³ ì • ë¬¸ì œ í•´ê²°
    - CSS ë³€ìˆ˜/í…Œë§ˆ ëˆ„ë½ ìˆ˜ì •
    - ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°/ë¦¬ì…‹ ì¼ê´€í™”
    ============================================
    */
    
    // ======= ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ =======
    function safeText(element, text) {
      if (element && element.textContent !== undefined) {
        element.textContent = text;
      }
    }
    
    function safeHTML(element, html) {
      if (element && element.innerHTML !== undefined) {
        element.innerHTML = html;
      }
    }
    
    function safeClass(element, className, add = true) {
      if (element && element.classList) {
        if (add) {
          element.classList.add(className);
        } else {
          element.classList.remove(className);
        }
      }
    }
    
    // êµ¬ë§¤/íŒë§¤ í†µí•© í•¨ìˆ˜
    function handleTransaction(category, type, currentCount) {
      const qty = purchaseQuantity;
      
      if (purchaseMode === 'buy') {
        // êµ¬ë§¤ ë¡œì§
        const cost = category === 'financial' 
          ? getFinancialCost(type, currentCount) * qty
          : getPropertyCost(type, currentCount, qty);
        
        if (cash < cost) {
          addLog(`ğŸ’¸ ìê¸ˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤. (í•„ìš”: ${formatKoreanNumber(cost)}ì›)`);
          return { success: false, newCount: currentCount };
        }
        
        cash -= cost;
        const newCount = currentCount + qty;
        const unit = category === 'financial' ? 'ê°œ' : 'ì±„';
        const names = {
          deposit: 'ì˜ˆê¸ˆ', savings: 'ì ê¸ˆ', bond: 'ì£¼ì‹',
          villa: 'ë¹Œë¼', officetel: 'ì˜¤í”¼ìŠ¤í…”',
          apartment: 'ì•„íŒŒíŠ¸', shop: 'ìƒê°€', building: 'ë¹Œë”©'
        };
        
        addLog(`âœ… ${names[type]} ${qty}${unit}ë¥¼ êµ¬ì…í–ˆìŠµë‹ˆë‹¤. (ë³´ìœ  ${newCount}${unit})`);
        
        // êµ¬ë§¤ ì„±ê³µ ì‹œ ë–¨ì–´ì§€ëŠ” ì• ë‹ˆë©”ì´ì…˜
        const buildingIcons = {
          deposit: 'ğŸ’°', savings: 'ğŸ¦', bond: 'ğŸ“ˆ',
          villa: 'ğŸ ', officetel: 'ğŸ¢',
          apartment: 'ğŸ˜ï¸', shop: 'ğŸª', building: 'ğŸ¬'
        };
        createFallingBuilding(buildingIcons[type] || 'ğŸ ', qty);
        
        return { success: true, newCount };
        
      } else if (purchaseMode === 'sell') {
        // íŒë§¤ ë¡œì§
        if (currentCount < qty) {
          addLog(`âŒ íŒë§¤í•  ìˆ˜ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. (ë³´ìœ : ${currentCount})`);
          return { success: false, newCount: currentCount };
        }
        
        const sellPrice = category === 'financial'
          ? getFinancialSellPrice(type, currentCount) * qty
          : getPropertySellPrice(type, currentCount, qty);
        
        cash += sellPrice;
        const newCount = currentCount - qty;
        const unit = category === 'financial' ? 'ê°œ' : 'ì±„';
        const names = {
          deposit: 'ì˜ˆê¸ˆ', savings: 'ì ê¸ˆ', bond: 'ì£¼ì‹',
          villa: 'ë¹Œë¼', officetel: 'ì˜¤í”¼ìŠ¤í…”',
          apartment: 'ì•„íŒŒíŠ¸', shop: 'ìƒê°€', building: 'ë¹Œë”©'
        };
        
        addLog(`ğŸ’° ${names[type]} ${qty}${unit}ë¥¼ íŒë§¤í–ˆìŠµë‹ˆë‹¤. (+${formatKoreanNumber(sellPrice)}ì›, ë³´ìœ  ${newCount}${unit})`);
        return { success: true, newCount };
      }
      
      return { success: false, newCount: currentCount };
    }
    
    // ======= ìƒíƒœ =======
    const fmt = new Intl.NumberFormat('ko-KR');
    
    // í•œêµ­ì‹ ìˆ«ì í‘œê¸° í•¨ìˆ˜ (ì¼ë°˜ìš©)
    function formatKoreanNumber(num) {
      if (num >= 1000000000000) {
        return (num / 1000000000000).toFixed(1) + 'ì¡°';
      } else if (num >= 100000000) {
        return (num / 100000000).toFixed(1) + 'ì–µ';
      } else if (num >= 10000) {
        return (num / 10000).toFixed(1) + 'ë§Œ';
      } else if (num >= 1000) {
        return (num / 1000).toFixed(1) + 'ì²œ';
      } else {
        return Math.floor(num).toString();
      }
    }
    
    // ê¸ˆìœµìƒí’ˆìš© í¬ë§· (ë§Œì› ë‹¨ìœ„ê¹Œì§€ ë°˜ì˜¬ë¦¼, ì²œë‹¨ìœ„ ì½¤ë§ˆ)
    function formatFinancialPrice(num) {
      if (num >= 100000000) {
        // 1ì–µ ì´ìƒ: ì–µ ë‹¨ìœ„ë¡œ í‘œì‹œ
        const eok = Math.round(num / 100000000);
        return eok.toLocaleString('ko-KR') + 'ì–µ';
      } else if (num >= 10000) {
        // 1ë§Œ ì´ìƒ: ë§Œì› ë‹¨ìœ„ë¡œ ë°˜ì˜¬ë¦¼
        const man = Math.round(num / 10000);
        return man.toLocaleString('ko-KR') + 'ë§Œ';
      } else if (num >= 1000) {
        // 1ì²œ ì´ìƒ: ì²œì› ë‹¨ìœ„
        const cheon = Math.round(num / 1000);
        return cheon.toLocaleString('ko-KR') + 'ì²œ';
      } else {
        return Math.floor(num).toLocaleString('ko-KR');
      }
    }
    
    // ë¶€ë™ì‚°ìš© í¬ë§· (0.1ì–µ ë‹¨ìœ„ê¹Œì§€ ë°˜ì˜¬ë¦¼, ì²œë‹¨ìœ„ ì½¤ë§ˆ)
    function formatPropertyPrice(num) {
      if (num >= 100000000) {
        // 1ì–µ ì´ìƒ: 0.1ì–µ ë‹¨ìœ„ë¡œ ë°˜ì˜¬ë¦¼
        const eok = Math.round(num / 10000000) / 10;
        return eok.toLocaleString('ko-KR') + 'ì–µ';
      } else if (num >= 10000) {
        // 1ë§Œ ì´ìƒ: ë§Œì› ë‹¨ìœ„ë¡œ ë°˜ì˜¬ë¦¼
        const man = Math.round(num / 10000);
        return man.toLocaleString('ko-KR') + 'ë§Œ';
      } else {
        return Math.floor(num).toLocaleString('ko-KR');
      }
    }
    
    // í˜„ê¸ˆ í‘œì‹œìš© í•¨ìˆ˜ (ì›ë‹¨ìœ„ê¹Œì§€ ëª¨ë‘ í‘œê¸°)
    function formatCashDisplay(num) {
      return Math.floor(num).toLocaleString('ko-KR') + 'ì›';
    }
    
    // ë‹¨ê³„ë³„ ê°€ê²© ì¦ê°€ìœ¨ ì‹œìŠ¤í…œ (Cookie Clicker ìŠ¤íƒ€ì¼)
    function getPriceMultiplier(count) {
      if (count < 5) return 1.10;      // ì´ˆê¸°: 10% (ë¹ ë¥¸ ì„±ì·¨ê°)
      else if (count < 15) return 1.15; // ì¤‘ê¸°: 15% (í˜„ì¬ì™€ ë™ì¼)
      else if (count < 30) return 1.20; // í›„ê¸°: 20% (ë„ì „ì )
      else return 1.25;                 // ìµœì¢…: 25% (í¬ì†Œì„±)
    }
    
    // ê¸ˆìœµìƒí’ˆë³„ ê¸°ë³¸ ê°€ê²©
    const FINANCIAL_COSTS = {
      deposit: 50000,       // ì˜ˆê¸ˆ: 5ë§Œì›
      savings: 500000,      // ì ê¸ˆ: 50ë§Œì›
      bond: 5000000,        // êµ­ë‚´ì£¼ì‹: 500ë§Œì›
      usStock: 25000000,    // ë¯¸êµ­ì£¼ì‹: 2,500ë§Œì›
      crypto: 100000000     // ì½”ì¸: 1ì–µì›
    };
    
    // ë¶€ë™ì‚°ë³„ ê¸°ë³¸ ê°€ê²©
    const BASE_COSTS = {
      villa: 250000000,     // ë¹Œë¼: 2.5ì–µì›
      officetel: 350000000, // ì˜¤í”¼ìŠ¤í…”: 3.5ì–µì›
      apartment: 800000000, // ì•„íŒŒíŠ¸: 8ì–µì›
      shop: 1200000000,     // ìƒê°€: 12ì–µì›
      building: 3000000000  // ë¹Œë”©: 30ì–µì›
    };
    
    // ê¸ˆìœµìƒí’ˆ ê°€ê²© ê³„ì‚° í•¨ìˆ˜
    function getFinancialCost(type, count, quantity = 1) {
      const baseCost = FINANCIAL_COSTS[type];
      let totalCost = 0;
      for (let i = 0; i < quantity; i++) {
        const currentIndex = count + i;
        // ì²« ë²ˆì§¸ ì•„ì´í…œ(index=0)ì€ ê¸°ë³¸ ê°€ê²©, ê·¸ ì´í›„ë¶€í„° ë°°ìˆ˜ ì ìš©
        let cost = baseCost * Math.pow(1.15, currentIndex);
        totalCost += cost;
      }
      return Math.floor(totalCost);
    }
    
    // ê¸ˆìœµìƒí’ˆ íŒë§¤ ê°€ê²© ê³„ì‚° í•¨ìˆ˜ (í˜„ì¬ê°€ì˜ 80%)
    function getFinancialSellPrice(type, count, quantity = 1) {
      if (count <= 0) return 0;
      let totalSellPrice = 0;
      for (let i = 0; i < quantity; i++) {
        if (count - i <= 0) break;
        const buyPrice = getFinancialCost(type, count - i - 1, 1);
        totalSellPrice += Math.floor(buyPrice * 0.8);
      }
      return totalSellPrice;
    }
    
    // ë¶€ë™ì‚° ê°€ê²© ê³„ì‚° í•¨ìˆ˜
    function getPropertyCost(type, count, quantity = 1) {
      const baseCost = BASE_COSTS[type];
      let totalCost = 0;
      for (let i = 0; i < quantity; i++) {
        const currentIndex = count + i;
        // ì²« ë²ˆì§¸ ì•„ì´í…œ(index=0)ì€ ê¸°ë³¸ ê°€ê²©, ê·¸ ì´í›„ë¶€í„° ë°°ìˆ˜ ì ìš©
        let cost = baseCost * Math.pow(1.15, currentIndex);
        totalCost += cost;
      }
      return Math.floor(totalCost);
    }
    
    // ë¶€ë™ì‚° íŒë§¤ ê°€ê²© ê³„ì‚° í•¨ìˆ˜ (í˜„ì¬ê°€ì˜ 80%)
    function getPropertySellPrice(type, count, quantity = 1) {
      if (count <= 0) return 0;
      let totalSellPrice = 0;
      for (let i = 0; i < quantity; i++) {
        if (count - i <= 0) break;
        const buyPrice = getPropertyCost(type, count - i - 1, 1);
        totalSellPrice += Math.floor(buyPrice * 0.8);
      }
      return totalSellPrice;
    }
    let cash = 0;
    
    // ëˆ„ì  í”Œë ˆì´ì‹œê°„ ì‹œìŠ¤í…œ (ì „ì—­ ë³€ìˆ˜)
    let totalPlayTime = 0; // ëˆ„ì  í”Œë ˆì´ì‹œê°„ (ë°€ë¦¬ì´ˆ)
    let sessionStartTime = Date.now(); // í˜„ì¬ ì„¸ì…˜ ì‹œì‘ ì‹œê°„
    let gameStartTime = Date.now(); // ê²Œì„ ì‹œì‘ ì‹œê°„ (í˜¸í™˜ì„± ìœ ì§€)
    
    // ê¸ˆìœµìƒí’ˆ ë³´ìœ  ìˆ˜ëŸ‰
    let deposits = 0;     // ì˜ˆê¸ˆ
    let savings = 0;      // ì ê¸ˆ
    let bonds = 0;        // êµ­ë‚´ì£¼ì‹
    let usStocks = 0;     // ë¯¸êµ­ì£¼ì‹
    let cryptos = 0;      // ì½”ì¸
    
    // ê¸ˆìœµìƒí’ˆ ëˆ„ì  ìƒì‚°ëŸ‰ (Cookie Clicker ìŠ¤íƒ€ì¼)
    let depositsLifetime = 0;
    let savingsLifetime = 0;
    let bondsLifetime = 0;
    let usStocksLifetime = 0;
    let cryptosLifetime = 0;
    
    // ë¶€ë™ì‚° ëˆ„ì  ìƒì‚°ëŸ‰
    let villasLifetime = 0;
    let officetelsLifetime = 0;
    let apartmentsLifetime = 0;
    let shopsLifetime = 0;
    let buildingsLifetime = 0;
    
    // êµ¬ë§¤ ìˆ˜ëŸ‰ ì„ íƒ ì‹œìŠ¤í…œ
    let purchaseMode = 'buy';  // 'buy' or 'sell'
    let purchaseQuantity = 1;  // 1, 10, 100
    
    // ìë™ ì €ì¥ ì‹œìŠ¤í…œ
    const SAVE_KEY = 'seoulTycoonSaveV1';
    let lastSaveTime = new Date();
    
    // ======= ì—…ê·¸ë ˆì´ë“œ ì‹œìŠ¤í…œ (Cookie Clicker ìŠ¤íƒ€ì¼) =======
    const UPGRADES = {
      // === ë…¸ë™ ê´€ë ¨ (ì¬ë°¸ëŸ°ì‹±) ===
      part_time_job: {
        name: "ğŸ• ì•„ë¥´ë°”ì´íŠ¸ ê²½í—˜",
        desc: "í´ë¦­ ìˆ˜ìµ 1.2ë°° (ì•ˆì „)",
        cost: 50000,
        icon: "ğŸ•",
        unlockCondition: () => totalClicks >= 20,
        effect: () => { clickMultiplier *= 1.2; },
        category: "labor",
        risk: 0,
        unlocked: false,
        purchased: false
      },
      internship: {
        name: "ğŸ“ ì¸í„´ì‹­",
        desc: "í´ë¦­ ìˆ˜ìµ 1.3ë°° (ì•ˆì „)",
        cost: 200000,
        icon: "ğŸ“",
        unlockCondition: () => totalClicks >= 50,
        effect: () => { clickMultiplier *= 1.3; },
        category: "labor",
        risk: 0,
        unlocked: false,
        purchased: false
      },
      efficient_work: {
        name: "âš¡ íš¨ìœ¨ì ì¸ ì—…ë¬´ ì²˜ë¦¬",
        desc: "í´ë¦­ ìˆ˜ìµ 1.5ë°° (ì•ˆì „)",
        cost: 500000,
        icon: "âš¡",
        unlockCondition: () => totalClicks >= 100,
        effect: () => { clickMultiplier *= 1.5; },
        category: "labor",
        risk: 0,
        unlocked: false,
        purchased: false
      },
      focus_training: {
        name: "ğŸ¯ ì§‘ì¤‘ë ¥ ê°•í™”",
        desc: "í´ë¦­ ìˆ˜ìµ 1.4ë°° (ì•ˆì „)",
        cost: 2000000,
        icon: "ğŸ¯",
        unlockCondition: () => totalClicks >= 250,
        effect: () => { clickMultiplier *= 1.4; },
        category: "labor",
        risk: 0,
        unlocked: false,
        purchased: false
      },
      performance_bonus: {
        name: "ğŸ’° ì„±ê³¼ê¸‰",
        desc: "15% í™•ë¥ ë¡œ 5ë°°, 85% í™•ë¥ ë¡œ 50% ê°ì†Œ (ì¤‘ê°„ ìœ„í—˜)",
        cost: 10000000,
        icon: "ğŸ’°",
        unlockCondition: () => totalClicks >= 600,
        effect: () => { /* í™•ë¥ í˜• íš¨ê³¼ëŠ” í´ë¦­ ì´ë²¤íŠ¸ì—ì„œ ì²˜ë¦¬ */ },
        category: "labor",
        risk: 3,
        unlocked: false,
        purchased: false
      },
      overtime_work: {
        name: "ğŸ”¥ ì´ˆê³¼ê·¼ë¬´",
        desc: "í´ë¦­ ìˆ˜ìµ +30%, ë‹¤ë¥¸ ìˆ˜ìµ -10% (ë‚®ì€ ìœ„í—˜)",
        cost: 50000000,
        icon: "ğŸ”¥",
        unlockCondition: () => totalClicks >= 1200,
        effect: () => { 
          clickMultiplier *= 1.3;
          // ë‹¤ë¥¸ ìˆ˜ìµ ê°ì†ŒëŠ” ë³„ë„ ì²˜ë¦¬ í•„ìš”
        },
        category: "labor",
        risk: 2,
        unlocked: false,
        purchased: false
      },
      expertise_development: {
        name: "ğŸ’ ì „ë¬¸ì„± ê°œë°œ",
        desc: "í´ë¦­ ìˆ˜ìµ 1.4ë°° (ì•ˆì „)",
        cost: 200000000,
        icon: "ğŸ’",
        unlockCondition: () => totalClicks >= 2000,
        effect: () => { clickMultiplier *= 1.4; },
        category: "labor",
        risk: 0,
        unlocked: false,
        purchased: false
      },
      teamwork: {
        name: "ğŸ¤ íŒ€ì›Œí¬ í–¥ìƒ",
        desc: "í´ë¦­ ìˆ˜ìµ 1.3ë°° (ì•ˆì „)",
        cost: 500000000,
        icon: "ğŸ¤",
        unlockCondition: () => totalClicks >= 3000,
        effect: () => { clickMultiplier *= 1.3; },
        category: "labor",
        risk: 0,
        unlocked: false,
        purchased: false
      },
      leadership: {
        name: "ğŸ‘‘ ë¦¬ë”ì‹­",
        desc: "í´ë¦­ ìˆ˜ìµ 1.5ë°° (ì•ˆì „)",
        cost: 2000000000,
        icon: "ğŸ‘‘",
        unlockCondition: () => totalClicks >= 5000,
        effect: () => { clickMultiplier *= 1.5; },
        category: "labor",
        risk: 0,
        unlocked: false,
        purchased: false
      },
      ceo_privilege: {
        name: "ğŸ‘” CEO íŠ¹ê¶Œ",
        desc: "í´ë¦­ ìˆ˜ìµ 1.8ë°° (ì•ˆì „)",
        cost: 10000000000,
        icon: "ğŸ‘”",
        unlockCondition: () => careerLevel >= 9,
        effect: () => { clickMultiplier *= 1.8; },
        category: "labor",
        risk: 0,
        unlocked: false,
        purchased: false
      },
      global_experience: {
        name: "ğŸŒ ê¸€ë¡œë²Œ ê²½í—˜",
        desc: "í´ë¦­ ìˆ˜ìµ 2ë°° (ì•ˆì „)",
        cost: 50000000000,
        icon: "ğŸŒ",
        unlockCondition: () => totalClicks >= 20000,
        effect: () => { clickMultiplier *= 2; },
        category: "labor",
        risk: 0,
        unlocked: false,
        purchased: false
      },
      entrepreneurship: {
        name: "ğŸš€ ì°½ì—…",
        desc: "í´ë¦­ ìˆ˜ìµ 2.5ë°° (ì•ˆì „)",
        cost: 100000000000,
        icon: "ğŸš€",
        unlockCondition: () => totalClicks >= 50000,
        effect: () => { clickMultiplier *= 2.5; },
        category: "labor",
        risk: 0,
        unlocked: false,
        purchased: false
      },
      
      // === ì˜ˆê¸ˆ ê´€ë ¨ ===
      deposit_boost_1: {
        name: "ğŸ’° ì˜ˆê¸ˆ ì´ììœ¨ ìƒìŠ¹",
        desc: "ì˜ˆê¸ˆ ìˆ˜ìµ 2ë°°",
        cost: 500000,
        icon: "ğŸ’°",
        unlockCondition: () => deposits >= 5,
        effect: () => { FINANCIAL_INCOME.deposit *= 2; },
        category: "deposit",
        unlocked: false,
        purchased: false
      },
      deposit_boost_2: {
        name: "ğŸ’ í”„ë¦¬ë¯¸ì—„ ì˜ˆê¸ˆ",
        desc: "ì˜ˆê¸ˆ ìˆ˜ìµ 2ë°°",
        cost: 5000000,
        icon: "ğŸ’",
        unlockCondition: () => deposits >= 25,
        effect: () => { FINANCIAL_INCOME.deposit *= 2; },
        category: "deposit",
        unlocked: false,
        purchased: false
      },
      
      // === ì ê¸ˆ ê´€ë ¨ ===
      savings_boost_1: {
        name: "ğŸ¦ ì ê¸ˆ ë³µë¦¬ íš¨ê³¼",
        desc: "ì ê¸ˆ ìˆ˜ìµ 2ë°°",
        cost: 5000000,
        icon: "ğŸ¦",
        unlockCondition: () => savings >= 5,
        effect: () => { FINANCIAL_INCOME.savings *= 2; },
        category: "savings",
        unlocked: false,
        purchased: false
      },
      savings_boost_2: {
        name: "ğŸ… ê³¨ë“œ ì ê¸ˆ",
        desc: "ì ê¸ˆ ìˆ˜ìµ 2ë°°",
        cost: 50000000,
        icon: "ğŸ…",
        unlockCondition: () => savings >= 25,
        effect: () => { FINANCIAL_INCOME.savings *= 2; },
        category: "savings",
        unlocked: false,
        purchased: false
      },
      
      // === ì£¼ì‹ ê´€ë ¨ ===
      bond_boost_1: {
        name: "ğŸ“ˆ ì£¼ì‹ ìˆ˜ìµë¥  í–¥ìƒ",
        desc: "ì£¼ì‹ ìˆ˜ìµ 2ë°°",
        cost: 50000000,
        icon: "ğŸ“ˆ",
        unlockCondition: () => bonds >= 5,
        effect: () => { FINANCIAL_INCOME.bond *= 2; },
        category: "bond",
        unlocked: false,
        purchased: false
      },
      bond_boost_2: {
        name: "ğŸ’¹ í”„ë¦¬ë¯¸ì—„ ì£¼ì‹",
        desc: "ì£¼ì‹ ìˆ˜ìµ 2ë°°",
        cost: 500000000,
        icon: "ğŸ’¹",
        unlockCondition: () => bonds >= 25,
        effect: () => { FINANCIAL_INCOME.bond *= 2; },
        category: "bond",
        unlocked: false,
        purchased: false
      },
      
      // === ë¹Œë¼ ê´€ë ¨ ===
      villa_boost_1: {
        name: "ğŸ˜ï¸ ë¹Œë¼ ë¦¬ëª¨ë¸ë§",
        desc: "ë¹Œë¼ ìˆ˜ìµ 2ë°°",
        cost: 500000000,
        icon: "ğŸ˜ï¸",
        unlockCondition: () => villas >= 5,
        effect: () => { BASE_RENT.villa *= 2; },
        category: "villa",
        unlocked: false,
        purchased: false
      },
      villa_boost_2: {
        name: "ğŸŒŸ ëŸ­ì…”ë¦¬ ë¹Œë¼",
        desc: "ë¹Œë¼ ìˆ˜ìµ 2ë°°",
        cost: 5000000000,
        icon: "ğŸŒŸ",
        unlockCondition: () => villas >= 25,
        effect: () => { BASE_RENT.villa *= 2; },
        category: "villa",
        unlocked: false,
        purchased: false
      },
      
      // === ì˜¤í”¼ìŠ¤í…” ê´€ë ¨ ===
      officetel_boost_1: {
        name: "ğŸ¢ ì˜¤í”¼ìŠ¤í…” ìŠ¤ë§ˆíŠ¸í™”",
        desc: "ì˜¤í”¼ìŠ¤í…” ìˆ˜ìµ 2ë°°",
        cost: 1000000000,
        icon: "ğŸ¢",
        unlockCondition: () => officetels >= 5,
        effect: () => { BASE_RENT.officetel *= 2; },
        category: "officetel",
        unlocked: false,
        purchased: false
      },
      officetel_boost_2: {
        name: "ğŸ™ï¸ í”„ë¦¬ë¯¸ì—„ ì˜¤í”¼ìŠ¤í…”",
        desc: "ì˜¤í”¼ìŠ¤í…” ìˆ˜ìµ 2ë°°",
        cost: 10000000000,
        icon: "ğŸ™ï¸",
        unlockCondition: () => officetels >= 25,
        effect: () => { BASE_RENT.officetel *= 2; },
        category: "officetel",
        unlocked: false,
        purchased: false
      },
      
      // === ì•„íŒŒíŠ¸ ê´€ë ¨ ===
      apartment_boost_1: {
        name: "ğŸ¡ ì•„íŒŒíŠ¸ í”„ë¦¬ë¯¸ì—„í™”",
        desc: "ì•„íŒŒíŠ¸ ìˆ˜ìµ 2ë°°",
        cost: 5000000000,
        icon: "ğŸ¡",
        unlockCondition: () => apartments >= 5,
        effect: () => { BASE_RENT.apartment *= 2; },
        category: "apartment",
        unlocked: false,
        purchased: false
      },
      apartment_boost_2: {
        name: "ğŸ° íƒ€ì›ŒíŒ°ë¦¬ìŠ¤ê¸‰ ì•„íŒŒíŠ¸",
        desc: "ì•„íŒŒíŠ¸ ìˆ˜ìµ 2ë°°",
        cost: 50000000000,
        icon: "ğŸ°",
        unlockCondition: () => apartments >= 25,
        effect: () => { BASE_RENT.apartment *= 2; },
        category: "apartment",
        unlocked: false,
        purchased: false
      },
      
      // === ìƒê°€ ê´€ë ¨ ===
      shop_boost_1: {
        name: "ğŸª ìƒê°€ ì…ì§€ ê°œì„ ",
        desc: "ìƒê°€ ìˆ˜ìµ 2ë°°",
        cost: 10000000000,
        icon: "ğŸª",
        unlockCondition: () => shops >= 5,
        effect: () => { BASE_RENT.shop *= 2; },
        category: "shop",
        unlocked: false,
        purchased: false
      },
      shop_boost_2: {
        name: "ğŸ›ï¸ í”„ë¦¬ë¯¸ì—„ ìƒê¶Œ",
        desc: "ìƒê°€ ìˆ˜ìµ 2ë°°",
        cost: 100000000000,
        icon: "ğŸ›ï¸",
        unlockCondition: () => shops >= 25,
        effect: () => { BASE_RENT.shop *= 2; },
        category: "shop",
        unlocked: false,
        purchased: false
      },
      
      // === ë¹Œë”© ê´€ë ¨ ===
      building_boost_1: {
        name: "ğŸ—ï¸ ë¹Œë”© í…Œë„ŒíŠ¸ í™•ë³´",
        desc: "ë¹Œë”© ìˆ˜ìµ 2ë°°",
        cost: 50000000000,
        icon: "ğŸ—ï¸",
        unlockCondition: () => buildings >= 5,
        effect: () => { BASE_RENT.building *= 2; },
        category: "building",
        unlocked: false,
        purchased: false
      },
      building_boost_2: {
        name: "ğŸ’¼ ëœë“œë§ˆí¬ ë¹Œë”©",
        desc: "ë¹Œë”© ìˆ˜ìµ 2ë°°",
        cost: 500000000000,
        icon: "ğŸ’¼",
        unlockCondition: () => buildings >= 25,
        effect: () => { BASE_RENT.building *= 2; },
        category: "building",
        unlocked: false,
        purchased: false
      },
      
      // === ì „ì—­ ì—…ê·¸ë ˆì´ë“œ ===
      rent_multiplier: {
        name: "ğŸ“Š ë¶€ë™ì‚° ê´€ë¦¬ ì „ë¬¸í™”",
        desc: "ëª¨ë“  ë¶€ë™ì‚° ìˆ˜ìµ +10%",
        cost: 1000000000,
        icon: "ğŸ“Š",
        unlockCondition: () => getTotalProperties() >= 10,
        effect: () => { rentMultiplier *= 1.1; },
        category: "global",
        unlocked: false,
        purchased: false
      },
      manager_hire: {
        name: "ğŸ‘¨â€ğŸ’¼ ì „ë¬¸ ê´€ë¦¬ì¸ ê³ ìš©",
        desc: "ì „ì²´ ì„ëŒ€ ìˆ˜ìµ +5%",
        cost: 5000000000,
        icon: "ğŸ‘¨â€ğŸ’¼",
        unlockCondition: () => getTotalProperties() >= 20,
        effect: () => { rentMultiplier *= 1.05; managerLevel++; },
        category: "global",
        unlocked: false,
        purchased: false
      },
      financial_expert: {
        name: "ğŸ’¼ ê¸ˆìœµ ì „ë¬¸ê°€ ê³ ìš©",
        desc: "ëª¨ë“  ê¸ˆìœµ ìˆ˜ìµ +20%",
        cost: 10000000000,
        icon: "ğŸ’¼",
        unlockCondition: () => getTotalFinancialProducts() >= 30,
        effect: () => { 
          FINANCIAL_INCOME.deposit *= 1.2;
          FINANCIAL_INCOME.savings *= 1.2;
          FINANCIAL_INCOME.bond *= 1.2;
        },
        category: "global",
        unlocked: false,
        purchased: false
      },
      auto_work_system: {
        name: "ğŸ“± ìë™ ì—…ë¬´ ì²˜ë¦¬ ì‹œìŠ¤í…œ",
        desc: "1ì´ˆë§ˆë‹¤ ìë™ìœ¼ë¡œ 1íšŒ í´ë¦­ (ì´ˆë‹¹ ìˆ˜ìµ ì¶”ê°€)",
        cost: 5000000000,
        icon: "ğŸ“±",
        unlockCondition: () => careerLevel >= 7 && getTotalProperties() >= 10,
        effect: () => { autoClickEnabled = true; },
        category: "global",
        unlocked: false,
        purchased: false
      }
    };
    
    // ë¶€ë™ì‚° ë³´ìœ  ìˆ˜ëŸ‰
    let villas = 0;       // ë¹Œë¼
    let officetels = 0;   // ì˜¤í”¼ìŠ¤í…”
    let apartments = 0;   // ì•„íŒŒíŠ¸
    let shops = 0;        // ìƒê°€
    let buildings = 0;    // ë¹Œë”©
    
    // í•´ê¸ˆ ìƒíƒœ ì¶”ì  (ë²„ê·¸ ìˆ˜ì •: ì¤‘ë³µ í•´ê¸ˆ ì•Œë¦¼ ë°©ì§€)
    const unlockedProducts = {
      deposit: true,
      savings: false,
      bond: false,
      villa: false,
      officetel: false,
      apartment: false,
      shop: false,
      building: false
    };
    
    // ê¸ˆìœµìƒí’ˆë³„ ê¸°ë³¸ ìˆ˜ìµë¥  (ì´ˆë‹¹) - ìë³¸ì£¼ì˜ ë©”ì‹œì§€: ë‹¨ê³„ì  ì„±ì¥
    const FINANCIAL_INCOME = {
      deposit: 5,     // ì˜ˆê¸ˆ: 5ì›/ì´ˆ (ìµœì € ìˆ˜ìµë¥  - ì‹œì‘ì )
      savings: 75,    // ì ê¸ˆ: 75ì›/ì´ˆ (1.5ë°° ì¦ê°€)
      bond: 1125,     // êµ­ë‚´ì£¼ì‹: 1,125ì›/ì´ˆ (1.5ë°° ì¦ê°€)
      usStock: 6000,  // ë¯¸êµ­ì£¼ì‹: 6,000ì›/ì´ˆ (5.3ë°° ì¦ê°€)
      crypto: 25000   // ì½”ì¸: 25,000ì›/ì´ˆ (4.2ë°° ì¦ê°€)
    };
    
    // ê¸ˆìœµìƒí’ˆë³„ ë¦¬ìŠ¤í¬ ì‹œìŠ¤í…œ
    const FINANCIAL_RISK = {
      deposit: { level: 0, variance: 0, name: "ë§¤ìš° ì•ˆì „", color: "#4CAF50" },      // 0% ë¦¬ìŠ¤í¬
      savings: { level: 1, variance: 0.05, name: "ì•ˆì „", color: "#4CAF50" },        // 5% ë¦¬ìŠ¤í¬
      bond: { level: 3, variance: 0.2, name: "ì¤‘ê°„ ìœ„í—˜", color: "#FF9800" },       // 20% ë¦¬ìŠ¤í¬
      usStock: { level: 4, variance: 0.3, name: "ë†’ì€ ìœ„í—˜", color: "#F44336" },    // 30% ë¦¬ìŠ¤í¬
      crypto: { level: 5, variance: 0.5, name: "ë§¤ìš° ë†’ì€ ìœ„í—˜", color: "#9C27B0" } // 50% ë¦¬ìŠ¤í¬
    };
    
    // ë¶€ë™ì‚°ë³„ ë¦¬ìŠ¤í¬ ì‹œìŠ¤í…œ
    const PROPERTY_RISK = {
      villa: { level: 2, variance: 0.1, name: "ë‚®ì€ ìœ„í—˜", color: "#4CAF50" },      // 10% ë¦¬ìŠ¤í¬
      officetel: { level: 2, variance: 0.1, name: "ë‚®ì€ ìœ„í—˜", color: "#4CAF50" },  // 10% ë¦¬ìŠ¤í¬
      apartment: { level: 3, variance: 0.15, name: "ì¤‘ê°„ ìœ„í—˜", color: "#FF9800" }, // 15% ë¦¬ìŠ¤í¬
      shop: { level: 4, variance: 0.25, name: "ë†’ì€ ìœ„í—˜", color: "#F44336" },      // 25% ë¦¬ìŠ¤í¬
      building: { level: 4, variance: 0.25, name: "ë†’ì€ ìœ„í—˜", color: "#F44336" }   // 25% ë¦¬ìŠ¤í¬
    };
    
    // ë¶€ë™ì‚°ë³„ ê¸°ë³¸ ìˆ˜ìµë¥  (ì´ˆë‹¹) - ìë³¸ì£¼ì˜ ë©”ì‹œì§€: í° ìë³¸ì¼ìˆ˜ë¡ ë†’ì€ ìˆ˜ìµë¥ 
    const BASE_RENT = {
      villa: 8438,     // ë¹Œë¼: 8,438ì›/ì´ˆ (1.5ë°° ì¦ê°€)
      officetel: 17719, // ì˜¤í”¼ìŠ¤í…”: 17,719ì›/ì´ˆ (1.5ë°° ì¦ê°€)
      apartment: 60750, // ì•„íŒŒíŠ¸: 60,750ì›/ì´ˆ (1.5ë°° ì¦ê°€)
      shop: 137000,    // ìƒê°€: 137,000ì›/ì´ˆ (1.5ë°° ì¦ê°€)
      building: 514000 // ë¹Œë”©: 514,000ì›/ì´ˆ (ìµœê³  ìˆ˜ìµë¥  - ìë³¸ì£¼ì˜ ì •ì )
    };
    
    // ì—…ê·¸ë ˆì´ë“œ ë°°ìˆ˜
    let clickMultiplier = 1;    // ë…¸ë™ íš¨ìœ¨ ë°°ìˆ˜
    let rentMultiplier = 1;     // ì›”ì„¸ ìˆ˜ìµ ë°°ìˆ˜
    let autoClickEnabled = false; // ìë™ í´ë¦­ í™œì„±í™” ì—¬ë¶€
    let managerLevel = 0;       // ê´€ë¦¬ì¸ ë ˆë²¨
    
    // ë…¸ë™ ì»¤ë¦¬ì–´ ì‹œìŠ¤í…œ (í˜„ì‹¤ì  ìŠ¹ì§„)
    let careerLevel = 0;        // í˜„ì¬ ì»¤ë¦¬ì–´ ë ˆë²¨
    let totalLaborIncome = 0;   // ì´ ë…¸ë™ ìˆ˜ìµ
    const CAREER_LEVELS = [
      { name: "ì•Œë°”", multiplier: 1, requiredIncome: 0, requiredClicks: 0 },                    // 1ë§Œì›/í´ë¦­ (ì—°ë´‰ 2000ë§Œ)
      { name: "ê³„ì•½ì§", multiplier: 1.5, requiredIncome: 5000000, requiredClicks: 50 },        // 1.5ë§Œì›/í´ë¦­ (ì—°ë´‰ 3000ë§Œ)
      { name: "ì‚¬ì›", multiplier: 2, requiredIncome: 10000000, requiredClicks: 100 },          // 2ë§Œì›/í´ë¦­ (ì—°ë´‰ 4000ë§Œ)
      { name: "ëŒ€ë¦¬", multiplier: 2.5, requiredIncome: 20000000, requiredClicks: 200 },        // 2.5ë§Œì›/í´ë¦­ (ì—°ë´‰ 5000ë§Œ)
      { name: "ê³¼ì¥", multiplier: 3, requiredIncome: 30000000, requiredClicks: 350 },          // 3ë§Œì›/í´ë¦­ (ì—°ë´‰ 6000ë§Œ)
      { name: "ì°¨ì¥", multiplier: 3.5, requiredIncome: 40000000, requiredClicks: 550 },        // 3.5ë§Œì›/í´ë¦­ (ì—°ë´‰ 7000ë§Œ)
      { name: "ë¶€ì¥", multiplier: 4, requiredIncome: 50000000, requiredClicks: 800 },          // 4ë§Œì›/í´ë¦­ (ì—°ë´‰ 8000ë§Œ)
      { name: "ìƒë¬´", multiplier: 5, requiredIncome: 70000000, requiredClicks: 1100 },         // 5ë§Œì›/í´ë¦­ (ì—°ë´‰ 1ì–µ)
      { name: "ì „ë¬´", multiplier: 10, requiredIncome: 120000000, requiredClicks: 1500 },       // 10ë§Œì›/í´ë¦­ (ì—°ë´‰ 2ì–µ)
      { name: "CEO", multiplier: 25, requiredIncome: 250000000, requiredClicks: 2000 }         // 25ë§Œì›/í´ë¦­ (ì—°ë´‰ 5ì–µ)
    ];
    
    // ê°€ê²©ì€ ì´ì œ ë™ì ìœ¼ë¡œ ê³„ì‚°ë¨ (getPropertyCost í•¨ìˆ˜ ì‚¬ìš©)
    
    // ì—…ê·¸ë ˆì´ë“œ ë¹„ìš© - ìƒˆë¡œìš´ ê²½ì œ ì‹œìŠ¤í…œì— ë§ê²Œ ì¡°ì •
    let rentCost = 1000000000;      // ì›”ì„¸ ìˆ˜ìµë¥  ì—…: 10ì–µì›
    let mgrCost = 5000000000;       // ê´€ë¦¬ì¸ ê³ ìš©: 50ì–µì›

    const BASE_CLICK_GAIN = 10000; // ê¸°ë³¸ ë…¸ë™ í´ë¦­ ìˆ˜ìµ (2024ë…„ ìµœì €ì‹œê¸‰ ê¸°ì¤€)
    
    // ë¶€ë™ì‚° ì‹œì¥ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ
    let marketMultiplier = 1.0; // ì‹œì¥ ìˆ˜ìµ ë°°ìˆ˜
    let marketEventEndTime = 0; // ì´ë²¤íŠ¸ ì¢…ë£Œ ì‹œê°„
    
    // ì‹œì¥ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ (ìƒí’ˆë³„ ì„¸ë¶„í™”)
    let currentMarketEvent = null;
    
    const MARKET_EVENTS = [
      // ë¶€ë™ì‚° ì‹œì¥ ì´ë²¤íŠ¸
      { 
        name: "ê°•ë‚¨ ì•„íŒŒíŠ¸ ëŒ€ë°•", 
        duration: 45000, 
        color: "#4CAF50",
        effects: {
          financial: { deposit: 1.0, savings: 1.0, bond: 1.2, usStock: 1.1, crypto: 1.0 },
          property: { villa: 1.5, officetel: 1.3, apartment: 3.0, shop: 1.3, building: 1.2 }
        },
        description: "ê°•ë‚¨ ì•„íŒŒíŠ¸ ê°€ê²©ì´ ê¸‰ë“±í•˜ì—¬ ë¶€ë™ì‚° íˆ¬ì ìˆ˜ìµì´ í¬ê²Œ ì¦ê°€í•©ë‹ˆë‹¤."
      },
      { 
        name: "ì „ì„¸ ëŒ€ë€", 
        duration: 60000, 
        color: "#2196F3",
        effects: {
          financial: { deposit: 1.0, savings: 1.0, bond: 1.1, usStock: 1.0, crypto: 1.0 },
          property: { villa: 2.5, officetel: 2.5, apartment: 2.0, shop: 1.2, building: 1.1 }
        },
        description: "ì „ì„¸ ìˆ˜ìš”ê°€ ê¸‰ì¦í•˜ì—¬ ë¹Œë¼ì™€ ì˜¤í”¼ìŠ¤í…” ìˆ˜ìµì´ í¬ê²Œ ì¦ê°€í•©ë‹ˆë‹¤."
      },
      { 
        name: "ìƒê¶Œ í™œì„±í™”", 
        duration: 40000, 
        color: "#FF9800",
        effects: {
          financial: { deposit: 1.0, savings: 1.0, bond: 1.1, usStock: 1.0, crypto: 1.0 },
          property: { villa: 1.2, officetel: 1.2, apartment: 1.3, shop: 2.8, building: 1.5 }
        },
        description: "ìƒê¶Œì´ í™œì„±í™”ë˜ì–´ ìƒê°€ ìˆ˜ìµì´ í¬ê²Œ ì¦ê°€í•©ë‹ˆë‹¤."
      },
      { 
        name: "ì˜¤í”¼ìŠ¤ ìˆ˜ìš” ê¸‰ì¦", 
        duration: 50000, 
        color: "#9C27B0",
        effects: {
          financial: { deposit: 1.0, savings: 1.0, bond: 1.1, usStock: 1.0, crypto: 1.0 },
          property: { villa: 1.2, officetel: 1.3, apartment: 1.2, shop: 1.4, building: 3.2 }
        },
        description: "IT ê¸°ì—…ë“¤ì˜ ì˜¤í”¼ìŠ¤ í™•ì¥ìœ¼ë¡œ ë¹Œë”© ìˆ˜ìµì´ í¬ê²Œ ì¦ê°€í•©ë‹ˆë‹¤."
      },
      
      // ê¸ˆìœµ ì‹œì¥ ì´ë²¤íŠ¸
      { 
        name: "í•œêµ­ì€í–‰ ê¸ˆë¦¬ ì¸í•˜", 
        duration: 80000, 
        color: "#2196F3",
        effects: {
          financial: { deposit: 0.7, savings: 0.8, bond: 2.0, usStock: 1.5, crypto: 1.2 },
          property: { villa: 1.2, officetel: 1.2, apartment: 1.3, shop: 1.2, building: 1.2 }
        },
        description: "ê¸°ì¤€ê¸ˆë¦¬ ì¸í•˜ë¡œ ì£¼ì‹ì€ í˜¸í™©ì´ì§€ë§Œ ì˜ˆê¸ˆ/ì ê¸ˆ ìˆ˜ìµì€ ê°ì†Œí•©ë‹ˆë‹¤."
      },
      { 
        name: "ì£¼ì‹ì‹œì¥ ëŒ€í˜¸í™©", 
        duration: 60000, 
        color: "#4CAF50",
        effects: {
          financial: { deposit: 1.1, savings: 1.2, bond: 3.5, usStock: 2.0, crypto: 1.5 },
          property: { villa: 1.1, officetel: 1.1, apartment: 1.2, shop: 1.1, building: 1.1 }
        },
        description: "KOSPI 3000 ëŒíŒŒë¡œ ì£¼ì‹ íˆ¬ì ìˆ˜ìµì´ í¬ê²Œ ì¦ê°€í•©ë‹ˆë‹¤."
      },
      { 
        name: "ë¯¸êµ­ ì—°ì¤€ ì–‘ì ì™„í™”", 
        duration: 100000, 
        color: "#2196F3",
        effects: {
          financial: { deposit: 1.0, savings: 1.0, bond: 1.3, usStock: 2.8, crypto: 1.8 },
          property: { villa: 1.0, officetel: 1.0, apartment: 1.1, shop: 1.0, building: 1.0 }
        },
        description: "ë‹¬ëŸ¬ ìœ ë™ì„± í™•ëŒ€ë¡œ ë¯¸êµ­ì£¼ì‹ê³¼ ì½”ì¸ ìˆ˜ìµì´ í¬ê²Œ ì¦ê°€í•©ë‹ˆë‹¤."
      },
      { 
        name: "ë¹„íŠ¸ì½”ì¸ ê¸‰ë“±", 
        duration: 40000, 
        color: "#FF9800",
        effects: {
          financial: { deposit: 1.05, savings: 1.1, bond: 1.3, usStock: 1.5, crypto: 5.0 },
          property: { villa: 1.0, officetel: 1.0, apartment: 1.0, shop: 1.0, building: 1.0 }
        },
        description: "ì•”í˜¸í™”í íˆ¬ì ì—´í’ìœ¼ë¡œ ì½”ì¸ ìˆ˜ìµì´ í­ë°œì ìœ¼ë¡œ ì¦ê°€í•©ë‹ˆë‹¤."
      },
      
      // ë¶€ì •ì  ì´ë²¤íŠ¸
      { 
        name: "ê¸ˆìœµìœ„ê¸°", 
        duration: 150000, 
        color: "#F44336",
        effects: {
          financial: { deposit: 0.5, savings: 0.6, bond: 0.2, usStock: 0.3, crypto: 0.1 },
          property: { villa: 0.8, officetel: 0.8, apartment: 0.7, shop: 0.6, building: 0.5 }
        },
        description: "ê¸€ë¡œë²Œ ê¸ˆìœµìœ„ê¸°ë¡œ ëª¨ë“  íˆ¬ì ìƒí’ˆì´ í° íƒ€ê²©ì„ ë°›ìŠµë‹ˆë‹¤."
      },
      { 
        name: "ì€í–‰ íŒŒì‚° ìœ„ê¸°", 
        duration: 120000, 
        color: "#9C27B0",
        effects: {
          financial: { deposit: 0.1, savings: 0.2, bond: 0.5, usStock: 0.7, crypto: 0.3 },
          property: { villa: 1.0, officetel: 1.0, apartment: 1.0, shop: 1.0, building: 1.0 }
        },
        description: "ì€í–‰ ë¶€ì‹¤ ìš°ë ¤ë¡œ ì˜ˆê¸ˆ/ì ê¸ˆ ìˆ˜ìµì´ ê¸‰ê²©íˆ ê°ì†Œí•©ë‹ˆë‹¤."
      },
      { 
        name: "ì£¼ì‹ì‹œì¥ í­ë½", 
        duration: 90000, 
        color: "#F44336",
        effects: {
          financial: { deposit: 1.0, savings: 1.0, bond: 0.3, usStock: 0.4, crypto: 0.2 },
          property: { villa: 1.0, officetel: 1.0, apartment: 1.0, shop: 1.0, building: 1.0 }
        },
        description: "ì£¼ì‹ì‹œì¥ í­ë½ìœ¼ë¡œ ì£¼ì‹ê³¼ ì½”ì¸ íˆ¬ìì— í° ì†ì‹¤ì´ ë°œìƒí•©ë‹ˆë‹¤."
      },
      { 
        name: "ì•”í˜¸í™”í ê·œì œ", 
        duration: 180000, 
        color: "#9C27B0",
        effects: {
          financial: { deposit: 1.0, savings: 1.0, bond: 1.0, usStock: 1.0, crypto: 0.1 },
          property: { villa: 1.0, officetel: 1.0, apartment: 1.0, shop: 1.0, building: 1.0 }
        },
        description: "ì •ë¶€ì˜ ì•”í˜¸í™”í ê·œì œ ê°•í™”ë¡œ ì½”ì¸ íˆ¬ì ìˆ˜ìµì´ ê¸‰ê²©íˆ ê°ì†Œí•©ë‹ˆë‹¤."
      }
    ];
    
    // ì—…ì  ì‹œìŠ¤í…œ
    let totalClicks = 0; // ì´ í´ë¦­ ìˆ˜ ì¶”ì 
    
    const ACHIEVEMENTS = [
      // === ê¸°ë³¸ ì—…ì  (8ê°œ) ===
      { id: "first_click", name: "ì²« ë…¸ë™", desc: "ì²« ë²ˆì§¸ í´ë¦­ì„ í–ˆë‹¤", icon: "ğŸ‘†", condition: () => totalClicks >= 1, unlocked: false },
      { id: "first_deposit", name: "ì²« ì˜ˆê¸ˆ", desc: "ì²« ë²ˆì§¸ ì˜ˆê¸ˆì„ êµ¬ì…í–ˆë‹¤", icon: "ğŸ’°", condition: () => deposits >= 1, unlocked: false },
      { id: "first_savings", name: "ì²« ì ê¸ˆ", desc: "ì²« ë²ˆì§¸ ì ê¸ˆì„ êµ¬ì…í–ˆë‹¤", icon: "ğŸ¦", condition: () => savings >= 1, unlocked: false },
      { id: "first_bond", name: "ì²« êµ­ë‚´ì£¼ì‹", desc: "ì²« ë²ˆì§¸ êµ­ë‚´ì£¼ì‹ì„ êµ¬ì…í–ˆë‹¤", icon: "ğŸ“ˆ", condition: () => bonds >= 1, unlocked: false },
      { id: "first_us_stock", name: "ì²« ë¯¸êµ­ì£¼ì‹", desc: "ì²« ë²ˆì§¸ ë¯¸êµ­ì£¼ì‹ì„ êµ¬ì…í–ˆë‹¤", icon: "ğŸ‡ºğŸ‡¸", condition: () => usStocks >= 1, unlocked: false },
      { id: "first_crypto", name: "ì²« ì½”ì¸", desc: "ì²« ë²ˆì§¸ ì½”ì¸ì„ êµ¬ì…í–ˆë‹¤", icon: "â‚¿", condition: () => cryptos >= 1, unlocked: false },
      { id: "first_property", name: "ì²« ë¶€ë™ì‚°", desc: "ì²« ë²ˆì§¸ ë¶€ë™ì‚°ì„ êµ¬ì…í–ˆë‹¤", icon: "ğŸ ", condition: () => villas + officetels + apartments + shops + buildings >= 1, unlocked: false },
      { id: "first_upgrade", name: "ì²« ì—…ê·¸ë ˆì´ë“œ", desc: "ì²« ë²ˆì§¸ ì—…ê·¸ë ˆì´ë“œë¥¼ êµ¬ì…í–ˆë‹¤", icon: "âš¡", condition: () => Object.values(UPGRADES).some(upgrade => upgrade.purchased), unlocked: false },
      
      // === ì „ë¬¸ê°€ ì—…ì  (8ê°œ) ===
      { id: "financial_expert", name: "ê¸ˆìœµ ì „ë¬¸ê°€", desc: "ëª¨ë“  ê¸ˆìœµìƒí’ˆì„ ë³´ìœ í–ˆë‹¤", icon: "ğŸ’¼", condition: () => deposits > 0 && savings > 0 && bonds > 0 && usStocks > 0 && cryptos > 0, unlocked: false },
      { id: "property_collector", name: "ë¶€ë™ì‚° ìˆ˜ì§‘ê°€", desc: "5ì±„ì˜ ë¶€ë™ì‚°ì„ ë³´ìœ í–ˆë‹¤", icon: "ğŸ˜ï¸", condition: () => getTotalProperties() >= 5, unlocked: false },
      { id: "property_tycoon", name: "ë¶€ë™ì‚° íƒ€ì´ì¿¤", desc: "ëª¨ë“  ë¶€ë™ì‚° ì¢…ë¥˜ë¥¼ ë³´ìœ í–ˆë‹¤", icon: "ğŸ—ï¸", condition: () => villas > 0 && officetels > 0 && apartments > 0 && shops > 0 && buildings > 0, unlocked: false },
      { id: "investment_guru", name: "íˆ¬ì ê³ ìˆ˜", desc: "ëª¨ë“  ì—…ê·¸ë ˆì´ë“œë¥¼ êµ¬ì…í–ˆë‹¤", icon: "ğŸ“Š", condition: () => Object.values(UPGRADES).every(upgrade => upgrade.purchased), unlocked: false },
      { id: "gangnam_rich", name: "ê°•ë‚¨ ë¶€ì", desc: "ê°•ë‚¨ ë¶€ë™ì‚° 3ì±„ë¥¼ ë³´ìœ í–ˆë‹¤", icon: "ğŸ™ï¸", condition: () => apartments >= 3, unlocked: false },
      { id: "global_investor", name: "ê¸€ë¡œë²Œ íˆ¬ìì", desc: "í•´ì™¸ íˆ¬ì 1ì–µì›ì„ ë‹¬ì„±í–ˆë‹¤", icon: "ğŸŒ", condition: () => usStocks * 1000000 + cryptos * 1000000 >= 100000000, unlocked: false },
      { id: "crypto_expert", name: "ì•”í˜¸í™”í ì „ë¬¸ê°€", desc: "ì½”ì¸ íˆ¬ì 5ì–µì›ì„ ë‹¬ì„±í–ˆë‹¤", icon: "â‚¿", condition: () => cryptos * 1000000 >= 500000000, unlocked: false },
      { id: "real_estate_agent", name: "ë¶€ë™ì‚° ì¤‘ê°œì‚¬", desc: "ë¶€ë™ì‚° 20ì±„ë¥¼ ë³´ìœ í–ˆë‹¤", icon: "ğŸ ", condition: () => getTotalProperties() >= 20, unlocked: false },
      
      // === ìì‚° ì—…ì  (8ê°œ) ===
      { id: "millionaire", name: "ë°±ë§Œì¥ì", desc: "ì´ ìì‚° 1ì–µì›ì„ ë‹¬ì„±í–ˆë‹¤", icon: "ğŸ’", condition: () => cash >= 100000000, unlocked: false },
      { id: "ten_millionaire", name: "ì–µë§Œì¥ì", desc: "ì´ ìì‚° 10ì–µì›ì„ ë‹¬ì„±í–ˆë‹¤", icon: "ğŸ’°", condition: () => cash >= 1000000000, unlocked: false },
      { id: "hundred_millionaire", name: "ë¶€ì", desc: "ì´ ìì‚° 100ì–µì›ì„ ë‹¬ì„±í–ˆë‹¤", icon: "ğŸ†", condition: () => cash >= 10000000000, unlocked: false },
      { id: "billionaire", name: "ëŒ€ë¶€í˜¸", desc: "ì´ ìì‚° 1,000ì–µì›ì„ ë‹¬ì„±í–ˆë‹¤", icon: "ğŸ‘‘", condition: () => cash >= 100000000000, unlocked: false },
      { id: "trillionaire", name: "ì¬ë²Œ", desc: "ì´ ìì‚° 1ì¡°ì›ì„ ë‹¬ì„±í–ˆë‹¤", icon: "ğŸ°", condition: () => cash >= 1000000000000, unlocked: false },
      { id: "global_rich", name: "ì„¸ê³„ì  ë¶€ì", desc: "ì´ ìì‚° 10ì¡°ì›ì„ ë‹¬ì„±í–ˆë‹¤", icon: "ğŸŒ", condition: () => cash >= 10000000000000, unlocked: false },
      { id: "legendary_rich", name: "ì „ì„¤ì˜ ë¶€ì", desc: "ì´ ìì‚° 100ì¡°ì›ì„ ë‹¬ì„±í–ˆë‹¤", icon: "â­", condition: () => cash >= 100000000000000, unlocked: false },
      { id: "god_rich", name: "ì‹ ì˜ ë¶€ì", desc: "ì´ ìì‚° 1,000ì¡°ì›ì„ ë‹¬ì„±í–ˆë‹¤", icon: "âœ¨", condition: () => cash >= 1000000000000000, unlocked: false },
      
      // === ì»¤ë¦¬ì–´ ì—…ì  (8ê°œ) ===
      { id: "career_starter", name: "ì§ì¥ì¸", desc: "ê³„ì•½ì§ìœ¼ë¡œ ìŠ¹ì§„í–ˆë‹¤", icon: "ğŸ‘”", condition: () => careerLevel >= 1, unlocked: false },
      { id: "employee", name: "ì •ê·œì§", desc: "ì‚¬ì›ìœ¼ë¡œ ìŠ¹ì§„í–ˆë‹¤", icon: "ğŸ‘¨â€ğŸ’¼", condition: () => careerLevel >= 2, unlocked: false },
      { id: "deputy_director", name: "íŒ€ì¥", desc: "ê³¼ì¥ìœ¼ë¡œ ìŠ¹ì§„í–ˆë‹¤", icon: "ğŸ‘¨â€ğŸ’»", condition: () => careerLevel >= 4, unlocked: false },
      { id: "executive", name: "ì„ì›", desc: "ìƒë¬´ë¡œ ìŠ¹ì§„í–ˆë‹¤", icon: "ğŸ‘¨â€ğŸ“", condition: () => careerLevel >= 7, unlocked: false },
      { id: "ceo", name: "CEO", desc: "CEOê°€ ë˜ì—ˆë‹¤", icon: "ğŸ‘‘", condition: () => careerLevel >= 9, unlocked: false },
      { id: "chaebol_chairman", name: "ì¬ë²Œ íšŒì¥", desc: "ìì‚° 1ì¡°ì›ì„ ë‹¬ì„±í–ˆë‹¤", icon: "ğŸ†", condition: () => cash >= 1000000000000, unlocked: false },
      { id: "global_ceo", name: "ê¸€ë¡œë²Œ CEO", desc: "í•´ì™¸ ì§„ì¶œì„ ë‹¬ì„±í–ˆë‹¤", icon: "ğŸŒ", condition: () => usStocks >= 10 && cryptos >= 10, unlocked: false },
      { id: "legendary_ceo", name: "ì „ì„¤ì˜ CEO", desc: "ëª¨ë“  ëª©í‘œë¥¼ ë‹¬ì„±í–ˆë‹¤", icon: "â­", condition: () => careerLevel >= 9 && cash >= 100000000000000, unlocked: false }
    ];

    // ======= DOM =======
    const elCash = document.getElementById('cash');
    const elFinancial = document.getElementById('financial');
    const elProperties = document.getElementById('properties');
    const elRps  = document.getElementById('rps');
    const elWork = document.getElementById('workBtn');
    const elLog  = document.getElementById('log');
    const elShareBtn = document.getElementById('shareBtn');
    const elClickIncomeButton = document.getElementById('clickIncomeButton');
    const elClickIncomeLabel = document.getElementById('clickIncomeLabel');
    const elClickMultiplier = document.getElementById('clickMultiplier');
    const elRentMultiplier = document.getElementById('rentMultiplier');

    // ê¸ˆìœµìƒí’ˆ ê´€ë ¨
    const elDepositCount = document.getElementById('depositCount');
    const elIncomePerDeposit = document.getElementById('incomePerDeposit');
    const elBuyDeposit = document.getElementById('buyDeposit');

    const elSavingsCount = document.getElementById('savingsCount');
    const elIncomePerSavings = document.getElementById('incomePerSavings');
    const elBuySavings = document.getElementById('buySavings');

    const elBondCount = document.getElementById('bondCount');
    const elIncomePerBond = document.getElementById('incomePerBond');
    const elBuyBond = document.getElementById('buyBond');
    
    // ë¯¸êµ­ì£¼ì‹ê³¼ ì½”ì¸ ê´€ë ¨
    const elUsStockCount = document.getElementById('usStockCount');
    const elIncomePerUsStock = document.getElementById('incomePerUsStock');
    const elBuyUsStock = document.getElementById('buyUsStock');
    
    const elCryptoCount = document.getElementById('cryptoCount');
    const elIncomePerCrypto = document.getElementById('incomePerCrypto');
    const elBuyCrypto = document.getElementById('buyCrypto');
    
    // êµ¬ë§¤ ìˆ˜ëŸ‰ ì„ íƒ ì‹œìŠ¤í…œ
    const elBuyMode = document.getElementById('buyMode');
    const elSellMode = document.getElementById('sellMode');
    const elQty1 = document.getElementById('qty1');
    const elQty5 = document.getElementById('qty5');
    const elQty10 = document.getElementById('qty10');
    
    // í† ê¸€ ë²„íŠ¼ë“¤
    const elToggleUpgrades = document.getElementById('toggleUpgrades');
    const elToggleFinancial = document.getElementById('toggleFinancial');
    const elToggleProperties = document.getElementById('toggleProperties');
    
    // ì €ì¥ ìƒíƒœ í‘œì‹œ
    const elSaveStatus = document.getElementById('saveStatus');
    
    // í˜„ì¬ê°€ í‘œì‹œ ìš”ì†Œë“¤
    const elDepositCurrentPrice = document.getElementById('depositCurrentPrice');
    const elSavingsCurrentPrice = document.getElementById('savingsCurrentPrice');
    const elBondCurrentPrice = document.getElementById('bondCurrentPrice');
    const elVillaCurrentPrice = document.getElementById('villaCurrentPrice');
    const elOfficetelCurrentPrice = document.getElementById('officetelCurrentPrice');
    const elAptCurrentPrice = document.getElementById('aptCurrentPrice');
    const elShopCurrentPrice = document.getElementById('shopCurrentPrice');
    const elBuildingCurrentPrice = document.getElementById('buildingCurrentPrice');

    // ë¶€ë™ì‚° êµ¬ì… ê´€ë ¨
    const elVillaCount = document.getElementById('villaCount');
    const elRentPerVilla = document.getElementById('rentPerVilla');
    const elBuyVilla = document.getElementById('buyVilla');

    const elOfficetelCount = document.getElementById('officetelCount');
    const elRentPerOfficetel = document.getElementById('rentPerOfficetel');
    const elBuyOfficetel = document.getElementById('buyOfficetel');

    const elAptCount = document.getElementById('aptCount');
    const elRentPerApt = document.getElementById('rentPerApt');
    const elBuyApt = document.getElementById('buyApt');

    const elShopCount = document.getElementById('shopCount');
    const elRentPerShop = document.getElementById('rentPerShop');
    const elBuyShop = document.getElementById('buyShop');

    const elBuildingCount = document.getElementById('buildingCount');
    const elRentPerBuilding = document.getElementById('rentPerBuilding');
    const elBuyBuilding = document.getElementById('buyBuilding');

    // ì»¤ë¦¬ì–´ ê´€ë ¨
    const elCurrentCareer = document.getElementById('currentCareer');
    const elNextCareerDesc = document.getElementById('nextCareerDesc');
    const elCareerCost = document.getElementById('careerCost');
    const elCareerProgress = document.getElementById('careerProgress');
    const elCareerProgressText = document.getElementById('careerProgressText');
    
    // ì—…ê·¸ë ˆì´ë“œ ê´€ë ¨ (êµ¬í˜• DOM ì œê±°ë¨ - ìƒˆë¡œìš´ Cookie Clicker ìŠ¤íƒ€ì¼ ì‚¬ìš©)

    // ======= ìœ í‹¸ =======
    function addLog(text){
      const p = document.createElement('p');
      p.innerText = text;
      elLog.prepend(p);
    }
    
    function getTotalFinancialProducts() {
      return deposits + savings + bonds + usStocks + cryptos;
    }
    
    function getTotalProperties() {
      return villas + officetels + apartments + shops + buildings;
    }
    
    // ======= ìˆœì°¨ í•´ê¸ˆ ì‹œìŠ¤í…œ =======
    function isProductUnlocked(productName) {
      const unlockConditions = {
        // ê¸ˆìœµìƒí’ˆ
        'deposit': () => true, // í•­ìƒ í•´ê¸ˆ
        'savings': () => deposits >= 1, // ì˜ˆê¸ˆ 1ê°œ í•„ìš”
        'bond': () => savings >= 1, // ì ê¸ˆ 1ê°œ í•„ìš”
        'usStock': () => bonds >= 1, // êµ­ë‚´ì£¼ì‹ 1ê°œ í•„ìš”
        'crypto': () => usStocks >= 1, // ë¯¸êµ­ì£¼ì‹ 1ê°œ í•„ìš”
        
        // ë¶€ë™ì‚°
        'villa': () => cryptos >= 1, // ì½”ì¸ 1ê°œ í•„ìš”
        'officetel': () => villas >= 1, // ë¹Œë¼ 1ê°œ í•„ìš”
        'apartment': () => officetels >= 1, // ì˜¤í”¼ìŠ¤í…” 1ê°œ í•„ìš”
        'shop': () => apartments >= 1, // ì•„íŒŒíŠ¸ 1ê°œ í•„ìš”
        'building': () => shops >= 1 // ìƒê°€ 1ê°œ í•„ìš”
      };
      
      return unlockConditions[productName] ? unlockConditions[productName]() : false;
    }
    
    function checkNewUnlocks(productName) {
      const unlockMessages = {
        'deposit': { next: 'savings', msg: 'ğŸ”“ ì ê¸ˆì´ í•´ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤!' },
        'savings': { next: 'bond', msg: 'ğŸ”“ êµ­ë‚´ì£¼ì‹ì´ í•´ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤!' },
        'bond': { next: 'usStock', msg: 'ğŸ”“ ë¯¸êµ­ì£¼ì‹ì´ í•´ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤!' },
        'usStock': { next: 'crypto', msg: 'ğŸ”“ ì½”ì¸ì´ í•´ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤!' },
        'crypto': { next: 'villa', msg: 'ğŸ”“ ë¹Œë¼ê°€ í•´ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤!' },
        'villa': { next: 'officetel', msg: 'ğŸ”“ ì˜¤í”¼ìŠ¤í…”ì´ í•´ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤!' },
        'officetel': { next: 'apartment', msg: 'ğŸ”“ ì•„íŒŒíŠ¸ê°€ í•´ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤!' },
        'apartment': { next: 'shop', msg: 'ğŸ”“ ìƒê°€ê°€ í•´ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤!' },
        'shop': { next: 'building', msg: 'ğŸ”“ ë¹Œë”©ì´ í•´ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤!' }
      };
      
      const unlock = unlockMessages[productName];
      // ë²„ê·¸ ìˆ˜ì •: ì•„ì§ í•´ê¸ˆë˜ì§€ ì•Šì•˜ê³ , í•´ê¸ˆ ì¡°ê±´ì„ ì¶©ì¡±í–ˆì„ ë•Œë§Œ ì‹¤í–‰
      if (unlock && !unlockedProducts[unlock.next] && isProductUnlocked(unlock.next)) {
        unlockedProducts[unlock.next] = true; // í•´ê¸ˆ ìƒíƒœ ê¸°ë¡
        addLog(unlock.msg);
        
        // í•´ê¸ˆ ì• ë‹ˆë©”ì´ì…˜
        const itemId = unlock.next + 'Item';
        const itemElement = document.getElementById(itemId);
        if (itemElement) {
          itemElement.classList.add('just-unlocked');
          setTimeout(() => itemElement.classList.remove('just-unlocked'), 1000);
        }
      }
    }
    
    // ë¦¬ìŠ¤í¬ë¥¼ ì ìš©í•œ ê°œë³„ ìˆ˜ìµ ê³„ì‚° í•¨ìˆ˜
    function getFinancialIncomeWithRisk(type, count) {
      const baseIncome = FINANCIAL_INCOME[type];
      const risk = FINANCIAL_RISK[type];
      
      let actualIncome = baseIncome * count;
      
      // ë¦¬ìŠ¤í¬ ì ìš©
      if (risk.variance > 0) {
        const randomFactor = (Math.random() * 2 - 1) * risk.variance;
        const actualMultiplier = 1 + randomFactor;
        actualIncome *= actualMultiplier;
      }
      
      // ì‹œì¥ ì´ë²¤íŠ¸ íš¨ê³¼ ì ìš©
      const marketMultiplier = getMarketEventMultiplier(type, 'financial');
      actualIncome *= marketMultiplier;
      
      return actualIncome;
    }
    
    function getPropertyIncomeWithRisk(type, count) {
      const baseIncome = BASE_RENT[type];
      const risk = PROPERTY_RISK[type];
      
      let actualIncome = baseIncome * count;
      
      // ë¦¬ìŠ¤í¬ ì ìš©
      if (risk.variance > 0) {
        const randomFactor = (Math.random() * 2 - 1) * risk.variance;
        const actualMultiplier = 1 + randomFactor;
        actualIncome *= actualMultiplier;
      }
      
      // ì‹œì¥ ì´ë²¤íŠ¸ íš¨ê³¼ ì ìš©
      const marketMultiplier = getMarketEventMultiplier(type, 'property');
      actualIncome *= marketMultiplier;
      
      return actualIncome;
    }

    function getRps() {
      // ê¸ˆìœµìƒí’ˆ ìˆ˜ìµ (ë¦¬ìŠ¤í¬ ì ìš©)
      const financialIncome = 
        getFinancialIncomeWithRisk('deposit', deposits) +
        getFinancialIncomeWithRisk('savings', savings) +
        getFinancialIncomeWithRisk('bond', bonds) +
        getFinancialIncomeWithRisk('usStock', usStocks) +
        getFinancialIncomeWithRisk('crypto', cryptos);
      
      // ë¶€ë™ì‚° ìˆ˜ìµ (ë¦¬ìŠ¤í¬ ì ìš©)
      const propertyRent = 
        getPropertyIncomeWithRisk('villa', villas) +
        getPropertyIncomeWithRisk('officetel', officetels) +
        getPropertyIncomeWithRisk('apartment', apartments) +
        getPropertyIncomeWithRisk('shop', shops) +
        getPropertyIncomeWithRisk('building', buildings);
      
      // ë°°ìˆ˜ ì ìš© ìˆœì„œ: 1) ë¶€ë™ì‚°ì— rentMultiplier ì ìš©, 2) ì „ì²´ì— marketMultiplier ì ìš©
      const totalIncome = financialIncome + (propertyRent * rentMultiplier);
      return totalIncome * marketMultiplier;
    }
    
    // ì‹œì¥ ì´ë²¤íŠ¸ ì‹œì‘
    function startMarketEvent() {
      const event = MARKET_EVENTS[Math.floor(Math.random() * MARKET_EVENTS.length)];
      currentMarketEvent = event;
      marketEventEndTime = Date.now() + event.duration;
      
      addLog(`ğŸ“ˆ ${event.name} ë°œìƒ! ${event.duration/1000}ì´ˆê°„ ì§€ì†`);
      addLog(`ğŸ’¡ ${event.description}`);
      showMarketEventNotification(event);
    }
    
    // ì‹œì¥ ì´ë²¤íŠ¸ ì•Œë¦¼ í‘œì‹œ
    function showMarketEventNotification(event) {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${event.color};
        color: white;
        padding: 15px 20px;
        border-radius: 10px;
        font-weight: bold;
        z-index: 1000;
        animation: slideIn 0.5s ease-out;
        max-width: 300px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      `;
      
      // ìƒí’ˆë³„ íš¨ê³¼ í‘œì‹œ
      let effectsText = '';
      if (event.effects.financial) {
        const financialEffects = Object.entries(event.effects.financial)
          .filter(([_, multiplier]) => multiplier !== 1.0)
          .map(([product, multiplier]) => {
            const productNames = { deposit: 'ì˜ˆê¸ˆ', savings: 'ì ê¸ˆ', bond: 'êµ­ë‚´ì£¼ì‹', usStock: 'ë¯¸êµ­ì£¼ì‹', crypto: 'ì½”ì¸' };
            return `${productNames[product]} ${multiplier > 1 ? '+' : ''}${Math.round((multiplier - 1) * 100)}%`;
          });
        if (financialEffects.length > 0) {
          effectsText += `ğŸ’° ${financialEffects.join(', ')}\n`;
        }
      }
      
      if (event.effects.property) {
        const propertyEffects = Object.entries(event.effects.property)
          .filter(([_, multiplier]) => multiplier !== 1.0)
          .map(([product, multiplier]) => {
            const productNames = { villa: 'ë¹Œë¼', officetel: 'ì˜¤í”¼ìŠ¤í…”', apartment: 'ì•„íŒŒíŠ¸', shop: 'ìƒê°€', building: 'ë¹Œë”©' };
            return `${productNames[product]} ${multiplier > 1 ? '+' : ''}${Math.round((multiplier - 1) * 100)}%`;
          });
        if (propertyEffects.length > 0) {
          effectsText += `ğŸ  ${propertyEffects.join(', ')}`;
        }
      }
      
      notification.innerHTML = `
        <div style="font-size: 16px; margin-bottom: 8px;">ğŸ“ˆ ${event.name}</div>
        <div style="font-size: 12px; opacity: 0.9;">${event.description}</div>
        ${effectsText ? `<div style="font-size: 11px; margin-top: 8px; background: rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 4px;">${effectsText}</div>` : ''}
      `;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        if (notification.parentElement) {
          notification.parentElement.removeChild(notification);
        }
      }, 5000);
    }
    
    // ì‹œì¥ ì´ë²¤íŠ¸ ì²´í¬
    function checkMarketEvent() {
      if (marketEventEndTime > 0 && Date.now() >= marketEventEndTime) {
        currentMarketEvent = null;
        marketEventEndTime = 0;
        addLog('ğŸ“‰ ì‹œì¥ ì´ë²¤íŠ¸ê°€ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
      }
    }
    
    // í˜„ì¬ ì‹œì¥ ì´ë²¤íŠ¸ íš¨ê³¼ ì ìš©
    function getMarketEventMultiplier(type, category) {
      if (!currentMarketEvent || !currentMarketEvent.effects) {
        return 1.0;
      }
      
      const effects = currentMarketEvent.effects[category];
      if (!effects || !effects[type]) {
        return 1.0;
      }
      
      return effects[type];
    }
    
    // ë¦¬ìŠ¤í¬ ë ˆë²¨ì— ë”°ë¥¸ í´ë˜ìŠ¤ëª… ë°˜í™˜
    function getRiskClass(level) {
      if (level <= 1) return 'risk-low';
      if (level <= 2) return 'risk-medium';
      if (level <= 3) return 'risk-high';
      return 'risk-extreme';
    }
    
    // ë¦¬ìŠ¤í¬ ë ˆë²¨ì— ë”°ë¥¸ ë°” í´ë˜ìŠ¤ëª… ë°˜í™˜
    function getRiskBarClass(level) {
      if (level <= 1) return 'low';
      if (level <= 2) return 'medium';
      if (level <= 3) return 'high';
      return 'extreme';
    }
    
    // ë¦¬ìŠ¤í¬ ì •ë³´ HTML ìƒì„±
    function createRiskIndicator(level, name) {
      const riskClass = getRiskClass(level);
      const barClass = getRiskBarClass(level);
      
      return `
        <div class="risk-indicator">
          <span class="risk-level ${riskClass}">${name}</span>
          <div class="risk-bar">
            <div class="risk-fill ${barClass}"></div>
          </div>
        </div>
      `;
    }
    
    // ê¸ˆìœµìƒí’ˆ ë¦¬ìŠ¤í¬ ì •ë³´ ì—…ë°ì´íŠ¸
    function updateFinancialRiskInfo() {
      const financialProducts = ['deposit', 'savings', 'bond', 'usStock', 'crypto'];
      
      financialProducts.forEach(product => {
        const risk = FINANCIAL_RISK[product];
        const productElement = document.getElementById(`${product}Item`);
        
        if (productElement) {
          // ê¸°ì¡´ ë¦¬ìŠ¤í¬ ì •ë³´ ì œê±°
          const existingRisk = productElement.querySelector('.product-risk-info');
          if (existingRisk) {
            existingRisk.remove();
          }
          
          // ìƒˆë¡œìš´ ë¦¬ìŠ¤í¬ ì •ë³´ ì¶”ê°€
          const riskInfo = document.createElement('div');
          riskInfo.className = 'product-risk-info';
          riskInfo.innerHTML = createRiskIndicator(risk.level, risk.name);
          productElement.appendChild(riskInfo);
        }
      });
    }
    
    // ë¶€ë™ì‚° ë¦¬ìŠ¤í¬ ì •ë³´ ì—…ë°ì´íŠ¸
    function updatePropertyRiskInfo() {
      const properties = ['villa', 'officetel', 'apartment', 'shop', 'building'];
      
      properties.forEach(property => {
        const risk = PROPERTY_RISK[property];
        const propertyElement = document.getElementById(`${property}Item`);
        
        if (propertyElement) {
          // ê¸°ì¡´ ë¦¬ìŠ¤í¬ ì •ë³´ ì œê±°
          const existingRisk = propertyElement.querySelector('.product-risk-info');
          if (existingRisk) {
            existingRisk.remove();
          }
          
          // ìƒˆë¡œìš´ ë¦¬ìŠ¤í¬ ì •ë³´ ì¶”ê°€
          const riskInfo = document.createElement('div');
          riskInfo.className = 'product-risk-info';
          riskInfo.innerHTML = createRiskIndicator(risk.level, risk.name);
          propertyElement.appendChild(riskInfo);
        }
      });
    }
    
    // ì—…ì  ì²´í¬
    function checkAchievements() {
      ACHIEVEMENTS.forEach(achievement => {
        if (!achievement.unlocked && achievement.condition()) {
          achievement.unlocked = true;
          showAchievementNotification(achievement);
          addLog(`ğŸ† ì—…ì  ë‹¬ì„±: ${achievement.name} - ${achievement.desc}`);
        }
      });
    }
    
    // ì—…ì  ì•Œë¦¼ í‘œì‹œ
    function showAchievementNotification(achievement) {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, #FFD700, #FFA500);
        color: #000;
        padding: 20px 30px;
        border-radius: 15px;
        font-weight: bold;
        z-index: 2000;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        animation: achievementPop 1s ease-out;
      `;
      notification.innerHTML = `
        <div style="font-size: 24px; margin-bottom: 10px;">ğŸ†</div>
        <div style="font-size: 18px; margin-bottom: 5px;">${achievement.name}</div>
        <div style="font-size: 14px; opacity: 0.8;">${achievement.desc}</div>
      `;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        if (notification.parentElement) {
          notification.parentElement.removeChild(notification);
        }
      }, 3000);
    }
    
    // ======= ì—…ê·¸ë ˆì´ë“œ ì‹œìŠ¤í…œ í•¨ìˆ˜ =======
    
    // ì—…ê·¸ë ˆì´ë“œ í•´ê¸ˆ ì¡°ê±´ ì²´í¬
    function checkUpgradeUnlocks() {
      let newUnlocks = 0;
      
      for (const [id, upgrade] of Object.entries(UPGRADES)) {
        // ì´ë¯¸ êµ¬ë§¤í–ˆê±°ë‚˜ í•´ê¸ˆëœ ê²½ìš° ìŠ¤í‚µ
        if (upgrade.purchased || upgrade.unlocked) continue;
        
        // í•´ê¸ˆ ì¡°ê±´ ì²´í¬
        try {
          if (upgrade.unlockCondition()) {
            upgrade.unlocked = true;
            newUnlocks++;
            addLog(`ğŸ ìƒˆ ì—…ê·¸ë ˆì´ë“œ í•´ê¸ˆ: ${upgrade.name}`);
          }
        } catch (error) {
          console.error(`ì—…ê·¸ë ˆì´ë“œ í•´ê¸ˆ ì¡°ê±´ ì²´í¬ ì‹¤íŒ¨ (${id}):`, error);
        }
      }
      
      if (newUnlocks > 0) {
        updateUpgradeList();
      }
    }
    
    // ì—…ê·¸ë ˆì´ë“œ êµ¬ë§¤ ê°€ëŠ¥ ì—¬ë¶€ë§Œ ì—…ë°ì´íŠ¸ (ì„±ëŠ¥ ìµœì í™”)
    function updateUpgradeAffordability() {
      const upgradeItems = document.querySelectorAll('.upgrade-item');
      
      upgradeItems.forEach(item => {
        const upgradeId = item.dataset.upgradeId;
        const upgrade = UPGRADES[upgradeId];
        
        if (upgrade && !upgrade.purchased) {
          // êµ¬ë§¤ ê°€ëŠ¥ ì—¬ë¶€ì— ë”°ë¼ í´ë˜ìŠ¤ë§Œ í† ê¸€
          if (cash >= upgrade.cost) {
            item.classList.add('affordable');
          } else {
            item.classList.remove('affordable');
          }
        }
      });
    }
    
    // ì—…ê·¸ë ˆì´ë“œ ë¦¬ìŠ¤íŠ¸ UI ìƒì„± (í•´ê¸ˆ/êµ¬ë§¤ ì‹œì—ë§Œ í˜¸ì¶œ)
    function updateUpgradeList() {
      const upgradeList = document.getElementById('upgradeList');
      const upgradeCount = document.getElementById('upgradeCount');
      
      if (!upgradeList || !upgradeCount) return;
      
      // í•´ê¸ˆë˜ì—ˆê³  ì•„ì§ êµ¬ë§¤í•˜ì§€ ì•Šì€ ì—…ê·¸ë ˆì´ë“œë§Œ í‘œì‹œ
      const availableUpgrades = Object.entries(UPGRADES)
        .filter(([id, upgrade]) => upgrade.unlocked && !upgrade.purchased);
      
      upgradeCount.textContent = `(${availableUpgrades.length})`;
      
      if (availableUpgrades.length === 0) {
        upgradeList.innerHTML = '';
        return;
      }
      
      upgradeList.innerHTML = '';
      
      console.log(`ğŸ”„ Regenerating upgrade list with ${availableUpgrades.length} items`);
      
      availableUpgrades.forEach(([id, upgrade]) => {
        const item = document.createElement('div');
        item.className = 'upgrade-item';
        item.dataset.upgradeId = id;
        
        // êµ¬ë§¤ ê°€ëŠ¥ ì—¬ë¶€ ì²´í¬
        if (cash >= upgrade.cost) {
          item.classList.add('affordable');
        }
        
        // ì•„ì´ì½˜ ìƒì„±
        const icon = document.createElement('div');
        icon.className = 'upgrade-icon';
        icon.textContent = upgrade.icon;
        
        // ì •ë³´ ì˜ì—­ ìƒì„±
        const info = document.createElement('div');
        info.className = 'upgrade-info';
        
        const name = document.createElement('div');
        name.className = 'upgrade-name';
        name.textContent = upgrade.name;
        
        const desc = document.createElement('div');
        desc.className = 'upgrade-desc';
        desc.textContent = upgrade.desc;
        
        const cost = document.createElement('div');
        cost.className = 'upgrade-cost';
        cost.textContent = formatFinancialPrice(upgrade.cost);
        
        info.appendChild(name);
        info.appendChild(desc);
        info.appendChild(cost);
        
        // ìƒíƒœ ë°°ì§€ ìƒì„±
        const status = document.createElement('div');
        status.className = 'upgrade-status';
        status.textContent = 'NEW!';
        
        // ìš”ì†Œ ì¡°ë¦½
        item.appendChild(icon);
        item.appendChild(info);
        item.appendChild(status);
        
        // í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€ (ìº¡ì²˜ë§ ë‹¨ê³„ì—ì„œ ì²˜ë¦¬)
        item.addEventListener('click', (e) => {
          e.stopPropagation();
          console.log('ğŸ–±ï¸ Upgrade item clicked!', id);
          console.log('Event target:', e.target);
          console.log('Current item:', item);
          console.log('Dataset:', item.dataset);
          purchaseUpgrade(id);
        }, false);
        
        // ì¶”ê°€ ë³´í—˜: mousedown ì´ë²¤íŠ¸ë„ ì¶”ê°€
        item.addEventListener('mousedown', (e) => {
          console.log('ğŸ–±ï¸ Mousedown detected on upgrade:', id);
        });
        
        upgradeList.appendChild(item);
        
        console.log(`âœ… Upgrade item created and appended: ${id}`, item);
      });
    }
    
    // ì—…ê·¸ë ˆì´ë“œ êµ¬ë§¤
    function purchaseUpgrade(upgradeId) {
      console.log('=== PURCHASE UPGRADE DEBUG ===');
      console.log('Attempting to purchase:', upgradeId);
      console.log('Current cash:', cash);
      
      const upgrade = UPGRADES[upgradeId];
      
      if (!upgrade) {
        console.error('ì—…ê·¸ë ˆì´ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', upgradeId);
        console.log('Available upgrade IDs:', Object.keys(UPGRADES));
        return;
      }
      
      console.log('Upgrade found:', {
        name: upgrade.name,
        cost: upgrade.cost,
        unlocked: upgrade.unlocked,
        purchased: upgrade.purchased
      });
      
      if (upgrade.purchased) {
        addLog('âŒ ì´ë¯¸ êµ¬ë§¤í•œ ì—…ê·¸ë ˆì´ë“œì…ë‹ˆë‹¤.');
        console.log('Already purchased');
        return;
      }
      
      if (cash < upgrade.cost) {
        addLog(`ğŸ’¸ ìê¸ˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤. (í•„ìš”: ${formatFinancialPrice(upgrade.cost)})`);
        console.log('Not enough cash. Need:', upgrade.cost, 'Have:', cash);
        return;
      }
      
      // êµ¬ë§¤ ì²˜ë¦¬
      console.log('Purchase successful! Applying effect...');
      cash -= upgrade.cost;
      upgrade.purchased = true;
      
      try {
        upgrade.effect(); // íš¨ê³¼ ì ìš©
        addLog(`âœ… ${upgrade.name} êµ¬ë§¤! ${upgrade.desc}`);
        console.log('Effect applied successfully');
      } catch (error) {
        console.error(`ì—…ê·¸ë ˆì´ë“œ íš¨ê³¼ ì ìš© ì‹¤íŒ¨ (${upgradeId}):`, error);
        addLog(`âš ï¸ ${upgrade.name} êµ¬ë§¤í–ˆì§€ë§Œ íš¨ê³¼ ì ìš© ì¤‘ ì˜¤ë¥˜ ë°œìƒ`);
      }
      
      console.log('New cash:', cash);
      console.log('==============================');
      
      // UI ì—…ë°ì´íŠ¸
      updateUpgradeList();
      updateUI();
      saveGame();
    }
    
    // êµ¬ë§¤ ê°€ëŠ¥ ì•Œë¦¼ ì²´í¬
    
    
    function getClickIncome() {
      const currentCareer = getCurrentCareer();
      return Math.floor(10000 * currentCareer.multiplier * clickMultiplier); // ê¸°ë³¸ 1ë§Œì› Ã— ë°°ìˆ˜
    }
    
    function getCurrentCareer() {
      return CAREER_LEVELS[careerLevel];
    }
    
    function getNextCareer() {
      return careerLevel < CAREER_LEVELS.length - 1 ? CAREER_LEVELS[careerLevel + 1] : null;
    }
    
    // ìë™ ìŠ¹ì§„ ì²´í¬ í•¨ìˆ˜ (í´ë¦­ ìˆ˜ ê¸°ì¤€)
    function checkCareerPromotion() {
      const nextCareer = getNextCareer();
      if (nextCareer && totalClicks >= nextCareer.requiredClicks) {
        careerLevel += 1;
        const newCareer = getCurrentCareer();
        const clickIncome = getClickIncome();
        addLog(`ğŸ‰ ${newCareer.name}ìœ¼ë¡œ ìŠ¹ì§„í–ˆìŠµë‹ˆë‹¤! (í´ë¦­ë‹¹ ${formatKoreanNumber(clickIncome)}ì›)`);
        
        // ìŠ¹ì§„ í›„ ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸
        console.log('=== PROMOTION DEBUG ===');
        console.log('Promoted to:', newCareer.name);
        console.log('New career level:', careerLevel);
        console.log('New multiplier:', newCareer.multiplier);
        console.log('Click income:', formatKoreanNumber(clickIncome));
        console.log('======================');
        
        return true;
      }
      return false;
    }
    
    // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸ í•¨ìˆ˜ (Cookie Clicker ìŠ¤íƒ€ì¼)
    function updateButtonStates() {
      const qty = purchaseQuantity;
      const isBuy = purchaseMode === 'buy';
      
      // ê¸ˆìœµìƒí’ˆ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
      const depositCanBuy = isBuy && cash >= getFinancialCost('deposit', deposits, qty);
      const savingsCanBuy = isBuy && cash >= getFinancialCost('savings', savings, qty);
      const bondCanBuy = isBuy && cash >= getFinancialCost('bond', bonds, qty);
      const usStockCanBuy = isBuy && cash >= getFinancialCost('usStock', usStocks, qty);
      const cryptoCanBuy = isBuy && cash >= getFinancialCost('crypto', cryptos, qty);
      
      elBuyDeposit.classList.toggle('affordable', depositCanBuy);
      elBuyDeposit.classList.toggle('unaffordable', isBuy && !depositCanBuy);
      elBuySavings.classList.toggle('affordable', savingsCanBuy);
      elBuySavings.classList.toggle('unaffordable', isBuy && !savingsCanBuy);
      elBuyBond.classList.toggle('affordable', bondCanBuy);
      elBuyBond.classList.toggle('unaffordable', isBuy && !bondCanBuy);
      elBuyUsStock.classList.toggle('affordable', usStockCanBuy);
      elBuyUsStock.classList.toggle('unaffordable', isBuy && !usStockCanBuy);
      elBuyCrypto.classList.toggle('affordable', cryptoCanBuy);
      elBuyCrypto.classList.toggle('unaffordable', isBuy && !cryptoCanBuy);
      
      // ë¶€ë™ì‚° ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
      const villaCanBuy = isBuy && cash >= getPropertyCost('villa', villas, qty);
      const officetelCanBuy = isBuy && cash >= getPropertyCost('officetel', officetels, qty);
      const aptCanBuy = isBuy && cash >= getPropertyCost('apartment', apartments, qty);
      const shopCanBuy = isBuy && cash >= getPropertyCost('shop', shops, qty);
      const buildingCanBuy = isBuy && cash >= getPropertyCost('building', buildings, qty);
      
      elBuyVilla.classList.toggle('affordable', villaCanBuy);
      elBuyVilla.classList.toggle('unaffordable', isBuy && !villaCanBuy);
      elBuyOfficetel.classList.toggle('affordable', officetelCanBuy);
      elBuyOfficetel.classList.toggle('unaffordable', isBuy && !officetelCanBuy);
      elBuyApt.classList.toggle('affordable', aptCanBuy);
      elBuyApt.classList.toggle('unaffordable', isBuy && !aptCanBuy);
      elBuyShop.classList.toggle('affordable', shopCanBuy);
      elBuyShop.classList.toggle('unaffordable', isBuy && !shopCanBuy);
      elBuyBuilding.classList.toggle('affordable', buildingCanBuy);
      elBuyBuilding.classList.toggle('unaffordable', isBuy && !buildingCanBuy);
      
      // ì—…ê·¸ë ˆì´ë“œ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸ (ì œê±°ë¨ - ìƒˆ ì‹œìŠ¤í…œ ì‚¬ìš©)
    }
    
    // ê±´ë¬¼ ëª©ë¡ ìƒ‰ìƒ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    function updateBuildingItemStates() {
      const qty = purchaseQuantity;
      const isBuy = purchaseMode === 'buy';
      
      // ê¸ˆìœµìƒí’ˆ ì•„ì´í…œ ìƒíƒœ ì—…ë°ì´íŠ¸ (êµ¬ë§¤ ëª¨ë“œì¼ ë•Œë§Œ affordable ì ìš©)
      const depositItem = document.getElementById('depositItem');
      const savingsItem = document.getElementById('savingsItem');
      const bondItem = document.getElementById('bondItem');
      const usStockItem = document.getElementById('usStockItem');
      const cryptoItem = document.getElementById('cryptoItem');
      
      depositItem.classList.toggle('affordable', isBuy && cash >= getFinancialCost('deposit', deposits, qty));
      savingsItem.classList.toggle('affordable', isBuy && cash >= getFinancialCost('savings', savings, qty));
      bondItem.classList.toggle('affordable', isBuy && cash >= getFinancialCost('bond', bonds, qty));
      usStockItem.classList.toggle('affordable', isBuy && cash >= getFinancialCost('usStock', usStocks, qty));
      cryptoItem.classList.toggle('affordable', isBuy && cash >= getFinancialCost('crypto', cryptos, qty));
      
      // ë¶€ë™ì‚° ì•„ì´í…œ ìƒíƒœ ì—…ë°ì´íŠ¸ (êµ¬ë§¤ ëª¨ë“œì¼ ë•Œë§Œ affordable ì ìš©)
      const villaItem = document.getElementById('villaItem');
      const officetelItem = document.getElementById('officetelItem');
      const aptItem = document.getElementById('aptItem');
      const shopItem = document.getElementById('shopItem');
      const buildingItem = document.getElementById('buildingItem');
      
      villaItem.classList.toggle('affordable', isBuy && cash >= getPropertyCost('villa', villas, qty));
      officetelItem.classList.toggle('affordable', isBuy && cash >= getPropertyCost('officetel', officetels, qty));
      aptItem.classList.toggle('affordable', isBuy && cash >= getPropertyCost('apartment', apartments, qty));
      shopItem.classList.toggle('affordable', isBuy && cash >= getPropertyCost('shop', shops, qty));
      buildingItem.classList.toggle('affordable', isBuy && cash >= getPropertyCost('building', buildings, qty));
    }
    
    // ì—…ê·¸ë ˆì´ë“œ ê·¸ë¦¬ë“œ ìƒíƒœ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    // êµ¬í˜• updateUpgradeGrid í•¨ìˆ˜ ì œê±°ë¨ - ìƒˆë¡œìš´ updateUpgradeList ì‚¬ìš©
    
    // ê²Œì„ ë°ì´í„° ì €ì¥ í•¨ìˆ˜
    function saveGame() {
      const saveData = {
        cash: cash,
        totalClicks: totalClicks,
        totalLaborIncome: totalLaborIncome,
        careerLevel: careerLevel,
        clickMultiplier: clickMultiplier,
        rentMultiplier: rentMultiplier,
        autoClickEnabled: autoClickEnabled,
        managerLevel: managerLevel,
        rentCost: rentCost,
        mgrCost: mgrCost,
        // ê¸ˆìœµìƒí’ˆ
        deposits: deposits,
        savings: savings,
        bonds: bonds,
        usStocks: usStocks,
        cryptos: cryptos,
        // ê¸ˆìœµìƒí’ˆ ëˆ„ì  ìƒì‚°ëŸ‰
        depositsLifetime: depositsLifetime,
        savingsLifetime: savingsLifetime,
        bondsLifetime: bondsLifetime,
        usStocksLifetime: usStocksLifetime,
        cryptosLifetime: cryptosLifetime,
        // ë¶€ë™ì‚°
        villas: villas,
        officetels: officetels,
        apartments: apartments,
        shops: shops,
        buildings: buildings,
        // ë¶€ë™ì‚° ëˆ„ì  ìƒì‚°ëŸ‰
        villasLifetime: villasLifetime,
        officetelsLifetime: officetelsLifetime,
        apartmentsLifetime: apartmentsLifetime,
        shopsLifetime: shopsLifetime,
        buildingsLifetime: buildingsLifetime,
        // ì—…ê·¸ë ˆì´ë“œ (ìƒˆ Cookie Clicker ìŠ¤íƒ€ì¼)
        upgradesV2: Object.fromEntries(
          Object.entries(UPGRADES).map(([id, upgrade]) => [
            id,
            { unlocked: upgrade.unlocked, purchased: upgrade.purchased }
          ])
        ),
        // ì‹œì¥ ì´ë²¤íŠ¸
        marketMultiplier: marketMultiplier,
        marketEventEndTime: marketEventEndTime,
        // ì—…ì 
        achievements: ACHIEVEMENTS,
        // ì €ì¥ ì‹œê°„
        saveTime: new Date().toISOString(),
        ts: Date.now(),
        // ê²Œì„ ì‹œì‘ ì‹œê°„ (í˜¸í™˜ì„± ìœ ì§€)
        gameStartTime: gameStartTime,
        // ëˆ„ì  í”Œë ˆì´ì‹œê°„ ì‹œìŠ¤í…œ
        totalPlayTime: totalPlayTime,
        sessionStartTime: sessionStartTime
      };
      
      try {
        localStorage.setItem(SAVE_KEY, JSON.stringify(saveData));
        lastSaveTime = new Date();
        console.log('ê²Œì„ ì €ì¥ ì™„ë£Œ:', lastSaveTime.toLocaleTimeString());
        updateSaveStatus(); // ì €ì¥ ìƒíƒœ UI ì—…ë°ì´íŠ¸
      } catch (error) {
        console.error('ê²Œì„ ì €ì¥ ì‹¤íŒ¨:', error);
      }
    }
    
    // ê²Œì„ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° í•¨ìˆ˜
    function loadGame() {
      try {
        const saveData = localStorage.getItem(SAVE_KEY);
        if (!saveData) {
          console.log('ì €ì¥ëœ ê²Œì„ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
          // ìƒˆ ê²Œì„ ì‹œì‘ ì‹œ ëˆ„ì  í”Œë ˆì´ì‹œê°„ ì´ˆê¸°í™”
          totalPlayTime = 0;
          sessionStartTime = Date.now();
          return false;
        }
        
        const data = JSON.parse(saveData);
        
        // ê²Œì„ ìƒíƒœ ë³µì›
        cash = data.cash || 0;
        totalClicks = data.totalClicks || 0;
        totalLaborIncome = data.totalLaborIncome || 0;
        careerLevel = data.careerLevel || 0;
        clickMultiplier = data.clickMultiplier || 1;
        rentMultiplier = data.rentMultiplier || 1;
        autoClickEnabled = data.autoClickEnabled || false;
        managerLevel = data.managerLevel || 0;
        rentCost = data.rentCost || 1000000000;
        mgrCost = data.mgrCost || 5000000000;
        
        // ê¸ˆìœµìƒí’ˆ ë³µì›
        deposits = data.deposits || 0;
        savings = data.savings || 0;
        bonds = data.bonds || 0;
        usStocks = data.usStocks || 0;
        cryptos = data.cryptos || 0;
        
        // ê¸ˆìœµìƒí’ˆ ëˆ„ì  ìƒì‚°ëŸ‰ ë³µì›
        depositsLifetime = data.depositsLifetime || 0;
        savingsLifetime = data.savingsLifetime || 0;
        bondsLifetime = data.bondsLifetime || 0;
        usStocksLifetime = data.usStocksLifetime || 0;
        cryptosLifetime = data.cryptosLifetime || 0;
        
        // ë¶€ë™ì‚° ë³µì›
        villas = data.villas || 0;
        officetels = data.officetels || 0;
        apartments = data.apartments || 0;
        shops = data.shops || 0;
        buildings = data.buildings || 0;
        
        // ë¶€ë™ì‚° ëˆ„ì  ìƒì‚°ëŸ‰ ë³µì›
        villasLifetime = data.villasLifetime || 0;
        officetelsLifetime = data.officetelsLifetime || 0;
        apartmentsLifetime = data.apartmentsLifetime || 0;
        shopsLifetime = data.shopsLifetime || 0;
        buildingsLifetime = data.buildingsLifetime || 0;
        
        // ì—…ê·¸ë ˆì´ë“œ ë³µì› (ìƒˆ Cookie Clicker ìŠ¤íƒ€ì¼)
        if (data.upgradesV2) {
          for (const [id, state] of Object.entries(data.upgradesV2)) {
            if (UPGRADES[id]) {
              UPGRADES[id].unlocked = state.unlocked;
              UPGRADES[id].purchased = state.purchased;
              
              // íš¨ê³¼ ì¬ì ìš© ì œê±°: clickMultiplier ë“±ì€ ì´ë¯¸ ì €ì¥ëœ ê°’ìœ¼ë¡œ ë³µì›ë˜ë¯€ë¡œ ì¤‘ë³µ ì ìš© ë¶ˆí•„ìš”
              // ì¤‘ë³µ ì ìš© ì‹œ ìƒˆë¡œê³ ì¹¨í•  ë•Œë§ˆë‹¤ ë°°ìˆ˜ê°€ ê³„ì† ê³±í•´ì§€ëŠ” ë²„ê·¸ ë°œìƒ
            }
          }
        }
        
        // ì‹œì¥ ì´ë²¤íŠ¸ ë³µì›
        marketMultiplier = data.marketMultiplier || 1;
        marketEventEndTime = data.marketEventEndTime || 0;
        
        // ì—…ì  ë³µì›
        if (data.achievements) {
          ACHIEVEMENTS.forEach((achievement, index) => {
            if (data.achievements[index]) {
              achievement.unlocked = data.achievements[index].unlocked;
            }
          });
        }
        
        // ê²Œì„ ì‹œì‘ ì‹œê°„ ë³µì› (í˜¸í™˜ì„± ìœ ì§€)
        if (data.gameStartTime) {
          gameStartTime = data.gameStartTime;
        }
        
        // ëˆ„ì  í”Œë ˆì´ì‹œê°„ ì‹œìŠ¤í…œ ë³µì›
        if (data.totalPlayTime !== undefined) {
          totalPlayTime = data.totalPlayTime;
          console.log('ğŸ• ì´ì „ ëˆ„ì  í”Œë ˆì´ì‹œê°„ ë³µì›:', totalPlayTime, 'ms');
        }
        if (data.sessionStartTime) {
          // ì´ì „ ì„¸ì…˜ì˜ í”Œë ˆì´ì‹œê°„ì„ ëˆ„ì 
          const previousSessionTime = Date.now() - data.sessionStartTime;
          totalPlayTime += previousSessionTime;
          console.log('ğŸ• ì´ì „ ì„¸ì…˜ í”Œë ˆì´ì‹œê°„ ëˆ„ì :', previousSessionTime, 'ms');
        }
        // ìƒˆ ì„¸ì…˜ ì‹œì‘
        sessionStartTime = Date.now();
        console.log('ğŸ• ìƒˆ ì„¸ì…˜ ì‹œì‘:', new Date(sessionStartTime).toLocaleString());
        console.log('ğŸ• ì´ ëˆ„ì  í”Œë ˆì´ì‹œê°„:', totalPlayTime, 'ms');
        
        console.log('ê²Œì„ ë¶ˆëŸ¬ì˜¤ê¸° ì™„ë£Œ:', data.saveTime ? new Date(data.saveTime).toLocaleString() : 'ì‹œê°„ ì •ë³´ ì—†ìŒ');
        return true;
      } catch (error) {
        console.error('ê²Œì„ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:', error);
        return false;
      }
    }
    
    // ê²Œì„ ì´ˆê¸°í™” í•¨ìˆ˜
    function resetGame() {
      console.log('ğŸ”„ resetGame function called'); // ë””ë²„ê¹…ìš©
      console.log('ğŸ”„ About to show confirm dialog'); // ë””ë²„ê¹…ìš©
      
      // ê°„ë‹¨í•˜ê³  ëª…í™•í•œ í™•ì¸ ë©”ì‹œì§€
      const userConfirmed = confirm('ğŸ”„ ê²Œì„ì„ ìƒˆë¡œ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nâš ï¸ ëª¨ë“  ì§„í–‰ ìƒí™©ì´ ì‚­ì œë˜ë©° ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      
      console.log('ğŸ”„ User response:', userConfirmed); // ë””ë²„ê¹…ìš©
      
      if (userConfirmed === true) {
        try {
          // ì´ˆê¸°í™” ì§„í–‰ ë©”ì‹œì§€
          addLog('ğŸ”„ ê²Œì„ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤...');
          console.log('âœ… User confirmed reset'); // ë””ë²„ê¹…ìš©
          
          // ì €ì¥ ë°ì´í„° ì‚­ì œ
          localStorage.removeItem(SAVE_KEY);
          console.log('âœ… LocalStorage cleared'); // ë””ë²„ê¹…ìš©
          
          // ì¦‰ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
          console.log('âœ… Reloading page...'); // ë””ë²„ê¹…ìš©
          location.reload();
        } catch (error) {
          console.error('âŒ Error in resetGame:', error);
          alert('ê²Œì„ ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');
        }
      } else {
        console.log('âŒ User cancelled reset'); // ë””ë²„ê¹…ìš©
        addLog('âŒ ê²Œì„ ì´ˆê¸°í™”ê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.');
      }
    }
    
    // êµ¬ë§¤ ì™„ë£Œ ì‹œ ë°˜ì§ íš¨ê³¼ í•¨ìˆ˜
    function showPurchaseSuccess(element) {
      // ê¸°ì¡´ í´ë˜ìŠ¤ ì œê±°
      element.classList.remove('purchase-success');
      
      // ê°•ì œ ë¦¬í”Œë¡œìš°
      element.offsetHeight;
      
      // ìƒˆ í´ë˜ìŠ¤ ì¶”ê°€
      element.classList.add('purchase-success');
      
      setTimeout(() => {
        element.classList.remove('purchase-success');
      }, 600);
    }
    
    // ì €ì¥ ìƒíƒœ UI ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    function updateSaveStatus() {
      if (elSaveStatus) {
        const timeStr = lastSaveTime.toLocaleTimeString('ko-KR', { 
          hour: '2-digit', 
          minute: '2-digit' 
        });
        elSaveStatus.textContent = `ì €ì¥ë¨ Â· ${timeStr}`;
      }
    }

    function updateUI(){
      // --- (A) ì»¤ë¦¬ì–´ ì§„í–‰ë¥  ê°±ì‹ ì„ ìµœìš°ì„ ìœ¼ë¡œ ---
      try {
        // totalClicks ê°’ ìœ íš¨ì„± ê²€ì‚¬
        if (typeof totalClicks !== 'number' || totalClicks < 0) {
          console.warn('Invalid totalClicks value:', totalClicks, 'resetting to 0');
          totalClicks = 0;
        }
        
        const currentCareer = getCurrentCareer();
        const nextCareer = getNextCareer();
        
        if (!currentCareer) {
          console.error('getCurrentCareer() returned null/undefined');
          return;
        }
        
        safeText(elCurrentCareer, currentCareer.name);
        safeText(elClickIncomeButton, formatKoreanNumber(getClickIncome()));
        safeText(elClickIncomeLabel, formatKoreanNumber(getClickIncome()));
        
        if (nextCareer) {
          safeText(elNextCareerDesc, `ë‹¤ìŒ: ${nextCareer.name} (${nextCareer.multiplier}ë°° ìˆ˜ìµ)`);
          safeText(elCareerCost, `${nextCareer.requiredClicks}í´ë¦­ í•„ìš”`);
          
          // ìŠ¹ì§„ ì§„í–‰ë¥  ê³„ì‚° ë° í‘œì‹œ
          const progress = Math.min((totalClicks / nextCareer.requiredClicks) * 100, 100);
          if (elCareerProgress) elCareerProgress.style.width = progress + '%';
          safeText(elCareerProgressText, `ìŠ¹ì§„ ì§„í–‰ë¥ : ${progress.toFixed(1)}% (${totalClicks}/${nextCareer.requiredClicks}í´ë¦­)`);
          
          // ë””ë²„ê¹…: ìŠ¹ì§„ ì§„í–‰ë¥  í™•ì¸ (ê°•í™”ëœ ë¡œê¹…)
          console.log('=== CAREER PROGRESS DEBUG ===');
          console.log('totalClicks:', totalClicks);
          console.log('nextCareer.requiredClicks:', nextCareer.requiredClicks);
          console.log('progress:', progress);
          console.log('currentCareer:', currentCareer.name);
          console.log('nextCareer:', nextCareer.name);
          console.log('=============================');
        } else {
          safeText(elNextCareerDesc, "ìµœê³  ì§ê¸‰ ë‹¬ì„±!");
          safeText(elCareerCost, "ì™„ë£Œ");
          if (elCareerProgress) elCareerProgress.style.width = '100%';
          safeText(elCareerProgressText, "ìŠ¹ì§„ ì§„í–‰ë¥ : 100%");
        }
      } catch (e) {
        console.error('Career UI update failed:', e);
        console.error('Error details:', {
          totalClicks,
          careerLevel,
          currentCareer: getCurrentCareer(),
          nextCareer: getNextCareer()
        });
      }
      
      // --- (B) ë‚˜ë¨¸ì§€ UI ê°±ì‹  (ê¸ˆìœµ/ë¶€ë™ì‚°/ì—…ê·¸ë ˆì´ë“œ ë“±) ---
      safeText(elCash, formatCashDisplay(cash));
      // ê¸ˆìœµìƒí’ˆ ì§‘ê³„ ë° íˆ´íŒ
      const totalFinancial = getTotalFinancialProducts();
      safeText(elFinancial, formatKoreanNumber(totalFinancial));
      const financialChip = document.getElementById('financialChip');
      if (financialChip) {
        const tooltip = `ì˜ˆê¸ˆ: ${deposits}ê°œ\nì ê¸ˆ: ${savings}ê°œ\nêµ­ë‚´ì£¼ì‹: ${bonds}ê°œ\në¯¸êµ­ì£¼ì‹: ${usStocks}ê°œ\nì½”ì¸: ${cryptos}ê°œ`;
        financialChip.setAttribute('title', tooltip);
      }
      
      // ë¶€ë™ì‚° ì§‘ê³„ ë° íˆ´íŒ
      const totalProperties = getTotalProperties();
      safeText(elProperties, formatKoreanNumber(totalProperties));
      const propertyChip = document.getElementById('propertyChip');
      if (propertyChip) {
        const tooltip = `ë¹Œë¼: ${villas}ì±„\nì˜¤í”¼ìŠ¤í…”: ${officetels}ì±„\nì•„íŒŒíŠ¸: ${apartments}ì±„\nìƒê°€: ${shops}ì±„\në¹Œë”©: ${buildings}ì±„`;
        propertyChip.setAttribute('title', tooltip);
      }
      
      // ì´ˆë‹¹ ìˆ˜ìµ ë° íˆ´íŒ
      const rpsValue = getRps();
      safeText(elRps, formatKoreanNumber(rpsValue));
      const rpsChip = document.getElementById('rpsChip');
      if (rpsChip) {
        const financialIncome = deposits * FINANCIAL_INCOME.deposit + 
                                savings * FINANCIAL_INCOME.savings + 
                                bonds * FINANCIAL_INCOME.bond;
        const propertyIncome = (villas * BASE_RENT.villa +
                                officetels * BASE_RENT.officetel +
                                apartments * BASE_RENT.apartment +
                                shops * BASE_RENT.shop +
                                buildings * BASE_RENT.building) * rentMultiplier;
        
        const tooltip = `ê¸ˆìœµ ìˆ˜ìµ: ${formatKoreanNumber(financialIncome)}â‚©/s\në¶€ë™ì‚° ìˆ˜ìµ: ${formatKoreanNumber(propertyIncome)}â‚©/s\nì‹œì¥ë°°ìˆ˜: x${marketMultiplier}`;
        rpsChip.setAttribute('title', tooltip);
      }
      
      safeText(elClickMultiplier, clickMultiplier.toFixed(1));
      safeText(elRentMultiplier, rentMultiplier.toFixed(1));
      
      // ë””ë²„ê¹…: ì „ì²´ ê²Œì„ ìƒíƒœ í™•ì¸
      console.log('=== GAME STATE DEBUG ===');
      console.log('Cash:', cash);
      console.log('Total clicks:', totalClicks);
      console.log('Career level:', careerLevel);
      console.log('Financial products:', { deposits, savings, bonds, total: getTotalFinancialProducts() });
      console.log('Properties:', { villas, officetels, apartments, shops, buildings, total: getTotalProperties() });
      console.log('========================');
      
      // ê¸ˆìœµìƒí’ˆ UI ì—…ë°ì´íŠ¸ (ë™ì  ê°€ê²© ê³„ì‚°) - ì•ˆì „ì¥ì¹˜ ì¶”ê°€
      try {
        // ê¸ˆìœµìƒí’ˆ ë³€ìˆ˜ ìœ íš¨ì„± ê²€ì‚¬
        if (typeof deposits !== 'number' || deposits < 0) {
          console.warn('Invalid deposits value:', deposits, 'resetting to 0');
          deposits = 0;
        }
        if (typeof savings !== 'number' || savings < 0) {
          console.warn('Invalid savings value:', savings, 'resetting to 0');
          savings = 0;
        }
        if (typeof bonds !== 'number' || bonds < 0) {
          console.warn('Invalid bonds value:', bonds, 'resetting to 0');
          bonds = 0;
        }
        
        const totalRps = getRps();
        
        // ì˜ˆê¸ˆ ì—…ë°ì´íŠ¸
        const depositCost = purchaseMode === 'buy' 
          ? getFinancialCost('deposit', deposits, purchaseQuantity)
          : getFinancialSellPrice('deposit', deposits, purchaseQuantity);
        const depositTotalIncome = deposits * FINANCIAL_INCOME.deposit;
        const depositPercent = totalRps > 0 ? ((depositTotalIncome / totalRps) * 100).toFixed(1) : 0;
        
        elDepositCount.textContent = deposits;
        elIncomePerDeposit.textContent = Math.floor(FINANCIAL_INCOME.deposit).toLocaleString('ko-KR') + 'ì›';
        document.getElementById('depositTotalIncome').textContent = Math.floor(depositTotalIncome).toLocaleString('ko-KR') + 'ì›';
        document.getElementById('depositPercent').textContent = depositPercent + '%';
        document.getElementById('depositLifetime').textContent = formatCashDisplay(depositsLifetime);
        elDepositCurrentPrice.textContent = formatFinancialPrice(depositCost);
        
        // ì ê¸ˆ ì—…ë°ì´íŠ¸
        const savingsCost = purchaseMode === 'buy'
          ? getFinancialCost('savings', savings, purchaseQuantity)
          : getFinancialSellPrice('savings', savings, purchaseQuantity);
        const savingsTotalIncome = savings * FINANCIAL_INCOME.savings;
        const savingsPercent = totalRps > 0 ? ((savingsTotalIncome / totalRps) * 100).toFixed(1) : 0;
        
        elSavingsCount.textContent = savings;
        elIncomePerSavings.textContent = Math.floor(FINANCIAL_INCOME.savings).toLocaleString('ko-KR') + 'ì›';
        document.getElementById('savingsTotalIncome').textContent = Math.floor(savingsTotalIncome).toLocaleString('ko-KR') + 'ì›';
        document.getElementById('savingsPercent').textContent = savingsPercent + '%';
        document.getElementById('savingsLifetimeDisplay').textContent = formatCashDisplay(savingsLifetime);
        elSavingsCurrentPrice.textContent = formatFinancialPrice(savingsCost);
        
        // ì£¼ì‹ ì—…ë°ì´íŠ¸
        const bondCost = purchaseMode === 'buy'
          ? getFinancialCost('bond', bonds, purchaseQuantity)
          : getFinancialSellPrice('bond', bonds, purchaseQuantity);
        const bondTotalIncome = bonds * FINANCIAL_INCOME.bond;
        const bondPercent = totalRps > 0 ? ((bondTotalIncome / totalRps) * 100).toFixed(1) : 0;
        
        elBondCount.textContent = bonds;
        elIncomePerBond.textContent = Math.floor(FINANCIAL_INCOME.bond).toLocaleString('ko-KR') + 'ì›';
        document.getElementById('bondTotalIncome').textContent = Math.floor(bondTotalIncome).toLocaleString('ko-KR') + 'ì›';
        document.getElementById('bondPercent').textContent = bondPercent + '%';
        document.getElementById('bondLifetimeDisplay').textContent = formatCashDisplay(bondsLifetime);
        elBondCurrentPrice.textContent = formatFinancialPrice(bondCost);
        
        // ë¯¸êµ­ì£¼ì‹ ì—…ë°ì´íŠ¸
        const usStockCost = purchaseMode === 'buy'
          ? getFinancialCost('usStock', usStocks, purchaseQuantity)
          : getFinancialSellPrice('usStock', usStocks, purchaseQuantity);
        const usStockTotalIncome = usStocks * FINANCIAL_INCOME.usStock;
        const usStockPercent = totalRps > 0 ? ((usStockTotalIncome / totalRps) * 100).toFixed(1) : 0;
        
        document.getElementById('usStockCount').textContent = usStocks;
        document.getElementById('incomePerUsStock').textContent = Math.floor(FINANCIAL_INCOME.usStock).toLocaleString('ko-KR') + 'ì›';
        document.getElementById('usStockTotalIncome').textContent = Math.floor(usStockTotalIncome).toLocaleString('ko-KR') + 'ì›';
        document.getElementById('usStockPercent').textContent = usStockPercent + '%';
        document.getElementById('usStockLifetimeDisplay').textContent = formatCashDisplay(usStocksLifetime);
        document.getElementById('usStockCurrentPrice').textContent = formatFinancialPrice(usStockCost);
        
        // ì½”ì¸ ì—…ë°ì´íŠ¸
        const cryptoCost = purchaseMode === 'buy'
          ? getFinancialCost('crypto', cryptos, purchaseQuantity)
          : getFinancialSellPrice('crypto', cryptos, purchaseQuantity);
        const cryptoTotalIncome = cryptos * FINANCIAL_INCOME.crypto;
        const cryptoPercent = totalRps > 0 ? ((cryptoTotalIncome / totalRps) * 100).toFixed(1) : 0;
        
        document.getElementById('cryptoCount').textContent = cryptos;
        document.getElementById('incomePerCrypto').textContent = Math.floor(FINANCIAL_INCOME.crypto).toLocaleString('ko-KR') + 'ì›';
        document.getElementById('cryptoTotalIncome').textContent = Math.floor(cryptoTotalIncome).toLocaleString('ko-KR') + 'ì›';
        document.getElementById('cryptoPercent').textContent = cryptoPercent + '%';
        document.getElementById('cryptoLifetimeDisplay').textContent = formatCashDisplay(cryptosLifetime);
        document.getElementById('cryptoCurrentPrice').textContent = formatFinancialPrice(cryptoCost);
        
        // ë””ë²„ê¹…: ê¸ˆìœµìƒí’ˆ ì¹´ìš´íŠ¸ í™•ì¸ (ê°•í™”ëœ ë¡œê¹…)
        console.log('=== FINANCIAL PRODUCTS DEBUG ===');
        console.log('Financial counts:', { deposits, savings, bonds, usStocks, cryptos });
        console.log('Total financial products:', getTotalFinancialProducts());
        console.log('Financial elements:', {
          depositCount: elDepositCount,
          savingsCount: elSavingsCount,
          bondCount: elBondCount
        });
        console.log('================================');
      } catch (e) {
        console.error('Financial products UI update failed:', e);
        console.error('Error details:', { deposits, savings, bonds });
      }
      
      // ë¶€ë™ì‚° êµ¬ì… UI ì—…ë°ì´íŠ¸ (ë™ì  ê°€ê²© ê³„ì‚°)
      const totalRps2 = getRps(); // ë¶€ë™ì‚°ìš© RPS ê³„ì‚°
      
      // ë¹Œë¼
      const villaCost = purchaseMode === 'buy'
        ? getPropertyCost('villa', villas, purchaseQuantity)
        : getPropertySellPrice('villa', villas, purchaseQuantity);
      const villaTotalIncome = villas * BASE_RENT.villa;
      const villaPercent = totalRps2 > 0 ? ((villaTotalIncome / totalRps2) * 100).toFixed(1) : 0;
      
      elVillaCount.textContent = villas;
      elRentPerVilla.textContent = Math.floor(BASE_RENT.villa).toLocaleString('ko-KR') + 'ì›';
      document.getElementById('villaTotalIncome').textContent = Math.floor(villaTotalIncome).toLocaleString('ko-KR') + 'ì›';
      document.getElementById('villaPercent').textContent = villaPercent + '%';
      document.getElementById('villaLifetimeDisplay').textContent = formatCashDisplay(villasLifetime);
      elVillaCurrentPrice.textContent = formatPropertyPrice(villaCost);
      
      // ì˜¤í”¼ìŠ¤í…”
      const officetelCost = purchaseMode === 'buy'
        ? getPropertyCost('officetel', officetels, purchaseQuantity)
        : getPropertySellPrice('officetel', officetels, purchaseQuantity);
      const officetelTotalIncome = officetels * BASE_RENT.officetel;
      const officetelPercent = totalRps2 > 0 ? ((officetelTotalIncome / totalRps2) * 100).toFixed(1) : 0;
      
      elOfficetelCount.textContent = officetels;
      elRentPerOfficetel.textContent = Math.floor(BASE_RENT.officetel).toLocaleString('ko-KR') + 'ì›';
      document.getElementById('officetelTotalIncome').textContent = Math.floor(officetelTotalIncome).toLocaleString('ko-KR') + 'ì›';
      document.getElementById('officetelPercent').textContent = officetelPercent + '%';
      document.getElementById('officetelLifetimeDisplay').textContent = formatCashDisplay(officetelsLifetime);
      elOfficetelCurrentPrice.textContent = formatPropertyPrice(officetelCost);
      
      // ì•„íŒŒíŠ¸
      const aptCost = purchaseMode === 'buy'
        ? getPropertyCost('apartment', apartments, purchaseQuantity)
        : getPropertySellPrice('apartment', apartments, purchaseQuantity);
      const aptTotalIncome = apartments * BASE_RENT.apartment;
      const aptPercent = totalRps2 > 0 ? ((aptTotalIncome / totalRps2) * 100).toFixed(1) : 0;
      
      elAptCount.textContent = apartments;
      elRentPerApt.textContent = Math.floor(BASE_RENT.apartment).toLocaleString('ko-KR') + 'ì›';
      document.getElementById('aptTotalIncome').textContent = Math.floor(aptTotalIncome).toLocaleString('ko-KR') + 'ì›';
      document.getElementById('aptPercent').textContent = aptPercent + '%';
      document.getElementById('aptLifetimeDisplay').textContent = formatCashDisplay(apartmentsLifetime);
      elAptCurrentPrice.textContent = formatPropertyPrice(aptCost);
      
      // ìƒê°€
      const shopCost = purchaseMode === 'buy'
        ? getPropertyCost('shop', shops, purchaseQuantity)
        : getPropertySellPrice('shop', shops, purchaseQuantity);
      const shopTotalIncome = shops * BASE_RENT.shop;
      const shopPercent = totalRps2 > 0 ? ((shopTotalIncome / totalRps2) * 100).toFixed(1) : 0;
      
      elShopCount.textContent = shops;
      elRentPerShop.textContent = Math.floor(BASE_RENT.shop).toLocaleString('ko-KR') + 'ì›';
      document.getElementById('shopTotalIncome').textContent = Math.floor(shopTotalIncome).toLocaleString('ko-KR') + 'ì›';
      document.getElementById('shopPercent').textContent = shopPercent + '%';
      document.getElementById('shopLifetimeDisplay').textContent = formatCashDisplay(shopsLifetime);
      elShopCurrentPrice.textContent = formatPropertyPrice(shopCost);
      
      // ë¹Œë”©
      const buildingCost = purchaseMode === 'buy'
        ? getPropertyCost('building', buildings, purchaseQuantity)
        : getPropertySellPrice('building', buildings, purchaseQuantity);
      const buildingTotalIncome = buildings * BASE_RENT.building;
      const buildingPercent = totalRps2 > 0 ? ((buildingTotalIncome / totalRps2) * 100).toFixed(1) : 0;
      
      elBuildingCount.textContent = buildings;
      elRentPerBuilding.textContent = Math.floor(BASE_RENT.building).toLocaleString('ko-KR') + 'ì›';
      document.getElementById('buildingTotalIncome').textContent = Math.floor(buildingTotalIncome).toLocaleString('ko-KR') + 'ì›';
      document.getElementById('buildingPercent').textContent = buildingPercent + '%';
      document.getElementById('buildingLifetimeDisplay').textContent = formatCashDisplay(buildingsLifetime);
      elBuildingCurrentPrice.textContent = formatPropertyPrice(buildingCost);
      
      // ë””ë²„ê¹…: ë¶€ë™ì‚° ì¹´ìš´íŠ¸ í™•ì¸
      console.log('Property counts:', { villas, officetels, apartments, shops, buildings });
      
      // ì»¤ë¦¬ì–´ UI ì—…ë°ì´íŠ¸ëŠ” í•¨ìˆ˜ ìµœìƒë‹¨ìœ¼ë¡œ ì´ë™ë¨
      
      // ì—…ê·¸ë ˆì´ë“œ UI ì—…ë°ì´íŠ¸ (ì œê±°ë¨ - ìƒˆ ì‹œìŠ¤í…œ ì‚¬ìš©)

      // ë²„íŠ¼ í…ìŠ¤íŠ¸ ë° ìƒíƒœ ì—…ë°ì´íŠ¸ (êµ¬ë§¤/íŒë§¤ í†µí•©)
      updateButtonTexts();
      
      // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸ (Cookie Clicker ìŠ¤íƒ€ì¼)
      updateButtonStates();
      
      // ê±´ë¬¼ ëª©ë¡ ìƒ‰ìƒ ì—…ë°ì´íŠ¸
      updateBuildingItemStates();
      
      // ì—…ê·¸ë ˆì´ë“œ êµ¬ë§¤ ê°€ëŠ¥ ì—¬ë¶€ë§Œ ì—…ë°ì´íŠ¸ (DOM ì¬ìƒì„± ì•ˆ í•¨)
      updateUpgradeAffordability();
      
      // ìˆœì°¨ í•´ê¸ˆ ì‹œìŠ¤í…œ - ì ê¸ˆ ìƒíƒœ ì—…ë°ì´íŠ¸
      updateProductLockStates();
      
      // í†µê³„ íƒ­ ì—…ë°ì´íŠ¸
      updateStatsTab();
    }

    // ìˆœì°¨ í•´ê¸ˆ ì‹œìŠ¤í…œ - ì ê¸ˆ ìƒíƒœ ì—…ë°ì´íŠ¸
    function updateProductLockStates() {
      // ê¸ˆìœµìƒí’ˆ ì ê¸ˆ ìƒíƒœ
      const savingsItem = document.getElementById('savingsItem');
      const bondItem = document.getElementById('bondItem');
      
      if (savingsItem) {
        savingsItem.classList.toggle('locked', !isProductUnlocked('savings'));
      }
      if (bondItem) {
        bondItem.classList.toggle('locked', !isProductUnlocked('bond'));
      }
      
      // ë¯¸êµ­ì£¼ì‹ê³¼ ì½”ì¸ ì ê¸ˆ ìƒíƒœ
      const usStockItem = document.getElementById('usStockItem');
      const cryptoItem = document.getElementById('cryptoItem');
      
      if (usStockItem) {
        usStockItem.classList.toggle('locked', !isProductUnlocked('usStock'));
      }
      if (cryptoItem) {
        cryptoItem.classList.toggle('locked', !isProductUnlocked('crypto'));
      }
      
      // ë¶€ë™ì‚° ì ê¸ˆ ìƒíƒœ
      const villaItem = document.getElementById('villaItem');
      const officetelItem = document.getElementById('officetelItem');
      const aptItem = document.getElementById('aptItem');
      const shopItem = document.getElementById('shopItem');
      const buildingItem = document.getElementById('buildingItem');
      
      if (villaItem) {
        villaItem.classList.toggle('locked', !isProductUnlocked('villa'));
      }
      if (officetelItem) {
        officetelItem.classList.toggle('locked', !isProductUnlocked('officetel'));
      }
      if (aptItem) {
        aptItem.classList.toggle('locked', !isProductUnlocked('apartment'));
      }
      if (shopItem) {
        shopItem.classList.toggle('locked', !isProductUnlocked('shop'));
      }
      if (buildingItem) {
        buildingItem.classList.toggle('locked', !isProductUnlocked('building'));
      }
    }
    
    // ======= êµ¬ë§¤ ìˆ˜ëŸ‰ ì„ íƒ ì‹œìŠ¤í…œ =======
    elBuyMode.addEventListener('click', () => {
      purchaseMode = 'buy';
      elBuyMode.classList.add('active');
      elSellMode.classList.remove('active');
      updateButtonTexts();
    });
    
    elSellMode.addEventListener('click', () => {
      purchaseMode = 'sell';
      elSellMode.classList.add('active');
      elBuyMode.classList.remove('active');
      updateButtonTexts();
    });
    
    elQty1.addEventListener('click', () => {
      purchaseQuantity = 1;
      elQty1.classList.add('active');
      elQty5.classList.remove('active');
      elQty10.classList.remove('active');
      updateButtonTexts();
    });
    
    elQty5.addEventListener('click', () => {
      purchaseQuantity = 5;
      elQty5.classList.add('active');
      elQty1.classList.remove('active');
      elQty10.classList.remove('active');
      updateButtonTexts();
    });
    
    elQty10.addEventListener('click', () => {
      purchaseQuantity = 10;
      elQty10.classList.add('active');
      elQty1.classList.remove('active');
      elQty5.classList.remove('active');
      updateButtonTexts();
    });
    
    // ======= í† ê¸€ ê¸°ëŠ¥ =======
    elToggleUpgrades.addEventListener('click', () => {
      const section = document.getElementById('upgradeList');
      const isCollapsed = section.classList.contains('collapsed-section');
      
      if (isCollapsed) {
        section.classList.remove('collapsed-section');
        elToggleUpgrades.textContent = 'â–¼';
        elToggleUpgrades.classList.remove('collapsed');
      } else {
        section.classList.add('collapsed-section');
        elToggleUpgrades.textContent = 'â–¶';
        elToggleUpgrades.classList.add('collapsed');
      }
    });
    
    elToggleFinancial.addEventListener('click', () => {
      const section = document.getElementById('financialSection');
      const isCollapsed = section.classList.contains('collapsed-section');
      
      if (isCollapsed) {
        section.classList.remove('collapsed-section');
        elToggleFinancial.textContent = 'â–¼';
        elToggleFinancial.classList.remove('collapsed');
      } else {
        section.classList.add('collapsed-section');
        elToggleFinancial.textContent = 'â–¶';
        elToggleFinancial.classList.add('collapsed');
      }
    });
    
    elToggleProperties.addEventListener('click', () => {
      const section = document.getElementById('propertySection');
      const isCollapsed = section.classList.contains('collapsed-section');
      
      if (isCollapsed) {
        section.classList.remove('collapsed-section');
        elToggleProperties.textContent = 'â–¼';
        elToggleProperties.classList.remove('collapsed');
      } else {
        section.classList.add('collapsed-section');
        elToggleProperties.textContent = 'â–¶';
        elToggleProperties.classList.add('collapsed');
      }
    });
    
    // ë²„íŠ¼ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    function updateButtonTexts() {
      const isBuy = purchaseMode === 'buy';
      const qty = purchaseQuantity;
      
      // ê¸ˆìœµìƒí’ˆ ë²„íŠ¼ ì—…ë°ì´íŠ¸
      updateButton(elBuyDeposit, 'financial', 'deposit', deposits, isBuy, qty);
      updateButton(elBuySavings, 'financial', 'savings', savings, isBuy, qty);
      updateButton(elBuyBond, 'financial', 'bond', bonds, isBuy, qty);
      
      // ë¶€ë™ì‚° ë²„íŠ¼ ì—…ë°ì´íŠ¸
      updateButton(elBuyVilla, 'property', 'villa', villas, isBuy, qty);
      updateButton(elBuyOfficetel, 'property', 'officetel', officetels, isBuy, qty);
      updateButton(elBuyApt, 'property', 'apartment', apartments, isBuy, qty);
      updateButton(elBuyShop, 'property', 'shop', shops, isBuy, qty);
      updateButton(elBuyBuilding, 'property', 'building', buildings, isBuy, qty);
    }
    
    // ê°œë³„ ë²„íŠ¼ í…ìŠ¤íŠ¸ ë° ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    function updateButton(button, category, type, count, isBuy, qty) {
      if (!button) return;
      
      const price = isBuy 
        ? (category === 'financial' ? getFinancialCost(type, count, qty) : getPropertyCost(type, count, qty))
        : (category === 'financial' ? getFinancialSellPrice(type, count, qty) : getPropertySellPrice(type, count, qty));
      
      const modeText = isBuy ? 'êµ¬ì…' : 'íŒë§¤';
      const qtyText = qty > 1 ? ` x${qty}` : '';
      
      // ë²„íŠ¼ í…ìŠ¤íŠ¸: ê°€ê²© ì œê±°, ëª¨ë“œì™€ ìˆ˜ëŸ‰ë§Œ í‘œì‹œ
      button.textContent = `${modeText}${qtyText}`;
      
      // ë²„íŠ¼ ìƒ‰ìƒ ë° í™œì„±í™” ìƒíƒœ
      if (isBuy) {
        button.style.background = '';
        button.disabled = cash < price;
      } else {
        // íŒë§¤ ëª¨ë“œ: íŒë§¤ ê°€ëŠ¥í•˜ë©´ ë¹¨ê°„ìƒ‰, ë¶ˆê°€ëŠ¥í•˜ë©´ íšŒìƒ‰
        const canSell = count >= qty;
        button.style.background = canSell ? 'var(--bad)' : 'var(--muted)';
        button.disabled = !canSell;
      }
    }

    // ======= ì•¡ì…˜ =======
    elWork.addEventListener('click', (e)=>{
      let income = getClickIncome();
      
      // ì—…ê·¸ë ˆì´ë“œ íš¨ê³¼ ì ìš© (ìƒˆ UPGRADES ì‹œìŠ¤í…œ)
      if (UPGRADES['golden_click'] && UPGRADES['golden_click'].purchased && Math.random() < 0.1) {
        income *= 6; // 10% í™•ë¥ ë¡œ 6ë°° ìˆ˜ìµ
        addLog('ğŸ’° ì„±ê³¼ê¸‰ ì§€ê¸‰! 6ë°° ìˆ˜ìµ!');
      }
      
      // ë–¨ì–´ì§€ëŠ” ì¿ í‚¤ ì• ë‹ˆë©”ì´ì…˜ ìƒì„±
      const rect = elWork.getBoundingClientRect();
      const clickX = e.clientX;
      const clickY = e.clientY;
      createFallingCookie(clickX, clickY);
      
      cash += income;
      totalClicks += 1; // í´ë¦­ ìˆ˜ ì¦ê°€
      totalLaborIncome += income; // ì´ ë…¸ë™ ìˆ˜ìµ ì¦ê°€
      
      // ë””ë²„ê¹…: í´ë¦­ ìˆ˜ í™•ì¸ (ê°•í™”ëœ ë¡œê¹…)
      console.log('=== CLICK EVENT DEBUG ===');
      console.log('Click count updated:', totalClicks);
      console.log('Current career level:', careerLevel);
      console.log('Next career required clicks:', getNextCareer()?.requiredClicks);
      console.log('Cash updated:', cash);
      console.log('Total labor income:', totalLaborIncome);
      console.log('========================');
      
      // ìë™ ìŠ¹ì§„ ì²´í¬
      const wasPromoted = checkCareerPromotion();
      
      // ìŠ¹ì§„ì´ ë°œìƒí–ˆë‹¤ë©´ ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸
      if (wasPromoted) {
        updateUI();
      }
      
      // í´ë¦­ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
      elWork.classList.add('click-effect');
      setTimeout(() => elWork.classList.remove('click-effect'), 300);
      
      // ìˆ˜ìµ ì¦ê°€ í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜
      showIncomeAnimation(income);
      
      updateUI();
    });

    // ======= ê³µìœ í•˜ê¸° ê¸°ëŠ¥ =======
    async function shareGame() {
      const gameUrl = window.location.href;
      const gameTitle = 'ì„œìš¸ ì—­ì„¸ê¶Œ íƒ€ì´ì¿¤';
      const gameDescription = `ğŸ’° ë¶€ë™ì‚°ê³¼ ê¸ˆìœµ íˆ¬ìë¡œ ë¶€ìê°€ ë˜ëŠ” ê²Œì„!\ní˜„ì¬ ìì‚°: ${formatNumber(cash)}ì›\nì´ˆë‹¹ ìˆ˜ìµ: ${formatNumber(getRps())}ì›/s`;
      const shareText = `${gameTitle}\n\n${gameDescription}\n\n${gameUrl}`;

      // Web Share API ì‚¬ìš© (ëª¨ë°”ì¼)
      if (navigator.share) {
        try {
          await navigator.share({
            title: gameTitle,
            text: gameDescription,
            url: gameUrl
          });
          addLog('âœ… ê²Œì„ì´ ê³µìœ ë˜ì—ˆìŠµë‹ˆë‹¤!');
          return;
        } catch (err) {
          // ì‚¬ìš©ìê°€ ê³µìœ ë¥¼ ì·¨ì†Œí•œ ê²½ìš°
          if (err.name !== 'AbortError') {
            console.error('ê³µìœ  ì‹¤íŒ¨:', err);
          }
          // ì·¨ì†Œëœ ê²½ìš° í´ë¦½ë³´ë“œ ë³µì‚¬ë¡œ ëŒ€ì²´
        }
      }

      // í´ë¦½ë³´ë“œ ë³µì‚¬ (ë°ìŠ¤í¬í†± ë˜ëŠ” Web Share API ì‹¤íŒ¨ ì‹œ)
      try {
        await navigator.clipboard.writeText(shareText);
        addLog('âœ… ê²Œì„ ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
        
        // ë²„íŠ¼ì— í”¼ë“œë°± í‘œì‹œ
        const originalText = elShareBtn.innerHTML;
        elShareBtn.innerHTML = '<span>âœ“</span><span>ë³µì‚¬ë¨!</span>';
        elShareBtn.style.background = 'var(--good)';
        setTimeout(() => {
          elShareBtn.innerHTML = originalText;
          elShareBtn.style.background = '';
        }, 2000);
      } catch (err) {
        console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:', err);
        addLog('âŒ ê³µìœ ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. URLì„ ìˆ˜ë™ìœ¼ë¡œ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
        
        // ëŒ€ì²´ ë°©ë²•: í…ìŠ¤íŠ¸ ì˜ì—­ ì‚¬ìš©
        const textArea = document.createElement('textarea');
        textArea.value = shareText;
        textArea.style.position = 'fixed';
        textArea.style.opacity = '0';
        document.body.appendChild(textArea);
        textArea.select();
        try {
          document.execCommand('copy');
          addLog('âœ… ê²Œì„ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
        } catch (err2) {
          addLog('âŒ ê³µìœ  ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        }
        document.body.removeChild(textArea);
      }
    }

    elShareBtn.addEventListener('click', shareGame);

    // ë–¨ì–´ì§€ëŠ” ì§€í ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜ (ë…¸ë™ í´ë¦­ ì‹œ)
    function createFallingCookie(clickX, clickY) {
      const cookie = document.createElement('div');
      cookie.className = 'falling-cookie';
      cookie.textContent = 'ğŸ’µ'; // ì§€íë§Œ ë–¨ì–´ëœ¨ë¦¬ê¸°
      
      // í´ë¦­ ìœ„ì¹˜ ê¸°ì¤€ìœ¼ë¡œ ì„¤ì •
      cookie.style.left = (clickX + Math.random() * 100 - 50) + 'px';
      cookie.style.top = (clickY - 100) + 'px';
      
      document.body.appendChild(cookie);
      
      // ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„ ìš”ì†Œ ì œê±°
      setTimeout(() => {
        if (cookie.parentNode) {
          cookie.parentNode.removeChild(cookie);
        }
      }, 2000);
    }

    // ë–¨ì–´ì§€ëŠ” ê±´ë¬¼ ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜
    function createFallingBuilding(icon, count) {
      for (let i = 0; i < Math.min(count, 5); i++) { // ìµœëŒ€ 5ê°œê¹Œì§€ë§Œ ì• ë‹ˆë©”ì´ì…˜
        setTimeout(() => {
          const building = document.createElement('div');
          building.className = 'falling-cookie';
          building.textContent = icon;
          
          // í™”ë©´ ìƒë‹¨ì—ì„œ ëœë¤í•˜ê²Œ ë–¨ì–´ëœ¨ë¦¬ê¸°
          building.style.left = (Math.random() * window.innerWidth) + 'px';
          building.style.top = '-100px';
          
          document.body.appendChild(building);
          
          // ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„ ìš”ì†Œ ì œê±°
          setTimeout(() => {
            if (building.parentNode) {
              building.parentNode.removeChild(building);
            }
          }, 2000);
        }, i * 200); // 0.2ì´ˆ ê°„ê²©ìœ¼ë¡œ ìˆœì°¨ ìƒì„±
      }
    }


    // ìˆ˜ìµ ì¦ê°€ ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜ (ê°œì„ ëœ float-up íš¨ê³¼)
    function showIncomeAnimation(amount) {
      const animation = document.createElement('div');
      animation.className = 'income-increase';
      animation.textContent = `+${formatKoreanNumber(amount)}ì›`;
      
      // ë…¸ë™ ë²„íŠ¼ ìœ„ì¹˜ ê¸°ì¤€ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜ ìœ„ì¹˜ ì„¤ì •
      const workRect = elWork.getBoundingClientRect();
      const containerRect = elWork.parentElement.getBoundingClientRect();
      
      // ë…¸ë™ ë²„íŠ¼ ìœ„ìª½ì— ëœë¤í•˜ê²Œ í‘œì‹œ
      animation.style.position = 'absolute';
      animation.style.left = (workRect.left - containerRect.left + Math.random() * 100 - 50) + 'px';
      animation.style.top = (workRect.top - containerRect.top - 50) + 'px';
      animation.style.zIndex = '1000';
      animation.style.pointerEvents = 'none';
      
      elWork.parentElement.style.position = 'relative';
      elWork.parentElement.appendChild(animation);
      
      // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
      animation.style.opacity = '1';
      animation.style.transform = 'translateY(0px) scale(1)';
      
      // ë– ì˜¤ë¥´ëŠ” ì• ë‹ˆë©”ì´ì…˜
      setTimeout(() => {
        animation.style.transition = 'all 1.5s ease-out';
        animation.style.opacity = '0';
        animation.style.transform = 'translateY(-80px) scale(1.2)';
      }, 100);
      
      // ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„ ì œê±°
      setTimeout(() => {
        if (animation.parentElement) {
          animation.parentElement.removeChild(animation);
        }
      }, 1600);
    }

    // ê¸ˆìœµìƒí’ˆ ê±°ë˜ ì´ë²¤íŠ¸ (êµ¬ë§¤/íŒë§¤ í†µí•©)
    elBuyDeposit.addEventListener('click', ()=>{
      if (!isProductUnlocked('deposit')) {
        addLog('âŒ ì˜ˆê¸ˆì€ ì•„ì§ ì ê²¨ìˆìŠµë‹ˆë‹¤.');
        return;
      }
      const result = handleTransaction('financial', 'deposit', deposits);
      if (result.success) {
        deposits = result.newCount;
        showPurchaseSuccess(elBuyDeposit);
        checkNewUnlocks('deposit'); // í•´ê¸ˆ ì²´í¬
      }
      updateUI();
    });

    elBuySavings.addEventListener('click', ()=>{
      if (!isProductUnlocked('savings')) {
        addLog('âŒ ì ê¸ˆì€ ì˜ˆê¸ˆì„ 1ê°œ ì´ìƒ ë³´ìœ í•´ì•¼ í•´ê¸ˆë©ë‹ˆë‹¤.');
        return;
      }
      const result = handleTransaction('financial', 'savings', savings);
      if (result.success) {
        savings = result.newCount;
        showPurchaseSuccess(elBuySavings);
        checkNewUnlocks('savings'); // í•´ê¸ˆ ì²´í¬
      }
      updateUI();
    });

    elBuyBond.addEventListener('click', ()=>{
      if (!isProductUnlocked('bond')) {
        addLog('âŒ êµ­ë‚´ì£¼ì‹ì€ ì ê¸ˆì„ 1ê°œ ì´ìƒ ë³´ìœ í•´ì•¼ í•´ê¸ˆë©ë‹ˆë‹¤.');
        return;
      }
      const result = handleTransaction('financial', 'bond', bonds);
      if (result.success) {
        bonds = result.newCount;
        showPurchaseSuccess(elBuyBond);
        checkNewUnlocks('bond'); // í•´ê¸ˆ ì²´í¬
      }
      updateUI();
    });

    // ë¯¸êµ­ì£¼ì‹ êµ¬ë§¤ ë²„íŠ¼
    elBuyUsStock.addEventListener('click', ()=>{
      if (!isProductUnlocked('usStock')) {
        addLog('âŒ ë¯¸êµ­ì£¼ì‹ì€ êµ­ë‚´ì£¼ì‹ì„ 1ê°œ ì´ìƒ ë³´ìœ í•´ì•¼ í•´ê¸ˆë©ë‹ˆë‹¤.');
        return;
      }
      const result = handleTransaction('financial', 'usStock', usStocks);
      if (result.success) {
        usStocks = result.newCount;
        showPurchaseSuccess(elBuyUsStock);
        checkNewUnlocks('usStock'); // í•´ê¸ˆ ì²´í¬
      }
      updateUI();
    });

    // ì½”ì¸ êµ¬ë§¤ ë²„íŠ¼
    elBuyCrypto.addEventListener('click', ()=>{
      if (!isProductUnlocked('crypto')) {
        addLog('âŒ ì½”ì¸ì€ ë¯¸êµ­ì£¼ì‹ì„ 1ê°œ ì´ìƒ ë³´ìœ í•´ì•¼ í•´ê¸ˆë©ë‹ˆë‹¤.');
        return;
      }
      const result = handleTransaction('financial', 'crypto', cryptos);
      if (result.success) {
        cryptos = result.newCount;
        showPurchaseSuccess(elBuyCrypto);
        checkNewUnlocks('crypto'); // í•´ê¸ˆ ì²´í¬
      }
      updateUI();
    });

    // ë¶€ë™ì‚° ê±°ë˜ ì´ë²¤íŠ¸ (êµ¬ë§¤/íŒë§¤ í†µí•©)
    elBuyVilla.addEventListener('click', ()=>{
      if (!isProductUnlocked('villa')) {
        addLog('âŒ ë¹Œë¼ëŠ” ì½”ì¸ì„ 1ê°œ ì´ìƒ ë³´ìœ í•´ì•¼ í•´ê¸ˆë©ë‹ˆë‹¤.');
        return;
      }
      const result = handleTransaction('property', 'villa', villas);
      if (result.success) {
        villas = result.newCount;
        showPurchaseSuccess(elBuyVilla);
        checkNewUnlocks('villa'); // í•´ê¸ˆ ì²´í¬
      }
      updateUI();
    });

    elBuyOfficetel.addEventListener('click', ()=>{
      if (!isProductUnlocked('officetel')) {
        addLog('âŒ ì˜¤í”¼ìŠ¤í…”ì€ ë¹Œë¼ë¥¼ 1ê°œ ì´ìƒ ë³´ìœ í•´ì•¼ í•´ê¸ˆë©ë‹ˆë‹¤.');
        return;
      }
      const result = handleTransaction('property', 'officetel', officetels);
      if (result.success) {
        officetels = result.newCount;
        showPurchaseSuccess(elBuyOfficetel);
        checkNewUnlocks('officetel'); // í•´ê¸ˆ ì²´í¬
      }
      updateUI();
    });

    elBuyApt.addEventListener('click', ()=>{
      if (!isProductUnlocked('apartment')) {
        addLog('âŒ ì•„íŒŒíŠ¸ëŠ” ì˜¤í”¼ìŠ¤í…”ì„ 1ê°œ ì´ìƒ ë³´ìœ í•´ì•¼ í•´ê¸ˆë©ë‹ˆë‹¤.');
        return;
      }
      const result = handleTransaction('property', 'apartment', apartments);
      if (result.success) {
        apartments = result.newCount;
        showPurchaseSuccess(elBuyApt);
        checkNewUnlocks('apartment'); // í•´ê¸ˆ ì²´í¬
      }
      updateUI();
    });

    elBuyShop.addEventListener('click', ()=>{
      if (!isProductUnlocked('shop')) {
        addLog('âŒ ìƒê°€ëŠ” ì•„íŒŒíŠ¸ë¥¼ 1ê°œ ì´ìƒ ë³´ìœ í•´ì•¼ í•´ê¸ˆë©ë‹ˆë‹¤.');
        return;
      }
      const result = handleTransaction('property', 'shop', shops);
      if (result.success) {
        shops = result.newCount;
        showPurchaseSuccess(elBuyShop);
        checkNewUnlocks('shop'); // í•´ê¸ˆ ì²´í¬
      }
      updateUI();
    });

    elBuyBuilding.addEventListener('click', ()=>{
      if (!isProductUnlocked('building')) {
        addLog('âŒ ë¹Œë”©ì€ ìƒê°€ë¥¼ 1ê°œ ì´ìƒ ë³´ìœ í•´ì•¼ í•´ê¸ˆë©ë‹ˆë‹¤.');
        return;
      }
      const result = handleTransaction('property', 'building', buildings);
      if (result.success) {
        buildings = result.newCount;
        showPurchaseSuccess(elBuyBuilding);
        checkNewUnlocks('building'); // í•´ê¸ˆ ì²´í¬
      }
      updateUI();
    });

    // ======= ì—…ê·¸ë ˆì´ë“œ íš¨ê³¼ ì ìš© í•¨ìˆ˜ =======
    // êµ¬í˜• applyUpgradeEffect ë° ì—…ê·¸ë ˆì´ë“œ ì‹œìŠ¤í…œ ì œê±°ë¨ - ìƒˆë¡œìš´ Cookie Clicker ìŠ¤íƒ€ì¼ ì‹œìŠ¤í…œ ì‚¬ìš©

    
    // ======= í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ =======
    document.addEventListener('keydown', (e) => {
      // Ctrl + Shift + R: ê²Œì„ ì´ˆê¸°í™” (ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨ê³¼ ì¶©ëŒ ë°©ì§€)
      if (e.ctrlKey && e.shiftKey && e.key === 'R') {
        e.preventDefault();
        resetGame();
      }
      // Ctrl + S: ìˆ˜ë™ ì €ì¥
      if (e.ctrlKey && e.key === 's') {
        e.preventDefault(); // ë¸Œë¼ìš°ì € ì €ì¥ ë°©ì§€
        saveGame();
        addLog('ğŸ’¾ ìˆ˜ë™ ì €ì¥ ì™„ë£Œ!');
      }
    });

    // ======= ìˆ˜ìµ í‹± =======
    const TICK = 50; // ms (ì„±ëŠ¥ ìµœì í™”: 250ms â†’ 50ms)
    setInterval(()=>{
      checkMarketEvent(); // ì‹œì¥ ì´ë²¤íŠ¸ ì²´í¬
      checkAchievements(); // ì—…ì  ì²´í¬
      checkUpgradeUnlocks(); // ì—…ê·¸ë ˆì´ë“œ í•´ê¸ˆ ì²´í¬
      
      const deltaTime = TICK / 1000;
      cash += getRps() * deltaTime;
      
      // ëˆ„ì  ìƒì‚°ëŸ‰ ê³„ì‚° (Cookie Clicker ìŠ¤íƒ€ì¼)
      depositsLifetime += deposits * FINANCIAL_INCOME.deposit * deltaTime;
      savingsLifetime += savings * FINANCIAL_INCOME.savings * deltaTime;
      bondsLifetime += bonds * FINANCIAL_INCOME.bond * deltaTime;
      usStocksLifetime += usStocks * FINANCIAL_INCOME.usStock * deltaTime;
      cryptosLifetime += cryptos * FINANCIAL_INCOME.crypto * deltaTime;
      villasLifetime += villas * BASE_RENT.villa * deltaTime;
      officetelsLifetime += officetels * BASE_RENT.officetel * deltaTime;
      apartmentsLifetime += apartments * BASE_RENT.apartment * deltaTime;
      shopsLifetime += shops * BASE_RENT.shop * deltaTime;
      buildingsLifetime += buildings * BASE_RENT.building * deltaTime;
      
      updateUI();
    }, TICK);
    
    // ======= ìë™ ì €ì¥ ì‹œìŠ¤í…œ =======
    setInterval(()=>{
      saveGame(); // 5ì´ˆë§ˆë‹¤ ìë™ ì €ì¥
    }, 5000);
    
    // ======= ì˜¤í† í´ë¦­ ì‹œìŠ¤í…œ =======
    setInterval(()=>{
      if (autoClickEnabled) {
        const income = getClickIncome();
        cash += income;
        totalClicks += 1;
        totalLaborIncome += income;
        checkCareerPromotion();
        
        // ì„±ê³¼ê¸‰ì€ ì˜¤í† í´ë¦­ì—ë„ ì ìš©
        if (UPGRADES['golden_click'] && UPGRADES['golden_click'].purchased && Math.random() < 0.1) {
          const bonusIncome = income * 5; // ì´ë¯¸ 1ë°°ëŠ” ì¶”ê°€ë˜ì—ˆìœ¼ë¯€ë¡œ 5ë°° ì¶”ê°€ (ì´ 6ë°°)
          cash += bonusIncome;
          totalLaborIncome += bonusIncome;
        }
      }
    }, 1000); // 1ì´ˆë§ˆë‹¤
    
    // ======= ì‹œì¥ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ =======
    // 2-5ë¶„ë§ˆë‹¤ ëœë¤í•˜ê²Œ ì‹œì¥ ì´ë²¤íŠ¸ ë°œìƒ
    setInterval(()=>{
      if (marketEventEndTime === 0) { // í˜„ì¬ ì´ë²¤íŠ¸ê°€ ì§„í–‰ ì¤‘ì´ ì•„ë‹ ë•Œë§Œ
        startMarketEvent();
      }
    }, Math.random() * 180000 + 120000); // 2-5ë¶„ ëœë¤

    // ì´ˆê¸° ë Œë”
    const gameLoaded = loadGame(); // ê²Œì„ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ì‹œë„
    if (gameLoaded) {
      addLog('ì €ì¥ëœ ê²Œì„ì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤.');
    } else {
      addLog('í™˜ì˜í•©ë‹ˆë‹¤! ë…¸ë™ìœ¼ë¡œ ì¢…ì£ëˆì„ ëª¨ì•„ ì²« ë¶€ë™ì‚°ì„ êµ¬ì…í•´ë³´ì„¸ìš”.');
    }
    
    // ë¦¬ìŠ¤í¬ ì •ë³´ ì´ˆê¸°í™”
    updateFinancialRiskInfo();
    updatePropertyRiskInfo();
    
    // íŒë§¤ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ë¡œê·¸
    console.log('=== íŒë§¤ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ ===');
    console.log('âœ… êµ¬ë§¤/íŒë§¤ ëª¨ë“œ í† ê¸€ ì‹œìŠ¤í…œ í™œì„±í™”');
    console.log('âœ… ê¸ˆìœµìƒí’ˆ í†µí•© ê±°ë˜ ì‹œìŠ¤í…œ (ì˜ˆê¸ˆ/ì ê¸ˆ/ì£¼ì‹)');
    console.log('âœ… ë¶€ë™ì‚° í†µí•© ê±°ë˜ ì‹œìŠ¤í…œ (ë¹Œë¼/ì˜¤í”¼ìŠ¤í…”/ì•„íŒŒíŠ¸/ìƒê°€/ë¹Œë”©)');
    console.log('âœ… íŒë§¤ ê°€ê²©: í˜„ì¬ê°€ì˜ 80%');
    console.log('âœ… ìˆ˜ëŸ‰ ì„ íƒ: 1ê°œ/10ê°œ/100ê°œ');
    console.log('ğŸ’¡ ì‚¬ìš©ë²•: ìƒë‹¨ "êµ¬ë§¤/íŒë§¤" ë²„íŠ¼ìœ¼ë¡œ ëª¨ë“œ ì „í™˜ í›„ ê±°ë˜í•˜ì„¸ìš”!');
    
    // ======= í†µê³„ íƒ­ ì—…ë°ì´íŠ¸ í•¨ìˆ˜ =======
    
    function updateStatsTab() {
      try {
        // 1. í•µì‹¬ ì§€í‘œ
        const totalAssets = cash + calculateTotalAssetValue();
        const totalEarnings = depositsLifetime + savingsLifetime + bondsLifetime + 
                              usStocksLifetime + cryptosLifetime +
                              villasLifetime + officetelsLifetime + apartmentsLifetime +
                              shopsLifetime + buildingsLifetime + totalLaborIncome;
        
        safeText(document.getElementById('totalAssets'), formatCashDisplay(totalAssets));
        safeText(document.getElementById('totalEarnings'), formatCashDisplay(totalEarnings));
        safeText(document.getElementById('rpsStats'), formatKoreanNumber(getRps()) + 'ì›/ì´ˆ');
        safeText(document.getElementById('clickIncomeStats'), formatCashDisplay(getClickIncome()));
        
        // 2. í”Œë ˆì´ ì •ë³´
        safeText(document.getElementById('totalClicksStats'), totalClicks.toLocaleString('ko-KR') + 'íšŒ');
        safeText(document.getElementById('laborIncomeStats'), formatCashDisplay(totalLaborIncome));
        
        // í”Œë ˆì´ ì‹œê°„ ê³„ì‚° (ëˆ„ì  í”Œë ˆì´ì‹œê°„ ì‹œìŠ¤í…œ)
        const currentSessionTime = Date.now() - sessionStartTime;
        const totalPlayTimeMs = totalPlayTime + currentSessionTime;
        const playTimeMinutes = Math.floor(totalPlayTimeMs / 60000);
        const playTimeHours = Math.floor(playTimeMinutes / 60);
        const remainingMinutes = playTimeMinutes % 60;
        const playTimeText = playTimeHours > 0 
          ? `${playTimeHours}ì‹œê°„ ${remainingMinutes}ë¶„` 
          : `${playTimeMinutes}ë¶„`;
        
        // ë””ë²„ê¹… ë¡œê·¸
        console.log('ğŸ• í”Œë ˆì´ì‹œê°„ ê³„ì‚°:', {
          totalPlayTime: totalPlayTime,
          currentSessionTime: currentSessionTime,
          totalPlayTimeMs: totalPlayTimeMs,
          playTimeMinutes: playTimeMinutes,
          playTimeText: playTimeText
        });
        
        safeText(document.getElementById('playTimeStats'), playTimeText);
        
        // ì‹œê°„ë‹¹ ìˆ˜ìµ
        const hourlyRateValue = playTimeMinutes > 0 
          ? (totalEarnings / playTimeMinutes) * 60 
          : 0;
        safeText(document.getElementById('hourlyRate'), formatCashDisplay(hourlyRateValue) + '/ì‹œê°„');
        
        // 3. ìˆ˜ìµ êµ¬ì¡°
        const laborPercent = totalEarnings > 0 ? (totalLaborIncome / totalEarnings * 100) : 0;
        const financialTotal = depositsLifetime + savingsLifetime + bondsLifetime + 
                              usStocksLifetime + cryptosLifetime;
        const financialPercent = totalEarnings > 0 ? (financialTotal / totalEarnings * 100) : 0;
        const propertyTotal = villasLifetime + officetelsLifetime + apartmentsLifetime + shopsLifetime + buildingsLifetime;
        const propertyPercent = totalEarnings > 0 ? (propertyTotal / totalEarnings * 100) : 0;
        
        // ìˆ˜ìµ êµ¬ì¡° ë°”
        const laborSegment = document.getElementById('laborSegment');
        const financialSegment = document.getElementById('financialSegment');
        const propertySegment = document.getElementById('propertySegment');
        
        if (laborSegment) {
          laborSegment.style.width = laborPercent.toFixed(1) + '%';
          laborSegment.querySelector('span').textContent = laborPercent >= 5 
            ? `ğŸ› ï¸ ${laborPercent.toFixed(1)}%` 
            : '';
        }
        
        if (financialSegment) {
          financialSegment.style.width = financialPercent.toFixed(1) + '%';
          financialSegment.querySelector('span').textContent = financialPercent >= 5 
            ? `ğŸ’° ${financialPercent.toFixed(1)}%` 
            : '';
        }
        
        if (propertySegment) {
          propertySegment.style.width = propertyPercent.toFixed(1) + '%';
          propertySegment.querySelector('span').textContent = propertyPercent >= 5 
            ? `ğŸ¢ ${propertyPercent.toFixed(1)}%` 
            : '';
        }
        
        // ë²”ë¡€ ì—…ë°ì´íŠ¸
        safeText(document.getElementById('laborLegend'), `ë…¸ë™: ${laborPercent.toFixed(1)}%`);
        safeText(document.getElementById('financialLegend'), `ê¸ˆìœµ: ${financialPercent.toFixed(1)}%`);
        safeText(document.getElementById('propertyLegend'), `ë¶€ë™ì‚°: ${propertyPercent.toFixed(1)}%`);
        
        // 4. ê¸ˆìœµìƒí’ˆ ìƒì„¸
        safeText(document.getElementById('depositsOwnedStats'), deposits + 'ê°œ');
        safeText(document.getElementById('depositsLifetimeStats'), formatCashDisplay(depositsLifetime));
        
        safeText(document.getElementById('savingsOwnedStats'), savings + 'ê°œ');
        safeText(document.getElementById('savingsLifetimeStats'), formatCashDisplay(savingsLifetime));
        
        safeText(document.getElementById('bondsOwnedStats'), bonds + 'ê°œ');
        safeText(document.getElementById('bondsLifetimeStats'), formatCashDisplay(bondsLifetime));
        
        // 5. ë¶€ë™ì‚° ìƒì„¸
        safeText(document.getElementById('villasOwnedStats'), villas + 'ì±„');
        safeText(document.getElementById('villasLifetimeStats'), formatCashDisplay(villasLifetime));
        
        safeText(document.getElementById('officetelsOwnedStats'), officetels + 'ì±„');
        safeText(document.getElementById('officetelsLifetimeStats'), formatCashDisplay(officetelsLifetime));
        
        safeText(document.getElementById('apartmentsOwnedStats'), apartments + 'ì±„');
        safeText(document.getElementById('apartmentsLifetimeStats'), formatCashDisplay(apartmentsLifetime));
        
        safeText(document.getElementById('shopsOwnedStats'), shops + 'ì±„');
        safeText(document.getElementById('shopsLifetimeStats'), formatCashDisplay(shopsLifetime));
        
        safeText(document.getElementById('buildingsOwnedStats'), buildings + 'ì±„');
        safeText(document.getElementById('buildingsLifetimeStats'), formatCashDisplay(buildingsLifetime));
        
        // 6. íš¨ìœ¨ ë¶„ì„
        const efficiencies = calculateEfficiencies();
        safeText(document.getElementById('bestEfficiency'), efficiencies[0] || '-');
        safeText(document.getElementById('secondEfficiency'), efficiencies[1] || '-');
        safeText(document.getElementById('thirdEfficiency'), efficiencies[2] || '-');
        
        // 7. ì—…ì  ê·¸ë¦¬ë“œ
        updateAchievementGrid();
        
      } catch (e) {
        console.error('Stats tab update failed:', e);
      }
    }
    
    // ì´ ìì‚° ê°€ì¹˜ ê³„ì‚° (í˜„ì¬ ë³´ìœ  ìì‚°ì„ í˜„ì¬ê°€ë¡œ í™˜ì‚°)
    function calculateTotalAssetValue() {
      let totalValue = 0;
      
      // ê¸ˆìœµìƒí’ˆ ê°€ì¹˜
      if (deposits > 0) {
        totalValue += getFinancialCost('deposit', deposits - 1);
      }
      if (savings > 0) {
        totalValue += getFinancialCost('savings', savings - 1);
      }
      if (bonds > 0) {
        totalValue += getFinancialCost('bond', bonds - 1);
      }
      
      // ë¶€ë™ì‚° ê°€ì¹˜
      if (villas > 0) {
        totalValue += getPropertyCost('villa', villas - 1);
      }
      if (officetels > 0) {
        totalValue += getPropertyCost('officetel', officetels - 1);
      }
      if (apartments > 0) {
        totalValue += getPropertyCost('apartment', apartments - 1);
      }
      if (shops > 0) {
        totalValue += getPropertyCost('shop', shops - 1);
      }
      if (buildings > 0) {
        totalValue += getPropertyCost('building', buildings - 1);
      }
      
      return totalValue;
    }
    
    // íš¨ìœ¨ ë¶„ì„ (ê°œë‹¹ ì´ˆë‹¹ ìˆ˜ìµ ìˆœìœ„)
    function calculateEfficiencies() {
      const assets = [];
      
      // ê¸ˆìœµìƒí’ˆ
      if (deposits > 0) {
        assets.push({ name: 'ì˜ˆê¸ˆ', efficiency: FINANCIAL_INCOME.deposit, count: deposits });
      }
      if (savings > 0) {
        assets.push({ name: 'ì ê¸ˆ', efficiency: FINANCIAL_INCOME.savings, count: savings });
      }
      if (bonds > 0) {
        assets.push({ name: 'êµ­ë‚´ì£¼ì‹', efficiency: FINANCIAL_INCOME.bond, count: bonds });
      }
      if (usStocks > 0) {
        assets.push({ name: 'ë¯¸êµ­ì£¼ì‹', efficiency: FINANCIAL_INCOME.usStock, count: usStocks });
      }
      if (cryptos > 0) {
        assets.push({ name: 'ì½”ì¸', efficiency: FINANCIAL_INCOME.crypto, count: cryptos });
      }
      
      // ë¶€ë™ì‚°
      if (villas > 0) {
        assets.push({ name: 'ë¹Œë¼', efficiency: BASE_RENT.villa * rentMultiplier, count: villas });
      }
      if (officetels > 0) {
        assets.push({ name: 'ì˜¤í”¼ìŠ¤í…”', efficiency: BASE_RENT.officetel * rentMultiplier, count: officetels });
      }
      if (apartments > 0) {
        assets.push({ name: 'ì•„íŒŒíŠ¸', efficiency: BASE_RENT.apartment * rentMultiplier, count: apartments });
      }
      if (shops > 0) {
        assets.push({ name: 'ìƒê°€', efficiency: BASE_RENT.shop * rentMultiplier, count: shops });
      }
      if (buildings > 0) {
        assets.push({ name: 'ë¹Œë”©', efficiency: BASE_RENT.building * rentMultiplier, count: buildings });
      }
      
      // íš¨ìœ¨ ìˆœìœ¼ë¡œ ì •ë ¬
      assets.sort((a, b) => b.efficiency - a.efficiency);
      
      // ìƒìœ„ 3ê°œ ë°˜í™˜
      return assets.slice(0, 3).map(a => 
        `${a.name} (${formatKoreanNumber(Math.floor(a.efficiency))}ì›/ì´ˆ, ${a.count}ê°œ ë³´ìœ )`
      );
    }
    
    // ì—…ì  ê·¸ë¦¬ë“œ ì—…ë°ì´íŠ¸
    function updateAchievementGrid() {
      const achievementGrid = document.getElementById('achievementGrid');
      if (!achievementGrid) return;
      
      // ì´ë¯¸ ìƒì„±ë˜ì–´ ìˆìœ¼ë©´ ì—…ë°ì´íŠ¸ë§Œ
      if (achievementGrid.children.length > 0) {
        let unlockedCount = 0;
        Object.values(ACHIEVEMENTS).forEach(ach => {
          const icon = document.getElementById('ach_' + ach.id);
          if (icon) {
            if (ach.unlocked) {
              icon.classList.add('unlocked');
              icon.classList.remove('locked');
              unlockedCount++;
            } else {
              icon.classList.add('locked');
              icon.classList.remove('unlocked');
            }
          }
        });
        
        const totalAchievements = Object.keys(ACHIEVEMENTS).length;
        safeText(document.getElementById('achievementProgress'), `${unlockedCount}/${totalAchievements}`);
        return;
      }
      
      // ì²˜ìŒ ìƒì„±
      achievementGrid.innerHTML = '';
      let unlockedCount = 0;
      const totalAchievements = Object.keys(ACHIEVEMENTS).length;
      
      Object.values(ACHIEVEMENTS).forEach(ach => {
        const icon = document.createElement('div');
        icon.className = 'achievement-icon';
        icon.id = 'ach_' + ach.id;
        icon.textContent = ach.icon;
        icon.title = ach.unlocked 
          ? `${ach.name}\n${ach.desc}\nâœ… ë‹¬ì„±!` 
          : `${ach.name}\n${ach.desc}\nğŸ”’ ë¯¸ë‹¬ì„±`;
        
        if (ach.unlocked) {
          icon.classList.add('unlocked');
          unlockedCount++;
        } else {
          icon.classList.add('locked');
        }
        
        achievementGrid.appendChild(icon);
      });
      
      safeText(document.getElementById('achievementProgress'), `${unlockedCount}/${totalAchievements}`);
    }
    
    // ======= í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ íƒ­ ì „í™˜ =======
    const navBtns = document.querySelectorAll('.nav-btn');
    const tabContents = document.querySelectorAll('.tab-content');
    
    navBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const targetTab = btn.getAttribute('data-tab');
        
        // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
        tabContents.forEach(tab => tab.classList.remove('active'));
        navBtns.forEach(navBtn => navBtn.classList.remove('active'));
        
        // ì„ íƒí•œ íƒ­ í™œì„±í™”
        document.getElementById(targetTab).classList.add('active');
        btn.classList.add('active');
      });
    });
    
    updateUI(); // ì´ˆê¸° UI ì—…ë°ì´íŠ¸
    
    // ì—…ê·¸ë ˆì´ë“œ ì„¹ì…˜ ì´ˆê¸° ìƒíƒœ ì„¤ì • (ì—´ë¦¼)
    const upgradeListElement = document.getElementById('upgradeList');
    if (upgradeListElement) {
      upgradeListElement.classList.remove('collapsed-section');
      console.log('âœ… Upgrade list initialized and opened');
    }
    
    updateUpgradeList(); // ì´ˆê¸° ì—…ê·¸ë ˆì´ë“œ ë¦¬ìŠ¤íŠ¸ ìƒì„±
    
    // ë””ë²„ê¹…: ì—…ê·¸ë ˆì´ë“œ ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
    console.log('=== UPGRADE SYSTEM DEBUG ===');
    console.log('Total upgrades defined:', Object.keys(UPGRADES).length);
    console.log('Unlocked upgrades:', Object.values(UPGRADES).filter(u => u.unlocked).length);
    console.log('Purchased upgrades:', Object.values(UPGRADES).filter(u => u.purchased).length);
    console.log('First 3 upgrades:', Object.entries(UPGRADES).slice(0, 3).map(([id, u]) => ({
      id,
      unlocked: u.unlocked,
      purchased: u.purchased,
      cost: u.cost
    })));
    console.log('===========================');
    
    // ì¹˜íŠ¸ ì½”ë“œ (í…ŒìŠ¤íŠ¸ìš© - ì½˜ì†”ì—ì„œ ì‚¬ìš© ê°€ëŠ¥)
    window.cheat = {
      addCash: (amount) => {
        cash += amount;
    updateUI();
        console.log(`ğŸ’° Added ${amount} cash. New total: ${cash}`);
      },
      unlockAllUpgrades: () => {
        Object.values(UPGRADES).forEach(u => u.unlocked = true);
        updateUpgradeList();
        console.log('ğŸ”“ All upgrades unlocked!');
        console.log('Upgrade list element:', document.getElementById('upgradeList'));
        console.log('Upgrade list children:', document.getElementById('upgradeList')?.children.length);
      },
      unlockFirstUpgrade: () => {
        const firstId = Object.keys(UPGRADES)[0];
        UPGRADES[firstId].unlocked = true;
        updateUpgradeList();
        console.log('ğŸ”“ First upgrade unlocked:', UPGRADES[firstId].name);
      },
      setClicks: (count) => {
        totalClicks = count;
        updateUI();
        checkUpgradeUnlocks();
        console.log(`ğŸ‘† Set clicks to ${count}`);
      },
      testUpgrade: () => {
        // ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ìš©
        const firstId = Object.keys(UPGRADES)[0];
        UPGRADES[firstId].unlocked = true;
        cash += 10000000;
        updateUpgradeList();
        updateUI();
        console.log('ğŸ§ª Test setup complete:');
        console.log('  - First upgrade unlocked');
        console.log('  - Cash: 1000ë§Œì›');
        console.log('  - Upgrade list visible:', !document.getElementById('upgradeList')?.classList.contains('collapsed-section'));
        console.log('  - Upgrade items count:', document.querySelectorAll('.upgrade-item').length);
      }
    };
    console.log('ğŸ’¡ ì¹˜íŠ¸ ì½”ë“œ ì‚¬ìš© ê°€ëŠ¥:');
    console.log('  - cheat.testUpgrade() : ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ (ì²« ì—…ê·¸ë ˆì´ë“œ í•´ê¸ˆ + 1000ë§Œì›)');
    console.log('  - cheat.addCash(1000000000) : 10ì–µì› ì¶”ê°€');
    console.log('  - cheat.unlockAllUpgrades() : ëª¨ë“  ì—…ê·¸ë ˆì´ë“œ í•´ê¸ˆ');
    console.log('  - cheat.setClicks(100) : í´ë¦­ ìˆ˜ ì„¤ì •');
    
    // ìœ ë‹›ì„± í…ŒìŠ¤íŠ¸ ë¡œê·¸
    addLog('ğŸ§ª v2.6 Cookie Clicker ìŠ¤íƒ€ì¼ ì—…ê·¸ë ˆì´ë“œ ì‹œìŠ¤í…œ êµ¬í˜„ ì™„ë£Œ');
    addLog('âœ… DOM ì°¸ì¡° ì˜¤ë¥˜ ìˆ˜ì • ì™„ë£Œ');
    addLog('âœ… ì»¤ë¦¬ì–´ ì§„í–‰ë¥  ì‹œìŠ¤í…œ ì •ìƒí™”');
    addLog('âœ… ì—…ê·¸ë ˆì´ë“œ í´ë¦­ ê¸°ëŠ¥ í™œì„±í™”');
    addLog('âœ… ìë™ ì €ì¥ ì‹œìŠ¤í…œ ì‘ë™ ì¤‘');
    addLog('âš¡ ì„±ëŠ¥ ìµœì í™”: ì—…ê·¸ë ˆì´ë“œ ë¦¬ìŠ¤íŠ¸ ê¹œë¹¡ì„ í•´ê²°');
    
    // ë””ë²„ê¹…: ì´ˆê¸° ìƒíƒœ í™•ì¸
    console.log('Initial state:', {
      cash,
      totalClicks,
      deposits,
      savings,
      bonds,
      villas,
      officetels,
      apartments,
      shops,
      buildings
    });
  </script>
</body>
</html>
