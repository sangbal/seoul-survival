# QA λ¦¬ν¬νΈ: λ¦¬λ”λ³΄λ“ git μ›λ³Έ λ²„μ „ λ°μ ν™•μΈ

**ν…μ¤νΈ μΌμ‹**: 2024λ…„ (λ¦¬λ”λ³΄λ“ λ³µμ› ν›„)  
**ν…μ¤νΈ λ°©λ²•**: μ½”λ“ κ²€ν† 

---

## β… λ°μ μ™„λ£ ν•­λ©

### 1. `shared/leaderboard.js` - git μ›λ³Έ λ²„μ „ λ³µμ›

#### `updateLeaderboard` ν•¨μ
- β… `towerCount` νλΌλ―Έν„° ν¬ν•¨ (κΈ°λ³Έκ°’: 0)
- β… `tower_count: towerCount` ν•„λ“κ°€ upsertμ— ν¬ν•¨λ¨
- β… ν•¨μ μ‹κ·Έλ‹μ²: `updateLeaderboard(nickname, totalAssets, playTimeMs, towerCount = 0)`

#### `getLeaderboard` ν•¨μ
- β… `tower_count` μ»¬λΌμ„ SELECTμ— ν¬ν•¨
- β… ν”„λ μ¤ν‹°μ§€ μμ„ μ •λ ¬: `tower_count DESC, total_assets DESC`
- β… λ°ν™ λ°μ΄ν„°μ— `tower_count` ν¬ν•¨

#### `getMyRank` ν•¨μ
- β… λ°ν™ λ°μ΄ν„°μ— `tower_count: row.tower_count || 0` ν¬ν•¨

---

### 2. `seoulsurvival/src/main.js` - νƒ€μ› κ°μ μ „λ‹¬

#### νƒ€μ› κµ¬λ§¤ μ‹ λ¦¬λ”λ³΄λ“ μ—…λ°μ΄νΈ
- β… `updateLeaderboard(playerNickname, totalAssets, totalPlayTimeMs, towers)` νΈμ¶
- β… νƒ€μ› κ°μ(`towers`) μ „λ‹¬ ν™•μΈ (5234μ¤„)

#### μΌλ° λ¦¬λ”λ³΄λ“ μ—…λ°μ΄νΈ
- β… `updateLeaderboardEntry()` ν•¨μμ—μ„ `updateLeaderboard(..., towers)` νΈμ¶
- β… νƒ€μ› κ°μ μ „λ‹¬ ν™•μΈ (6532μ¤„)

---

### 3. λ¦¬λ”λ³΄λ“ UI - νƒ€μ› κ°μ ν‘μ‹

#### λ¦¬λ”λ³΄λ“ ν…μ΄λΈ”
- β… λ‹‰λ„¤μ„ μ…€μ— νƒ€μ› μ΄λ¨μ§€ ν‘μ‹ λ΅μ§ μ¶”κ°€
- β… `towerCount > 0`μΌ λ•: `λ‹‰λ„¤μ„ π—Ό` λλ” `λ‹‰λ„¤μ„ π—Όx3` ν•νƒλ΅ ν‘μ‹
- β… `towerCount === 0`μΌ λ•: λ‹‰λ„¤μ„λ§ ν‘μ‹

#### λ‚΄ μμ„ μμ—­ (Top10 μ•)
- β… `myEntry.tower_count`λ¥Ό μ‚¬μ©ν•μ—¬ νƒ€μ› μ΄λ¨μ§€ ν‘μ‹
- β… `displayName` λ³€μμ— νƒ€μ› μ΄λ¨μ§€ ν¬ν•¨

#### λ‚΄ μμ„ μμ—­ (Top10 λ°–)
- β… `getMyRank` κ²°κ³Όμ `tower_count`λ¥Ό μ‚¬μ©ν•μ—¬ νƒ€μ› μ΄λ¨μ§€ ν‘μ‹
- β… `displayName` λ³€μμ— νƒ€μ› μ΄λ¨μ§€ ν¬ν•¨

---

## π“ μ½”λ“ κ²€μ¦ κ²°κ³Ό

### ν•¨μ νΈμ¶ μ§€μ  ν™•μΈ

| μ„μΉ | ν•¨μ νΈμ¶ | νƒ€μ› κ°μ μ „λ‹¬ | μƒνƒ |
|------|-----------|----------------|------|
| νƒ€μ› κµ¬λ§¤ μ‹ | `updateLeaderboard(..., towers)` | β… | μ™„λ£ |
| μΌλ° μ—…λ°μ΄νΈ | `updateLeaderboardEntry()` β†’ `updateLeaderboard(..., towers)` | β… | μ™„λ£ |

### λ¦¬λ”λ³΄λ“ UI ν‘μ‹ ν™•μΈ

| μ„μΉ | νƒ€μ› κ°μ ν‘μ‹ | μƒνƒ |
|------|----------------|------|
| λ¦¬λ”λ³΄λ“ ν…μ΄λΈ” λ‹‰λ„¤μ„ | `entry.tower_count` μ‚¬μ© | β… μ™„λ£ |
| λ‚΄ μμ„ (Top10 μ•) | `myEntry.tower_count` μ‚¬μ© | β… μ™„λ£ |
| λ‚΄ μμ„ (Top10 λ°–) | `me.tower_count` μ‚¬μ© | β… μ™„λ£ |

---

## β… κ²€μ¦ μ™„λ£

### 1. λ¦¬λ”λ³΄λ“ ν•¨μ
- β… `shared/leaderboard.js`κ°€ git μ›λ³Έ λ²„μ „μΌλ΅ λ³µμ›λ¨
- β… `updateLeaderboard` ν•¨μκ°€ `towerCount` νλΌλ―Έν„°λ¥Ό λ°›μ
- β… `getLeaderboard` ν•¨μκ°€ `tower_count`λ¥Ό μ΅°νν•κ³  ν”„λ μ¤ν‹°μ§€ μμ„ μ •λ ¬ μ‚¬μ©
- β… `getMyRank` ν•¨μκ°€ `tower_count`λ¥Ό λ°ν™

### 2. νƒ€μ› κ°μ μ „λ‹¬
- β… νƒ€μ› κµ¬λ§¤ μ‹ `towers` μ „λ‹¬
- β… μΌλ° μ—…λ°μ΄νΈ μ‹ `towers` μ „λ‹¬

### 3. λ¦¬λ”λ³΄λ“ UI
- β… λ¦¬λ”λ³΄λ“ ν…μ΄λΈ”μ— νƒ€μ› μ΄λ¨μ§€ ν‘μ‹
- β… λ‚΄ μμ„ μμ—­μ— νƒ€μ› μ΄λ¨μ§€ ν‘μ‹

---

## π“ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤

### μ‹λ‚λ¦¬μ¤ 1: νƒ€μ› κµ¬λ§¤ ν›„ λ¦¬λ”λ³΄λ“ ν™•μΈ
1. μ„μΈνƒ€μ› κµ¬λ§¤
2. λ¦¬λ”λ³΄λ“ νƒ­ μ—΄κΈ°
3. μμ‹ μ λ‹‰λ„¤μ„ μ†μ— `π—Ό` λλ” `π—Όx1` ν‘μ‹ ν™•μΈ
4. λ‹¤λ¥Έ ν”λ μ΄μ–΄μ νƒ€μ› κ°μλ„ ν‘μ‹λλ”μ§€ ν™•μΈ

### μ‹λ‚λ¦¬μ¤ 2: ν”„λ μ¤ν‹°μ§€ μμ„ ν™•μΈ
1. νƒ€μ› 1κ° κµ¬λ§¤ν• κ³„μ •
2. νƒ€μ› 0κ°, μμ‚° 200μ΅°μ›μΈ κ³„μ •
3. λ¦¬λ”λ³΄λ“μ—μ„ νƒ€μ› 1κ°μΈ κ³„μ •μ΄ μ„μ— ν‘μ‹λλ”μ§€ ν™•μΈ

### μ‹λ‚λ¦¬μ¤ 3: νƒ€μ› κ°μ λ„μ  ν™•μΈ
1. νƒ€μ› 1κ° κµ¬λ§¤ β†’ κ²μ„ λ¦¬μ…‹
2. λ‹¤μ‹ νƒ€μ› 1κ° κµ¬λ§¤
3. λ¦¬λ”λ³΄λ“μ— `π—Όx2`λ΅ ν‘μ‹λλ”μ§€ ν™•μΈ

---

## β… κ²°λ΅ 

λ¦¬λ”λ³΄λ“κ°€ git μ›λ³Έ λ²„μ „μΌλ΅ μ„±κ³µμ μΌλ΅ λ°μλμ—μµλ‹λ‹¤.

- β… `shared/leaderboard.js`: git μ›λ³Έ λ²„μ „ λ³µμ› μ™„λ£
- β… `seoulsurvival/src/main.js`: νƒ€μ› κ°μ μ „λ‹¬ λ° UI ν‘μ‹ μ™„λ£
- β… λ¦¬λ”λ³΄λ“ UI: νƒ€μ› μ΄λ¨μ§€ ν‘μ‹ μ™„λ£

**λ¨λ“  κΈ°λ¥μ΄ μ •μƒμ μΌλ΅ λ°μλμ—μµλ‹λ‹¤.**

---

**λ§μ§€λ§‰ μ—…λ°μ΄νΈ**: 2024λ…„ (λ¦¬λ”λ³΄λ“ λ³µμ› ν›„)





